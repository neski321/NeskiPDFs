var g2=Object.defineProperty;var lA=n=>{throw TypeError(n)};var v2=(n,e,t)=>e in n?g2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var V=(n,e,t)=>v2(n,typeof e!="symbol"?e+"":e,t),Cw=(n,e,t)=>e.has(n)||lA("Cannot "+t);var a=(n,e,t)=>(Cw(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?lA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),v=(n,e,t,i)=>(Cw(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),k=(n,e,t)=>(Cw(n,e,"access private method"),t);var yt=(n,e,t,i)=>({set _(r){v(n,e,r,t)},get _(){return a(n,e,i)}});function y2(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Ex(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cT={exports:{}},Ax={},uT={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg=Symbol.for("react.element"),x2=Symbol.for("react.portal"),w2=Symbol.for("react.fragment"),b2=Symbol.for("react.strict_mode"),S2=Symbol.for("react.profiler"),E2=Symbol.for("react.provider"),A2=Symbol.for("react.context"),C2=Symbol.for("react.forward_ref"),k2=Symbol.for("react.suspense"),T2=Symbol.for("react.memo"),_2=Symbol.for("react.lazy"),cA=Symbol.iterator;function P2(n){return n===null||typeof n!="object"?null:(n=cA&&n[cA]||n["@@iterator"],typeof n=="function"?n:null)}var dT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hT=Object.assign,fT={};function Yh(n,e,t){this.props=n,this.context=e,this.refs=fT,this.updater=t||dT}Yh.prototype.isReactComponent={};Yh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Yh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function pT(){}pT.prototype=Yh.prototype;function l1(n,e,t){this.props=n,this.context=e,this.refs=fT,this.updater=t||dT}var c1=l1.prototype=new pT;c1.constructor=l1;hT(c1,Yh.prototype);c1.isPureReactComponent=!0;var uA=Array.isArray,mT=Object.prototype.hasOwnProperty,u1={current:null},gT={key:!0,ref:!0,__self:!0,__source:!0};function vT(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mT.call(e,i)&&!gT.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:gg,type:n,key:s,ref:o,props:r,_owner:u1.current}}function R2(n,e){return{$$typeof:gg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function d1(n){return typeof n=="object"&&n!==null&&n.$$typeof===gg}function D2(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var dA=/\/+/g;function kw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?D2(""+n.key):e.toString(36)}function mv(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case gg:case x2:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+kw(o,0):i,uA(r)?(t="",n!=null&&(t=n.replace(dA,"$&/")+"/"),mv(r,e,t,"",function(u){return u})):r!=null&&(d1(r)&&(r=R2(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(dA,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",uA(n))for(var l=0;l<n.length;l++){s=n[l];var c=i+kw(s,l);o+=mv(s,e,t,c,r)}else if(c=P2(n),typeof c=="function")for(n=c.call(n),l=0;!(s=n.next()).done;)s=s.value,c=i+kw(s,l++),o+=mv(s,e,t,c,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lg(n,e,t){if(n==null)return n;var i=[],r=0;return mv(n,i,"","",function(s){return e.call(t,s,r++)}),i}function M2(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Un={current:null},gv={transition:null},L2={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:gv,ReactCurrentOwner:u1};function yT(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Lg,forEach:function(n,e,t){Lg(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Lg(n,function(){e++}),e},toArray:function(n){return Lg(n,function(e){return e})||[]},only:function(n){if(!d1(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};we.Component=Yh;we.Fragment=w2;we.Profiler=S2;we.PureComponent=l1;we.StrictMode=b2;we.Suspense=k2;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;we.act=yT;we.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=hT({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u1.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)mT.call(e,c)&&!gT.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:gg,type:n.type,key:r,ref:s,props:i,_owner:o}};we.createContext=function(n){return n={$$typeof:A2,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:E2,_context:n},n.Consumer=n};we.createElement=vT;we.createFactory=function(n){var e=vT.bind(null,n);return e.type=n,e};we.createRef=function(){return{current:null}};we.forwardRef=function(n){return{$$typeof:C2,render:n}};we.isValidElement=d1;we.lazy=function(n){return{$$typeof:_2,_payload:{_status:-1,_result:n},_init:M2}};we.memo=function(n,e){return{$$typeof:T2,type:n,compare:e===void 0?null:e}};we.startTransition=function(n){var e=gv.transition;gv.transition={};try{n()}finally{gv.transition=e}};we.unstable_act=yT;we.useCallback=function(n,e){return Un.current.useCallback(n,e)};we.useContext=function(n){return Un.current.useContext(n)};we.useDebugValue=function(){};we.useDeferredValue=function(n){return Un.current.useDeferredValue(n)};we.useEffect=function(n,e){return Un.current.useEffect(n,e)};we.useId=function(){return Un.current.useId()};we.useImperativeHandle=function(n,e,t){return Un.current.useImperativeHandle(n,e,t)};we.useInsertionEffect=function(n,e){return Un.current.useInsertionEffect(n,e)};we.useLayoutEffect=function(n,e){return Un.current.useLayoutEffect(n,e)};we.useMemo=function(n,e){return Un.current.useMemo(n,e)};we.useReducer=function(n,e,t){return Un.current.useReducer(n,e,t)};we.useRef=function(n){return Un.current.useRef(n)};we.useState=function(n){return Un.current.useState(n)};we.useSyncExternalStore=function(n,e,t){return Un.current.useSyncExternalStore(n,e,t)};we.useTransition=function(){return Un.current.useTransition()};we.version="18.3.1";uT.exports=we;var E=uT.exports;const Ns=Ex(E),xT=y2({__proto__:null,default:Ns},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2=E,F2=Symbol.for("react.element"),I2=Symbol.for("react.fragment"),O2=Object.prototype.hasOwnProperty,j2=N2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B2={key:!0,ref:!0,__self:!0,__source:!0};function wT(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)O2.call(e,i)&&!B2.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:F2,type:n,key:s,ref:o,props:r,_owner:j2.current}}Ax.Fragment=I2;Ax.jsx=wT;Ax.jsxs=wT;cT.exports=Ax;var C=cT.exports,bT={exports:{}},Oi={},ST={exports:{}},ET={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(M,I){var W=M.length;M.push(I);e:for(;0<W;){var q=W-1>>>1,B=M[q];if(0<r(B,I))M[q]=I,M[W]=B,W=q;else break e}}function t(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var I=M[0],W=M.pop();if(W!==I){M[0]=W;e:for(var q=0,B=M.length,H=B>>>1;q<H;){var Y=2*(q+1)-1,oe=M[Y],ae=Y+1,ve=M[ae];if(0>r(oe,W))ae<B&&0>r(ve,oe)?(M[q]=ve,M[ae]=W,q=ae):(M[q]=oe,M[Y]=W,q=Y);else if(ae<B&&0>r(ve,W))M[q]=ve,M[ae]=W,q=ae;else break e}}return I}function r(M,I){var W=M.sortIndex-I.sortIndex;return W!==0?W:M.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var I=t(u);I!==null;){if(I.callback===null)i(u);else if(I.startTime<=M)i(u),I.sortIndex=I.expirationTime,e(c,I);else break;I=t(u)}}function A(M){if(m=!1,b(M),!y)if(t(c)!==null)y=!0,O(T);else{var I=t(u);I!==null&&z(A,I.startTime-M)}}function T(M,I){y=!1,m&&(m=!1,g(R),R=-1),p=!0;var W=f;try{for(b(I),h=t(c);h!==null&&(!(h.expirationTime>I)||M&&!F());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var B=q(h.expirationTime<=I);I=n.unstable_now(),typeof B=="function"?h.callback=B:h===t(c)&&i(c),b(I)}else i(c);h=t(c)}if(h!==null)var H=!0;else{var Y=t(u);Y!==null&&z(A,Y.startTime-I),H=!1}return H}finally{h=null,f=W,p=!1}}var _=!1,P=null,R=-1,D=5,L=-1;function F(){return!(n.unstable_now()-L<D)}function j(){if(P!==null){var M=n.unstable_now();L=M;var I=!0;try{I=P(!0,M)}finally{I?$():(_=!1,P=null)}}else _=!1}var $;if(typeof x=="function")$=function(){x(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=j,$=function(){U.postMessage(null)}}else $=function(){w(j,0)};function O(M){P=M,_||(_=!0,$())}function z(M,I){R=w(function(){M(n.unstable_now())},I)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(M){M.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,O(T))},n.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(M){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var W=f;f=I;try{return M()}finally{f=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=f;f=M;try{return I()}finally{f=W}},n.unstable_scheduleCallback=function(M,I,W){var q=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,M){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,M={id:d++,callback:I,priorityLevel:M,startTime:W,expirationTime:B,sortIndex:-1},W>q?(M.sortIndex=W,e(u,M),t(c)===null&&M===t(u)&&(m?(g(R),R=-1):m=!0,z(A,W-q))):(M.sortIndex=B,e(c,M),y||p||(y=!0,O(T))),M},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(M){var I=f;return function(){var W=f;f=I;try{return M.apply(this,arguments)}finally{f=W}}}})(ET);ST.exports=ET;var z2=ST.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=E,Fi=z2;function G(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AT=new Set,ip={};function ru(n,e){Fh(n,e),Fh(n+"Capture",e)}function Fh(n,e){for(ip[n]=e,n=0;n<e.length;n++)AT.add(e[n])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ab=Object.prototype.hasOwnProperty,U2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hA={},fA={};function H2(n){return Ab.call(fA,n)?!0:Ab.call(hA,n)?!1:U2.test(n)?fA[n]=!0:(hA[n]=!0,!1)}function V2(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function W2(n,e,t,i){if(e===null||typeof e>"u"||V2(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){pn[n]=new Hn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];pn[e]=new Hn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){pn[n]=new Hn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){pn[n]=new Hn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){pn[n]=new Hn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){pn[n]=new Hn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){pn[n]=new Hn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){pn[n]=new Hn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){pn[n]=new Hn(n,5,!1,n.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function f1(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(h1,f1);pn[e]=new Hn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(h1,f1);pn[e]=new Hn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(h1,f1);pn[e]=new Hn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){pn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!1,!1)});pn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){pn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!0,!0)});function p1(n,e,t,i){var r=pn.hasOwnProperty(e)?pn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W2(e,t,r,i)&&(t=null),i||r===null?H2(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Io=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ng=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Cu=Symbol.for("react.fragment"),m1=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),CT=Symbol.for("react.provider"),kT=Symbol.for("react.context"),g1=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Tb=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),TT=Symbol.for("react.offscreen"),pA=Symbol.iterator;function of(n){return n===null||typeof n!="object"?null:(n=pA&&n[pA]||n["@@iterator"],typeof n=="function"?n:null)}var mt=Object.assign,Tw;function wf(n){if(Tw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Tw=e&&e[1]||""}return`
`+Tw+n}var _w=!1;function Pw(n,e){if(!n||_w)return"";_w=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var c=`
`+r[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=l);break}}}finally{_w=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?wf(n):""}function G2(n){switch(n.tag){case 5:return wf(n.type);case 16:return wf("Lazy");case 13:return wf("Suspense");case 19:return wf("SuspenseList");case 0:case 2:case 15:return n=Pw(n.type,!1),n;case 11:return n=Pw(n.type.render,!1),n;case 1:return n=Pw(n.type,!0),n;default:return""}}function _b(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Cu:return"Fragment";case Au:return"Portal";case Cb:return"Profiler";case m1:return"StrictMode";case kb:return"Suspense";case Tb:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kT:return(n.displayName||"Context")+".Consumer";case CT:return(n._context.displayName||"Context")+".Provider";case g1:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case v1:return e=n.displayName||null,e!==null?e:_b(n.type)||"Memo";case Vo:e=n._payload,n=n._init;try{return _b(n(e))}catch{}}return null}function q2(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _b(e);case 8:return e===m1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function rl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _T(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X2(n){var e=_T(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Fg(n){n._valueTracker||(n._valueTracker=X2(n))}function PT(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=_T(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function dy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Pb(n,e){var t=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function mA(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=rl(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RT(n,e){e=e.checked,e!=null&&p1(n,"checked",e,!1)}function Rb(n,e){RT(n,e);var t=rl(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Db(n,e.type,t):e.hasOwnProperty("defaultValue")&&Db(n,e.type,rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function gA(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Db(n,e,t){(e!=="number"||dy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bf=Array.isArray;function $u(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+rl(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Mb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function vA(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(G(92));if(bf(t)){if(1<t.length)throw Error(G(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:rl(t)}}function DT(n,e){var t=rl(e.value),i=rl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function yA(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function MT(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lb(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?MT(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ig,LT=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ig=Ig||document.createElement("div"),Ig.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ig.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rp(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K2=["Webkit","ms","Moz","O"];Object.keys(Wf).forEach(function(n){K2.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Wf[e]=Wf[n]})});function NT(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Wf.hasOwnProperty(n)&&Wf[n]?(""+e).trim():e+"px"}function FT(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=NT(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Y2=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nb(n,e){if(e){if(Y2[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Fb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=null;function y1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ob=null,Uu=null,Hu=null;function xA(n){if(n=xg(n)){if(typeof Ob!="function")throw Error(G(280));var e=n.stateNode;e&&(e=Px(e),Ob(n.stateNode,n.type,e))}}function IT(n){Uu?Hu?Hu.push(n):Hu=[n]:Uu=n}function OT(){if(Uu){var n=Uu,e=Hu;if(Hu=Uu=null,xA(n),e)for(n=0;n<e.length;n++)xA(e[n])}}function jT(n,e){return n(e)}function BT(){}var Rw=!1;function zT(n,e,t){if(Rw)return n(e,t);Rw=!0;try{return jT(n,e,t)}finally{Rw=!1,(Uu!==null||Hu!==null)&&(BT(),OT())}}function sp(n,e){var t=n.stateNode;if(t===null)return null;var i=Px(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(G(231,e,typeof t));return t}var jb=!1;if(Co)try{var af={};Object.defineProperty(af,"passive",{get:function(){jb=!0}}),window.addEventListener("test",af,af),window.removeEventListener("test",af,af)}catch{jb=!1}function Q2(n,e,t,i,r,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Gf=!1,hy=null,fy=!1,Bb=null,Z2={onError:function(n){Gf=!0,hy=n}};function J2(n,e,t,i,r,s,o,l,c){Gf=!1,hy=null,Q2.apply(Z2,arguments)}function eF(n,e,t,i,r,s,o,l,c){if(J2.apply(this,arguments),Gf){if(Gf){var u=hy;Gf=!1,hy=null}else throw Error(G(198));fy||(fy=!0,Bb=u)}}function su(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function $T(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function wA(n){if(su(n)!==n)throw Error(G(188))}function tF(n){var e=n.alternate;if(!e){if(e=su(n),e===null)throw Error(G(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return wA(r),n;if(s===i)return wA(r),e;s=s.sibling}throw Error(G(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===t){o=!0,t=r,i=s;break}if(l===i){o=!0,i=r,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,i=r;break}if(l===i){o=!0,i=s,t=r;break}l=l.sibling}if(!o)throw Error(G(189))}}if(t.alternate!==i)throw Error(G(190))}if(t.tag!==3)throw Error(G(188));return t.stateNode.current===t?n:e}function UT(n){return n=tF(n),n!==null?HT(n):null}function HT(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=HT(n);if(e!==null)return e;n=n.sibling}return null}var VT=Fi.unstable_scheduleCallback,bA=Fi.unstable_cancelCallback,nF=Fi.unstable_shouldYield,iF=Fi.unstable_requestPaint,Rt=Fi.unstable_now,rF=Fi.unstable_getCurrentPriorityLevel,x1=Fi.unstable_ImmediatePriority,WT=Fi.unstable_UserBlockingPriority,py=Fi.unstable_NormalPriority,sF=Fi.unstable_LowPriority,GT=Fi.unstable_IdlePriority,Cx=null,Ss=null;function oF(n){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Cx,n,void 0,(n.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:cF,aF=Math.log,lF=Math.LN2;function cF(n){return n>>>=0,n===0?32:31-(aF(n)/lF|0)|0}var Og=64,jg=4194304;function Sf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function my(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~r;l!==0?i=Sf(l):(s&=o,s!==0&&(i=Sf(s)))}else o=t&~r,o!==0?i=Sf(o):s!==0&&(i=Sf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Dr(e),r=1<<t,i|=n[t],e&=~r;return i}function uF(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dF(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Dr(s),l=1<<o,c=r[o];c===-1?(!(l&t)||l&i)&&(r[o]=uF(l,e)):c<=e&&(n.expiredLanes|=l),s&=~l}}function zb(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qT(){var n=Og;return Og<<=1,!(Og&4194240)&&(Og=64),n}function Dw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function vg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Dr(e),n[e]=t}function hF(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Dr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function w1(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Dr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Ne=0;function XT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var KT,b1,YT,QT,ZT,$b=!1,Bg=[],Ka=null,Ya=null,Qa=null,op=new Map,ap=new Map,Go=[],fF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SA(n,e){switch(n){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":op.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(e.pointerId)}}function lf(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=xg(e),e!==null&&b1(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function pF(n,e,t,i,r){switch(e){case"focusin":return Ka=lf(Ka,n,e,t,i,r),!0;case"dragenter":return Ya=lf(Ya,n,e,t,i,r),!0;case"mouseover":return Qa=lf(Qa,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return op.set(s,lf(op.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ap.set(s,lf(ap.get(s)||null,n,e,t,i,r)),!0}return!1}function JT(n){var e=Tl(n.target);if(e!==null){var t=su(e);if(t!==null){if(e=t.tag,e===13){if(e=$T(t),e!==null){n.blockedOn=e,ZT(n.priority,function(){YT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Ub(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Ib=i,t.target.dispatchEvent(i),Ib=null}else return e=xg(t),e!==null&&b1(e),n.blockedOn=t,!1;e.shift()}return!0}function EA(n,e,t){vv(n)&&t.delete(e)}function mF(){$b=!1,Ka!==null&&vv(Ka)&&(Ka=null),Ya!==null&&vv(Ya)&&(Ya=null),Qa!==null&&vv(Qa)&&(Qa=null),op.forEach(EA),ap.forEach(EA)}function cf(n,e){n.blockedOn===e&&(n.blockedOn=null,$b||($b=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,mF)))}function lp(n){function e(r){return cf(r,n)}if(0<Bg.length){cf(Bg[0],n);for(var t=1;t<Bg.length;t++){var i=Bg[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ka!==null&&cf(Ka,n),Ya!==null&&cf(Ya,n),Qa!==null&&cf(Qa,n),op.forEach(e),ap.forEach(e),t=0;t<Go.length;t++)i=Go[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Go.length&&(t=Go[0],t.blockedOn===null);)JT(t),t.blockedOn===null&&Go.shift()}var Vu=Io.ReactCurrentBatchConfig,gy=!0;function gF(n,e,t,i){var r=Ne,s=Vu.transition;Vu.transition=null;try{Ne=1,S1(n,e,t,i)}finally{Ne=r,Vu.transition=s}}function vF(n,e,t,i){var r=Ne,s=Vu.transition;Vu.transition=null;try{Ne=4,S1(n,e,t,i)}finally{Ne=r,Vu.transition=s}}function S1(n,e,t,i){if(gy){var r=Ub(n,e,t,i);if(r===null)$w(n,e,i,vy,t),SA(n,i);else if(pF(r,n,e,t,i))i.stopPropagation();else if(SA(n,i),e&4&&-1<fF.indexOf(n)){for(;r!==null;){var s=xg(r);if(s!==null&&KT(s),s=Ub(n,e,t,i),s===null&&$w(n,e,i,vy,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else $w(n,e,i,null,t)}}var vy=null;function Ub(n,e,t,i){if(vy=null,n=y1(i),n=Tl(n),n!==null)if(e=su(n),e===null)n=null;else if(t=e.tag,t===13){if(n=$T(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return vy=n,null}function e_(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rF()){case x1:return 1;case WT:return 4;case py:case sF:return 16;case GT:return 536870912;default:return 16}default:return 16}}var qa=null,E1=null,yv=null;function t_(){if(yv)return yv;var n,e=E1,t=e.length,i,r="value"in qa?qa.value:qa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return yv=r.slice(n,1<i?1-i:void 0)}function xv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function zg(){return!0}function AA(){return!1}function ji(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zg:AA,this.isPropagationStopped=AA,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=zg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=zg)},persist:function(){},isPersistent:zg}),e}var Qh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A1=ji(Qh),yg=mt({},Qh,{view:0,detail:0}),yF=ji(yg),Mw,Lw,uf,kx=mt({},yg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==uf&&(uf&&n.type==="mousemove"?(Mw=n.screenX-uf.screenX,Lw=n.screenY-uf.screenY):Lw=Mw=0,uf=n),Mw)},movementY:function(n){return"movementY"in n?n.movementY:Lw}}),CA=ji(kx),xF=mt({},kx,{dataTransfer:0}),wF=ji(xF),bF=mt({},yg,{relatedTarget:0}),Nw=ji(bF),SF=mt({},Qh,{animationName:0,elapsedTime:0,pseudoElement:0}),EF=ji(SF),AF=mt({},Qh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CF=ji(AF),kF=mt({},Qh,{data:0}),kA=ji(kF),TF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RF(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PF[n])?!!e[n]:!1}function C1(){return RF}var DF=mt({},yg,{key:function(n){if(n.key){var e=TF[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=xv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_F[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C1,charCode:function(n){return n.type==="keypress"?xv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),MF=ji(DF),LF=mt({},kx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TA=ji(LF),NF=mt({},yg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C1}),FF=ji(NF),IF=mt({},Qh,{propertyName:0,elapsedTime:0,pseudoElement:0}),OF=ji(IF),jF=mt({},kx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BF=ji(jF),zF=[9,13,27,32],k1=Co&&"CompositionEvent"in window,qf=null;Co&&"documentMode"in document&&(qf=document.documentMode);var $F=Co&&"TextEvent"in window&&!qf,n_=Co&&(!k1||qf&&8<qf&&11>=qf),_A=" ",PA=!1;function i_(n,e){switch(n){case"keyup":return zF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ku=!1;function UF(n,e){switch(n){case"compositionend":return r_(e);case"keypress":return e.which!==32?null:(PA=!0,_A);case"textInput":return n=e.data,n===_A&&PA?null:n;default:return null}}function HF(n,e){if(ku)return n==="compositionend"||!k1&&i_(n,e)?(n=t_(),yv=E1=qa=null,ku=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n_&&e.locale!=="ko"?null:e.data;default:return null}}var VF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!VF[n.type]:e==="textarea"}function s_(n,e,t,i){IT(i),e=yy(e,"onChange"),0<e.length&&(t=new A1("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Xf=null,cp=null;function WF(n){g_(n,0)}function Tx(n){var e=Pu(n);if(PT(e))return n}function GF(n,e){if(n==="change")return e}var o_=!1;if(Co){var Fw;if(Co){var Iw="oninput"in document;if(!Iw){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),Iw=typeof DA.oninput=="function"}Fw=Iw}else Fw=!1;o_=Fw&&(!document.documentMode||9<document.documentMode)}function MA(){Xf&&(Xf.detachEvent("onpropertychange",a_),cp=Xf=null)}function a_(n){if(n.propertyName==="value"&&Tx(cp)){var e=[];s_(e,cp,n,y1(n)),zT(WF,e)}}function qF(n,e,t){n==="focusin"?(MA(),Xf=e,cp=t,Xf.attachEvent("onpropertychange",a_)):n==="focusout"&&MA()}function XF(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tx(cp)}function KF(n,e){if(n==="click")return Tx(e)}function YF(n,e){if(n==="input"||n==="change")return Tx(e)}function QF(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Lr=typeof Object.is=="function"?Object.is:QF;function up(n,e){if(Lr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Ab.call(e,r)||!Lr(n[r],e[r]))return!1}return!0}function LA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function NA(n,e){var t=LA(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=LA(t)}}function l_(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?l_(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function c_(){for(var n=window,e=dy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dy(n.document)}return e}function T1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZF(n){var e=c_(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&l_(t.ownerDocument.documentElement,t)){if(i!==null&&T1(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=NA(t,s);var o=NA(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JF=Co&&"documentMode"in document&&11>=document.documentMode,Tu=null,Hb=null,Kf=null,Vb=!1;function FA(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Vb||Tu==null||Tu!==dy(i)||(i=Tu,"selectionStart"in i&&T1(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Kf&&up(Kf,i)||(Kf=i,i=yy(Hb,"onSelect"),0<i.length&&(e=new A1("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Tu)))}function $g(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _u={animationend:$g("Animation","AnimationEnd"),animationiteration:$g("Animation","AnimationIteration"),animationstart:$g("Animation","AnimationStart"),transitionend:$g("Transition","TransitionEnd")},Ow={},u_={};Co&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete _u.animationend.animation,delete _u.animationiteration.animation,delete _u.animationstart.animation),"TransitionEvent"in window||delete _u.transitionend.transition);function _x(n){if(Ow[n])return Ow[n];if(!_u[n])return n;var e=_u[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in u_)return Ow[n]=e[t];return n}var d_=_x("animationend"),h_=_x("animationiteration"),f_=_x("animationstart"),p_=_x("transitionend"),m_=new Map,IA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fl(n,e){m_.set(n,e),ru(e,[n])}for(var jw=0;jw<IA.length;jw++){var Bw=IA[jw],eI=Bw.toLowerCase(),tI=Bw[0].toUpperCase()+Bw.slice(1);fl(eI,"on"+tI)}fl(d_,"onAnimationEnd");fl(h_,"onAnimationIteration");fl(f_,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(p_,"onTransitionEnd");Fh("onMouseEnter",["mouseout","mouseover"]);Fh("onMouseLeave",["mouseout","mouseover"]);Fh("onPointerEnter",["pointerout","pointerover"]);Fh("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function OA(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,eF(i,e,void 0,n),n.currentTarget=null}function g_(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&r.isPropagationStopped())break e;OA(r,l,u),s=c}else for(o=0;o<i.length;o++){if(l=i[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&r.isPropagationStopped())break e;OA(r,l,u),s=c}}}if(fy)throw n=Bb,fy=!1,Bb=null,n}function Ze(n,e){var t=e[Kb];t===void 0&&(t=e[Kb]=new Set);var i=n+"__bubble";t.has(i)||(v_(e,n,2,!1),t.add(i))}function zw(n,e,t){var i=0;e&&(i|=4),v_(t,n,i,e)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function dp(n){if(!n[Ug]){n[Ug]=!0,AT.forEach(function(t){t!=="selectionchange"&&(nI.has(t)||zw(t,!1,n),zw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ug]||(e[Ug]=!0,zw("selectionchange",!1,e))}}function v_(n,e,t,i){switch(e_(e)){case 1:var r=gF;break;case 4:r=vF;break;default:r=S1}t=r.bind(null,e,t,n),r=void 0,!jb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function $w(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Tl(l),o===null)return;if(c=o.tag,c===5||c===6){i=s=o;continue e}l=l.parentNode}}i=i.return}zT(function(){var u=s,d=y1(t),h=[];e:{var f=m_.get(n);if(f!==void 0){var p=A1,y=n;switch(n){case"keypress":if(xv(t)===0)break e;case"keydown":case"keyup":p=MF;break;case"focusin":y="focus",p=Nw;break;case"focusout":y="blur",p=Nw;break;case"beforeblur":case"afterblur":p=Nw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=FF;break;case d_:case h_:case f_:p=EF;break;case p_:p=OF;break;case"scroll":p=yF;break;case"wheel":p=BF;break;case"copy":case"cut":case"paste":p=CF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TA}var m=(e&4)!==0,w=!m&&n==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var x=u,b;x!==null;){b=x;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,g!==null&&(A=sp(x,g),A!=null&&m.push(hp(x,A,b)))),w)break;x=x.return}0<m.length&&(f=new p(f,y,null,t,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Ib&&(y=t.relatedTarget||t.fromElement)&&(Tl(y)||y[ko]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=u,y=y?Tl(y):null,y!==null&&(w=su(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=CA,A="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(m=TA,A="onPointerLeave",g="onPointerEnter",x="pointer"),w=p==null?f:Pu(p),b=y==null?f:Pu(y),f=new m(A,x+"leave",p,t,d),f.target=w,f.relatedTarget=b,A=null,Tl(d)===u&&(m=new m(g,x+"enter",y,t,d),m.target=b,m.relatedTarget=w,A=m),w=A,p&&y)t:{for(m=p,g=y,x=0,b=m;b;b=du(b))x++;for(b=0,A=g;A;A=du(A))b++;for(;0<x-b;)m=du(m),x--;for(;0<b-x;)g=du(g),b--;for(;x--;){if(m===g||g!==null&&m===g.alternate)break t;m=du(m),g=du(g)}m=null}else m=null;p!==null&&jA(h,f,p,m,!1),y!==null&&w!==null&&jA(h,w,y,m,!0)}}e:{if(f=u?Pu(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=GF;else if(RA(f))if(o_)T=YF;else{T=XF;var _=qF}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=KF);if(T&&(T=T(n,u))){s_(h,T,t,d);break e}_&&_(n,f,u),n==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Db(f,"number",f.value)}switch(_=u?Pu(u):window,n){case"focusin":(RA(_)||_.contentEditable==="true")&&(Tu=_,Hb=u,Kf=null);break;case"focusout":Kf=Hb=Tu=null;break;case"mousedown":Vb=!0;break;case"contextmenu":case"mouseup":case"dragend":Vb=!1,FA(h,t,d);break;case"selectionchange":if(JF)break;case"keydown":case"keyup":FA(h,t,d)}var P;if(k1)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ku?i_(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(n_&&t.locale!=="ko"&&(ku||R!=="onCompositionStart"?R==="onCompositionEnd"&&ku&&(P=t_()):(qa=d,E1="value"in qa?qa.value:qa.textContent,ku=!0)),_=yy(u,R),0<_.length&&(R=new kA(R,n,null,t,d),h.push({event:R,listeners:_}),P?R.data=P:(P=r_(t),P!==null&&(R.data=P)))),(P=$F?UF(n,t):HF(n,t))&&(u=yy(u,"onBeforeInput"),0<u.length&&(d=new kA("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=P))}g_(h,e)})}function hp(n,e,t){return{instance:n,listener:e,currentTarget:t}}function yy(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=sp(n,t),s!=null&&i.unshift(hp(n,s,r)),s=sp(n,e),s!=null&&i.push(hp(n,s,r))),n=n.return}return i}function du(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function jA(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var l=t,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,r?(c=sp(t,s),c!=null&&o.unshift(hp(t,c,l))):r||(c=sp(t,s),c!=null&&o.push(hp(t,c,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var iI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function BA(n){return(typeof n=="string"?n:""+n).replace(iI,`
`).replace(rI,"")}function Hg(n,e,t){if(e=BA(e),BA(n)!==e&&t)throw Error(G(425))}function xy(){}var Wb=null,Gb=null;function qb(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xb=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,zA=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof zA<"u"?function(n){return zA.resolve(null).then(n).catch(aI)}:Xb;function aI(n){setTimeout(function(){throw n})}function Uw(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),lp(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);lp(e)}function Za(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function $A(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Zh=Math.random().toString(36).slice(2),ys="__reactFiber$"+Zh,fp="__reactProps$"+Zh,ko="__reactContainer$"+Zh,Kb="__reactEvents$"+Zh,lI="__reactListeners$"+Zh,cI="__reactHandles$"+Zh;function Tl(n){var e=n[ys];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ko]||t[ys]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=$A(n);n!==null;){if(t=n[ys])return t;n=$A(n)}return e}n=t,t=n.parentNode}return null}function xg(n){return n=n[ys]||n[ko],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Pu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(G(33))}function Px(n){return n[fp]||null}var Yb=[],Ru=-1;function pl(n){return{current:n}}function et(n){0>Ru||(n.current=Yb[Ru],Yb[Ru]=null,Ru--)}function Ke(n,e){Ru++,Yb[Ru]=n.current,n.current=e}var sl={},_n=pl(sl),ii=pl(!1),Xc=sl;function Ih(n,e){var t=n.type.contextTypes;if(!t)return sl;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function ri(n){return n=n.childContextTypes,n!=null}function wy(){et(ii),et(_n)}function UA(n,e,t){if(_n.current!==sl)throw Error(G(168));Ke(_n,e),Ke(ii,t)}function y_(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(G(108,q2(n)||"Unknown",r));return mt({},t,i)}function by(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sl,Xc=_n.current,Ke(_n,n),Ke(ii,ii.current),!0}function HA(n,e,t){var i=n.stateNode;if(!i)throw Error(G(169));t?(n=y_(n,e,Xc),i.__reactInternalMemoizedMergedChildContext=n,et(ii),et(_n),Ke(_n,n)):et(ii),Ke(ii,t)}var js=null,Rx=!1,Hw=!1;function x_(n){js===null?js=[n]:js.push(n)}function uI(n){Rx=!0,x_(n)}function ml(){if(!Hw&&js!==null){Hw=!0;var n=0,e=Ne;try{var t=js;for(Ne=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}js=null,Rx=!1}catch(r){throw js!==null&&(js=js.slice(n+1)),VT(x1,ml),r}finally{Ne=e,Hw=!1}}return null}var Du=[],Mu=0,Sy=null,Ey=0,Ji=[],er=0,Kc=null,wo=1,bo="";function vl(n,e){Du[Mu++]=Ey,Du[Mu++]=Sy,Sy=n,Ey=e}function w_(n,e,t){Ji[er++]=wo,Ji[er++]=bo,Ji[er++]=Kc,Kc=n;var i=wo;n=bo;var r=32-Dr(i)-1;i&=~(1<<r),t+=1;var s=32-Dr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,wo=1<<32-Dr(e)+r|t<<r|i,bo=s+n}else wo=1<<s|t<<r|i,bo=n}function _1(n){n.return!==null&&(vl(n,1),w_(n,1,0))}function P1(n){for(;n===Sy;)Sy=Du[--Mu],Du[Mu]=null,Ey=Du[--Mu],Du[Mu]=null;for(;n===Kc;)Kc=Ji[--er],Ji[er]=null,bo=Ji[--er],Ji[er]=null,wo=Ji[--er],Ji[er]=null}var Mi=null,Di=null,st=!1,Pr=null;function b_(n,e){var t=nr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function VA(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Mi=n,Di=Za(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Mi=n,Di=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Kc!==null?{id:wo,overflow:bo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=nr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Mi=n,Di=null,!0):!1;default:return!1}}function Qb(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zb(n){if(st){var e=Di;if(e){var t=e;if(!VA(n,e)){if(Qb(n))throw Error(G(418));e=Za(t.nextSibling);var i=Mi;e&&VA(n,e)?b_(i,t):(n.flags=n.flags&-4097|2,st=!1,Mi=n)}}else{if(Qb(n))throw Error(G(418));n.flags=n.flags&-4097|2,st=!1,Mi=n}}}function WA(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mi=n}function Vg(n){if(n!==Mi)return!1;if(!st)return WA(n),st=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!qb(n.type,n.memoizedProps)),e&&(e=Di)){if(Qb(n))throw S_(),Error(G(418));for(;e;)b_(n,e),e=Za(e.nextSibling)}if(WA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(G(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Di=Za(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Di=null}}else Di=Mi?Za(n.stateNode.nextSibling):null;return!0}function S_(){for(var n=Di;n;)n=Za(n.nextSibling)}function Oh(){Di=Mi=null,st=!1}function R1(n){Pr===null?Pr=[n]:Pr.push(n)}var dI=Io.ReactCurrentBatchConfig;function df(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(G(309));var i=t.stateNode}if(!i)throw Error(G(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(G(284));if(!t._owner)throw Error(G(290,n))}return n}function Wg(n,e){throw n=Object.prototype.toString.call(e),Error(G(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function GA(n){var e=n._init;return e(n._payload)}function E_(n){function e(g,x){if(n){var b=g.deletions;b===null?(g.deletions=[x],g.flags|=16):b.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function i(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(g,x){return g=nl(g,x),g.index=0,g.sibling=null,g}function s(g,x,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<x?(g.flags|=2,x):b):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function l(g,x,b,A){return x===null||x.tag!==6?(x=Yw(b,g.mode,A),x.return=g,x):(x=r(x,b),x.return=g,x)}function c(g,x,b,A){var T=b.type;return T===Cu?d(g,x,b.props.children,A,b.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vo&&GA(T)===x.type)?(A=r(x,b.props),A.ref=df(g,x,b),A.return=g,A):(A=kv(b.type,b.key,b.props,null,g.mode,A),A.ref=df(g,x,b),A.return=g,A)}function u(g,x,b,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Qw(b,g.mode,A),x.return=g,x):(x=r(x,b.children||[]),x.return=g,x)}function d(g,x,b,A,T){return x===null||x.tag!==7?(x=qc(b,g.mode,A,T),x.return=g,x):(x=r(x,b),x.return=g,x)}function h(g,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Yw(""+x,g.mode,b),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ng:return b=kv(x.type,x.key,x.props,null,g.mode,b),b.ref=df(g,null,x),b.return=g,b;case Au:return x=Qw(x,g.mode,b),x.return=g,x;case Vo:var A=x._init;return h(g,A(x._payload),b)}if(bf(x)||of(x))return x=qc(x,g.mode,b,null),x.return=g,x;Wg(g,x)}return null}function f(g,x,b,A){var T=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:l(g,x,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ng:return b.key===T?c(g,x,b,A):null;case Au:return b.key===T?u(g,x,b,A):null;case Vo:return T=b._init,f(g,x,T(b._payload),A)}if(bf(b)||of(b))return T!==null?null:d(g,x,b,A,null);Wg(g,b)}return null}function p(g,x,b,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(b)||null,l(x,g,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ng:return g=g.get(A.key===null?b:A.key)||null,c(x,g,A,T);case Au:return g=g.get(A.key===null?b:A.key)||null,u(x,g,A,T);case Vo:var _=A._init;return p(g,x,b,_(A._payload),T)}if(bf(A)||of(A))return g=g.get(b)||null,d(x,g,A,T,null);Wg(x,A)}return null}function y(g,x,b,A){for(var T=null,_=null,P=x,R=x=0,D=null;P!==null&&R<b.length;R++){P.index>R?(D=P,P=null):D=P.sibling;var L=f(g,P,b[R],A);if(L===null){P===null&&(P=D);break}n&&P&&L.alternate===null&&e(g,P),x=s(L,x,R),_===null?T=L:_.sibling=L,_=L,P=D}if(R===b.length)return t(g,P),st&&vl(g,R),T;if(P===null){for(;R<b.length;R++)P=h(g,b[R],A),P!==null&&(x=s(P,x,R),_===null?T=P:_.sibling=P,_=P);return st&&vl(g,R),T}for(P=i(g,P);R<b.length;R++)D=p(P,g,R,b[R],A),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?R:D.key),x=s(D,x,R),_===null?T=D:_.sibling=D,_=D);return n&&P.forEach(function(F){return e(g,F)}),st&&vl(g,R),T}function m(g,x,b,A){var T=of(b);if(typeof T!="function")throw Error(G(150));if(b=T.call(b),b==null)throw Error(G(151));for(var _=T=null,P=x,R=x=0,D=null,L=b.next();P!==null&&!L.done;R++,L=b.next()){P.index>R?(D=P,P=null):D=P.sibling;var F=f(g,P,L.value,A);if(F===null){P===null&&(P=D);break}n&&P&&F.alternate===null&&e(g,P),x=s(F,x,R),_===null?T=F:_.sibling=F,_=F,P=D}if(L.done)return t(g,P),st&&vl(g,R),T;if(P===null){for(;!L.done;R++,L=b.next())L=h(g,L.value,A),L!==null&&(x=s(L,x,R),_===null?T=L:_.sibling=L,_=L);return st&&vl(g,R),T}for(P=i(g,P);!L.done;R++,L=b.next())L=p(P,g,R,L.value,A),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?R:L.key),x=s(L,x,R),_===null?T=L:_.sibling=L,_=L);return n&&P.forEach(function(j){return e(g,j)}),st&&vl(g,R),T}function w(g,x,b,A){if(typeof b=="object"&&b!==null&&b.type===Cu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ng:e:{for(var T=b.key,_=x;_!==null;){if(_.key===T){if(T=b.type,T===Cu){if(_.tag===7){t(g,_.sibling),x=r(_,b.props.children),x.return=g,g=x;break e}}else if(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Vo&&GA(T)===_.type){t(g,_.sibling),x=r(_,b.props),x.ref=df(g,_,b),x.return=g,g=x;break e}t(g,_);break}else e(g,_);_=_.sibling}b.type===Cu?(x=qc(b.props.children,g.mode,A,b.key),x.return=g,g=x):(A=kv(b.type,b.key,b.props,null,g.mode,A),A.ref=df(g,x,b),A.return=g,g=A)}return o(g);case Au:e:{for(_=b.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){t(g,x.sibling),x=r(x,b.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=Qw(b,g.mode,A),x.return=g,g=x}return o(g);case Vo:return _=b._init,w(g,x,_(b._payload),A)}if(bf(b))return y(g,x,b,A);if(of(b))return m(g,x,b,A);Wg(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(t(g,x.sibling),x=r(x,b),x.return=g,g=x):(t(g,x),x=Yw(b,g.mode,A),x.return=g,g=x),o(g)):t(g,x)}return w}var jh=E_(!0),A_=E_(!1),Ay=pl(null),Cy=null,Lu=null,D1=null;function M1(){D1=Lu=Cy=null}function L1(n){var e=Ay.current;et(Ay),n._currentValue=e}function Jb(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Wu(n,e){Cy=n,D1=Lu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ni=!0),n.firstContext=null)}function sr(n){var e=n._currentValue;if(D1!==n)if(n={context:n,memoizedValue:e,next:null},Lu===null){if(Cy===null)throw Error(G(308));Lu=n,Cy.dependencies={lanes:0,firstContext:n}}else Lu=Lu.next=n;return e}var _l=null;function N1(n){_l===null?_l=[n]:_l.push(n)}function C_(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,N1(e)):(t.next=r.next,r.next=t),e.interleaved=t,To(n,i)}function To(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Wo=!1;function F1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function So(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ja(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ce&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,To(n,t)}return r=i.interleaved,r===null?(e.next=e,N1(i)):(e.next=r.next,r.next=e),i.interleaved=e,To(n,t)}function wv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,w1(n,t)}}function qA(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function ky(n,e,t,i){var r=n.updateQueue;Wo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=n.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=r.baseState;o=0,d=u=c=null,l=s;do{var f=l.lane,p=l.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=n,m=l;switch(f=e,p=t,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=mt({},h,f);break e;case 2:Wo=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Qc|=o,n.lanes=o,n.memoizedState=h}}function XA(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(G(191,r));r.call(i)}}}var wg={},Es=pl(wg),pp=pl(wg),mp=pl(wg);function Pl(n){if(n===wg)throw Error(G(174));return n}function I1(n,e){switch(Ke(mp,e),Ke(pp,n),Ke(Es,wg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lb(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Lb(e,n)}et(Es),Ke(Es,e)}function Bh(){et(Es),et(pp),et(mp)}function T_(n){Pl(mp.current);var e=Pl(Es.current),t=Lb(e,n.type);e!==t&&(Ke(pp,n),Ke(Es,t))}function O1(n){pp.current===n&&(et(Es),et(pp))}var dt=pl(0);function Ty(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vw=[];function j1(){for(var n=0;n<Vw.length;n++)Vw[n]._workInProgressVersionPrimary=null;Vw.length=0}var bv=Io.ReactCurrentDispatcher,Ww=Io.ReactCurrentBatchConfig,Yc=0,ft=null,Ut=null,Jt=null,_y=!1,Yf=!1,gp=0,hI=0;function mn(){throw Error(G(321))}function B1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Lr(n[t],e[t]))return!1;return!0}function z1(n,e,t,i,r,s){if(Yc=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bv.current=n===null||n.memoizedState===null?gI:vI,n=t(i,r),Yf){s=0;do{if(Yf=!1,gp=0,25<=s)throw Error(G(301));s+=1,Jt=Ut=null,e.updateQueue=null,bv.current=yI,n=t(i,r)}while(Yf)}if(bv.current=Py,e=Ut!==null&&Ut.next!==null,Yc=0,Jt=Ut=ft=null,_y=!1,e)throw Error(G(300));return n}function $1(){var n=gp!==0;return gp=0,n}function Wr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?ft.memoizedState=Jt=n:Jt=Jt.next=n,Jt}function or(){if(Ut===null){var n=ft.alternate;n=n!==null?n.memoizedState:null}else n=Ut.next;var e=Jt===null?ft.memoizedState:Jt.next;if(e!==null)Jt=e,Ut=n;else{if(n===null)throw Error(G(310));Ut=n,n={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Jt===null?ft.memoizedState=Jt=n:Jt=Jt.next=n}return Jt}function vp(n,e){return typeof e=="function"?e(n):e}function Gw(n){var e=or(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var i=Ut,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Yc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=i):c=c.next=h,ft.lanes|=d,Qc|=d}u=u.next}while(u!==null&&u!==s);c===null?o=i:c.next=l,Lr(i,e.memoizedState)||(ni=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ft.lanes|=s,Qc|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function qw(n){var e=or(),t=e.queue;if(t===null)throw Error(G(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Lr(s,e.memoizedState)||(ni=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function __(){}function P_(n,e){var t=ft,i=or(),r=e(),s=!Lr(i.memoizedState,r);if(s&&(i.memoizedState=r,ni=!0),i=i.queue,U1(M_.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(t.flags|=2048,yp(9,D_.bind(null,t,i,r,e),void 0,null),en===null)throw Error(G(349));Yc&30||R_(t,e,r)}return r}function R_(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function D_(n,e,t,i){e.value=t,e.getSnapshot=i,L_(e)&&N_(n)}function M_(n,e,t){return t(function(){L_(e)&&N_(n)})}function L_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Lr(n,t)}catch{return!0}}function N_(n){var e=To(n,1);e!==null&&Mr(e,n,1,-1)}function KA(n){var e=Wr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},e.queue=n,n=n.dispatch=mI.bind(null,ft,n),[e.memoizedState,n]}function yp(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function F_(){return or().memoizedState}function Sv(n,e,t,i){var r=Wr();ft.flags|=n,r.memoizedState=yp(1|e,t,void 0,i===void 0?null:i)}function Dx(n,e,t,i){var r=or();i=i===void 0?null:i;var s=void 0;if(Ut!==null){var o=Ut.memoizedState;if(s=o.destroy,i!==null&&B1(i,o.deps)){r.memoizedState=yp(e,t,s,i);return}}ft.flags|=n,r.memoizedState=yp(1|e,t,s,i)}function YA(n,e){return Sv(8390656,8,n,e)}function U1(n,e){return Dx(2048,8,n,e)}function I_(n,e){return Dx(4,2,n,e)}function O_(n,e){return Dx(4,4,n,e)}function j_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function B_(n,e,t){return t=t!=null?t.concat([n]):null,Dx(4,4,j_.bind(null,e,n),t)}function H1(){}function z_(n,e){var t=or();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&B1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function $_(n,e){var t=or();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&B1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function U_(n,e,t){return Yc&21?(Lr(t,e)||(t=qT(),ft.lanes|=t,Qc|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ni=!0),n.memoizedState=t)}function fI(n,e){var t=Ne;Ne=t!==0&&4>t?t:4,n(!0);var i=Ww.transition;Ww.transition={};try{n(!1),e()}finally{Ne=t,Ww.transition=i}}function H_(){return or().memoizedState}function pI(n,e,t){var i=tl(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},V_(n))W_(e,t);else if(t=C_(n,e,t,i),t!==null){var r=zn();Mr(t,n,i,r),G_(t,e,i)}}function mI(n,e,t){var i=tl(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(V_(n))W_(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(r.hasEagerState=!0,r.eagerState=l,Lr(l,o)){var c=e.interleaved;c===null?(r.next=r,N1(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=C_(n,e,r,i),t!==null&&(r=zn(),Mr(t,n,i,r),G_(t,e,i))}}function V_(n){var e=n.alternate;return n===ft||e!==null&&e===ft}function W_(n,e){Yf=_y=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function G_(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,w1(n,t)}}var Py={readContext:sr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},gI={readContext:sr,useCallback:function(n,e){return Wr().memoizedState=[n,e===void 0?null:e],n},useContext:sr,useEffect:YA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Sv(4194308,4,j_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Sv(4194308,4,n,e)},useInsertionEffect:function(n,e){return Sv(4,2,n,e)},useMemo:function(n,e){var t=Wr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Wr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=pI.bind(null,ft,n),[i.memoizedState,n]},useRef:function(n){var e=Wr();return n={current:n},e.memoizedState=n},useState:KA,useDebugValue:H1,useDeferredValue:function(n){return Wr().memoizedState=n},useTransition:function(){var n=KA(!1),e=n[0];return n=fI.bind(null,n[1]),Wr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ft,r=Wr();if(st){if(t===void 0)throw Error(G(407));t=t()}else{if(t=e(),en===null)throw Error(G(349));Yc&30||R_(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,YA(M_.bind(null,i,s,n),[n]),i.flags|=2048,yp(9,D_.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Wr(),e=en.identifierPrefix;if(st){var t=bo,i=wo;t=(i&~(1<<32-Dr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=gp++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=hI++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},vI={readContext:sr,useCallback:z_,useContext:sr,useEffect:U1,useImperativeHandle:B_,useInsertionEffect:I_,useLayoutEffect:O_,useMemo:$_,useReducer:Gw,useRef:F_,useState:function(){return Gw(vp)},useDebugValue:H1,useDeferredValue:function(n){var e=or();return U_(e,Ut.memoizedState,n)},useTransition:function(){var n=Gw(vp)[0],e=or().memoizedState;return[n,e]},useMutableSource:__,useSyncExternalStore:P_,useId:H_,unstable_isNewReconciler:!1},yI={readContext:sr,useCallback:z_,useContext:sr,useEffect:U1,useImperativeHandle:B_,useInsertionEffect:I_,useLayoutEffect:O_,useMemo:$_,useReducer:qw,useRef:F_,useState:function(){return qw(vp)},useDebugValue:H1,useDeferredValue:function(n){var e=or();return Ut===null?e.memoizedState=n:U_(e,Ut.memoizedState,n)},useTransition:function(){var n=qw(vp)[0],e=or().memoizedState;return[n,e]},useMutableSource:__,useSyncExternalStore:P_,useId:H_,unstable_isNewReconciler:!1};function fr(n,e){if(n&&n.defaultProps){e=mt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function e0(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:mt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Mx={isMounted:function(n){return(n=n._reactInternals)?su(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=zn(),r=tl(n),s=So(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ja(n,s,r),e!==null&&(Mr(e,n,r,i),wv(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=zn(),r=tl(n),s=So(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ja(n,s,r),e!==null&&(Mr(e,n,r,i),wv(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=zn(),i=tl(n),r=So(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ja(n,r,i),e!==null&&(Mr(e,n,i,t),wv(e,n,i))}};function QA(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!up(t,i)||!up(r,s):!0}function q_(n,e,t){var i=!1,r=sl,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(r=ri(e)?Xc:_n.current,i=e.contextTypes,s=(i=i!=null)?Ih(n,r):sl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mx,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function ZA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Mx.enqueueReplaceState(e,e.state,null)}function t0(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},F1(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=sr(s):(s=ri(e)?Xc:_n.current,r.context=Ih(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(e0(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Mx.enqueueReplaceState(r,r.state,null),ky(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function zh(n,e){try{var t="",i=e;do t+=G2(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Xw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function n0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var xI=typeof WeakMap=="function"?WeakMap:Map;function X_(n,e,t){t=So(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Dy||(Dy=!0,h0=i),n0(n,e)},t}function K_(n,e,t){t=So(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){n0(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){n0(n,e),typeof i!="function"&&(el===null?el=new Set([this]):el.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function JA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new xI;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=LI.bind(null,n,e,t),e.then(n,n))}function eC(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function tC(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=So(-1,1),e.tag=2,Ja(t,e,1))),t.lanes|=1),n)}var wI=Io.ReactCurrentOwner,ni=!1;function On(n,e,t,i){e.child=n===null?A_(e,null,t,i):jh(e,n.child,t,i)}function nC(n,e,t,i,r){t=t.render;var s=e.ref;return Wu(e,r),i=z1(n,e,t,i,s,r),t=$1(),n!==null&&!ni?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,_o(n,e,r)):(st&&t&&_1(e),e.flags|=1,On(n,e,i,r),e.child)}function iC(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Q1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Y_(n,e,s,i,r)):(n=kv(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:up,t(o,i)&&n.ref===e.ref)return _o(n,e,r)}return e.flags|=1,n=nl(s,i),n.ref=e.ref,n.return=e,e.child=n}function Y_(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(up(s,i)&&n.ref===e.ref)if(ni=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(ni=!0);else return e.lanes=n.lanes,_o(n,e,r)}return i0(n,e,t,i,r)}function Q_(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Fu,Ti),Ti|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ke(Fu,Ti),Ti|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ke(Fu,Ti),Ti|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ke(Fu,Ti),Ti|=i;return On(n,e,r,t),e.child}function Z_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function i0(n,e,t,i,r){var s=ri(t)?Xc:_n.current;return s=Ih(e,s),Wu(e,r),t=z1(n,e,t,i,s,r),i=$1(),n!==null&&!ni?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,_o(n,e,r)):(st&&i&&_1(e),e.flags|=1,On(n,e,t,r),e.child)}function rC(n,e,t,i,r){if(ri(t)){var s=!0;by(e)}else s=!1;if(Wu(e,r),e.stateNode===null)Ev(n,e),q_(e,t,i),t0(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=sr(u):(u=ri(t)?Xc:_n.current,u=Ih(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||c!==u)&&ZA(e,o,i,u),Wo=!1;var f=e.memoizedState;o.state=f,ky(e,i,o,r),c=e.memoizedState,l!==i||f!==c||ii.current||Wo?(typeof d=="function"&&(e0(e,t,d,i),c=e.memoizedState),(l=Wo||QA(e,t,l,i,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),o.props=i,o.state=c,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,k_(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:fr(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=sr(c):(c=ri(t)?Xc:_n.current,c=Ih(e,c));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ZA(e,o,i,c),Wo=!1,f=e.memoizedState,o.state=f,ky(e,i,o,r);var y=e.memoizedState;l!==h||f!==y||ii.current||Wo?(typeof p=="function"&&(e0(e,t,p,i),y=e.memoizedState),(u=Wo||QA(e,t,u,i,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=c,i=u):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return r0(n,e,t,i,s,r)}function r0(n,e,t,i,r,s){Z_(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&HA(e,t,!1),_o(n,e,s);i=e.stateNode,wI.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=jh(e,n.child,null,s),e.child=jh(e,null,l,s)):On(n,e,l,s),e.memoizedState=i.state,r&&HA(e,t,!0),e.child}function J_(n){var e=n.stateNode;e.pendingContext?UA(n,e.pendingContext,e.pendingContext!==e.context):e.context&&UA(n,e.context,!1),I1(n,e.containerInfo)}function sC(n,e,t,i,r){return Oh(),R1(r),e.flags|=256,On(n,e,t,i),e.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function o0(n){return{baseLanes:n,cachePool:null,transitions:null}}function eP(n,e,t){var i=e.pendingProps,r=dt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ke(dt,r&1),n===null)return Zb(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fx(o,i,0,null),n=qc(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=o0(t),e.memoizedState=s0,n):V1(e,o));if(r=n.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return bI(n,e,o,i,l,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,l=r.sibling;var c={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=nl(r,c),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=nl(l,s):(s=qc(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?o0(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=s0,i}return s=n.child,n=s.sibling,i=nl(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function V1(n,e){return e=Fx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Gg(n,e,t,i){return i!==null&&R1(i),jh(e,n.child,null,t),n=V1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function bI(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Xw(Error(G(422))),Gg(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Fx({mode:"visible",children:i.children},r,0,null),s=qc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&jh(e,n.child,null,o),e.child.memoizedState=o0(o),e.memoizedState=s0,s);if(!(e.mode&1))return Gg(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(G(419)),i=Xw(s,i,void 0),Gg(n,e,o,i)}if(l=(o&n.childLanes)!==0,ni||l){if(i=en,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,To(n,r),Mr(i,n,r,-1))}return Y1(),i=Xw(Error(G(421))),Gg(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=NI.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Di=Za(r.nextSibling),Mi=e,st=!0,Pr=null,n!==null&&(Ji[er++]=wo,Ji[er++]=bo,Ji[er++]=Kc,wo=n.id,bo=n.overflow,Kc=e),e=V1(e,i.children),e.flags|=4096,e)}function oC(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Jb(n.return,e,t)}function Kw(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function tP(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(On(n,e,i.children,t),i=dt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&oC(n,t,e);else if(n.tag===19)oC(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ke(dt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ty(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Kw(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ty(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Kw(e,!0,t,null,s);break;case"together":Kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ev(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function _o(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Qc|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(G(153));if(e.child!==null){for(n=e.child,t=nl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=nl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function SI(n,e,t){switch(e.tag){case 3:J_(e),Oh();break;case 5:T_(e);break;case 1:ri(e.type)&&by(e);break;case 4:I1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ke(Ay,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ke(dt,dt.current&1),e.flags|=128,null):t&e.child.childLanes?eP(n,e,t):(Ke(dt,dt.current&1),n=_o(n,e,t),n!==null?n.sibling:null);Ke(dt,dt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return tP(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ke(dt,dt.current),i)break;return null;case 22:case 23:return e.lanes=0,Q_(n,e,t)}return _o(n,e,t)}var nP,a0,iP,rP;nP=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};a0=function(){};iP=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Pl(Es.current);var s=null;switch(t){case"input":r=Pb(n,r),i=Pb(n,i),s=[];break;case"select":r=mt({},r,{value:void 0}),i=mt({},i,{value:void 0}),s=[];break;case"textarea":r=Mb(n,r),i=Mb(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=xy)}Nb(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ip.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ip.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ze("scroll",n),s||l===c||(s=[])):(s=s||[]).push(u,c))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rP=function(n,e,t,i){t!==i&&(e.flags|=4)};function hf(n,e){if(!st)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function gn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function EI(n,e,t){var i=e.pendingProps;switch(P1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return ri(e.type)&&wy(),gn(e),null;case 3:return i=e.stateNode,Bh(),et(ii),et(_n),j1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Vg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(m0(Pr),Pr=null))),a0(n,e),gn(e),null;case 5:O1(e);var r=Pl(mp.current);if(t=e.type,n!==null&&e.stateNode!=null)iP(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(G(166));return gn(e),null}if(n=Pl(Es.current),Vg(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ys]=e,i[fp]=s,n=(e.mode&1)!==0,t){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(r=0;r<Ef.length;r++)Ze(Ef[r],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":mA(i,s),Ze("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",i);break;case"textarea":vA(i,s),Ze("invalid",i)}Nb(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&Hg(i.textContent,l,n),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Hg(i.textContent,l,n),r=["children",""+l]):ip.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ze("scroll",i)}switch(t){case"input":Fg(i),gA(i,s,!0);break;case"textarea":Fg(i),yA(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=xy)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=MT(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ys]=e,n[fp]=i,nP(n,e,!1,!1),e.stateNode=n;e:{switch(o=Fb(t,i),t){case"dialog":Ze("cancel",n),Ze("close",n),r=i;break;case"iframe":case"object":case"embed":Ze("load",n),r=i;break;case"video":case"audio":for(r=0;r<Ef.length;r++)Ze(Ef[r],n);r=i;break;case"source":Ze("error",n),r=i;break;case"img":case"image":case"link":Ze("error",n),Ze("load",n),r=i;break;case"details":Ze("toggle",n),r=i;break;case"input":mA(n,i),r=Pb(n,i),Ze("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=mt({},i,{value:void 0}),Ze("invalid",n);break;case"textarea":vA(n,i),r=Mb(n,i),Ze("invalid",n);break;default:r=i}Nb(t,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?FT(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LT(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&rp(n,c):typeof c=="number"&&rp(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ip.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ze("scroll",n):c!=null&&p1(n,s,c,o))}switch(t){case"input":Fg(n),gA(n,i,!1);break;case"textarea":Fg(n),yA(n);break;case"option":i.value!=null&&n.setAttribute("value",""+rl(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?$u(n,!!i.multiple,s,!1):i.defaultValue!=null&&$u(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=xy)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(n&&e.stateNode!=null)rP(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(G(166));if(t=Pl(mp.current),Pl(Es.current),Vg(e)){if(i=e.stateNode,t=e.memoizedProps,i[ys]=e,(s=i.nodeValue!==t)&&(n=Mi,n!==null))switch(n.tag){case 3:Hg(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Hg(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ys]=e,e.stateNode=i}return gn(e),null;case 13:if(et(dt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(st&&Di!==null&&e.mode&1&&!(e.flags&128))S_(),Oh(),e.flags|=98560,s=!1;else if(s=Vg(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[ys]=e}else Oh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),s=!1}else Pr!==null&&(m0(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||dt.current&1?Vt===0&&(Vt=3):Y1())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return Bh(),a0(n,e),n===null&&dp(e.stateNode.containerInfo),gn(e),null;case 10:return L1(e.type._context),gn(e),null;case 17:return ri(e.type)&&wy(),gn(e),null;case 19:if(et(dt),s=e.memoizedState,s===null)return gn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)hf(s,!1);else{if(Vt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ty(n),o!==null){for(e.flags|=128,hf(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ke(dt,dt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Rt()>$h&&(e.flags|=128,i=!0,hf(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ty(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),hf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return gn(e),null}else 2*Rt()-s.renderingStartTime>$h&&t!==1073741824&&(e.flags|=128,i=!0,hf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,t=dt.current,Ke(dt,i?t&1|2:t&1),e):(gn(e),null);case 22:case 23:return K1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ti&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function AI(n,e){switch(P1(e),e.tag){case 1:return ri(e.type)&&wy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bh(),et(ii),et(_n),j1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return O1(e),null;case 13:if(et(dt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Oh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return et(dt),null;case 4:return Bh(),null;case 10:return L1(e.type._context),null;case 22:case 23:return K1(),null;case 24:return null;default:return null}}var qg=!1,kn=!1,CI=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Nu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ct(n,e,i)}else t.current=null}function l0(n,e,t){try{t()}catch(i){Ct(n,e,i)}}var aC=!1;function kI(n,e){if(Wb=gy,n=c_(),T1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(l=o+r),h!==s||i!==0&&h.nodeType!==3||(c=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===r&&(l=o),f===s&&++d===i&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=l===-1||c===-1?null:{start:l,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Gb={focusedElem:n,selectionRange:t},gy=!1,ee=e;ee!==null;)if(e=ee,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ee=n;else for(;ee!==null;){e=ee;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:fr(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(A){Ct(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}return y=aC,aC=!1,y}function Qf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&l0(e,t,s)}r=r.next}while(r!==i)}}function Lx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function c0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function sP(n){var e=n.alternate;e!==null&&(n.alternate=null,sP(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ys],delete e[fp],delete e[Kb],delete e[lI],delete e[cI])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function oP(n){return n.tag===5||n.tag===3||n.tag===4}function lC(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||oP(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function u0(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=xy));else if(i!==4&&(n=n.child,n!==null))for(u0(n,e,t),n=n.sibling;n!==null;)u0(n,e,t),n=n.sibling}function d0(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(d0(n,e,t),n=n.sibling;n!==null;)d0(n,e,t),n=n.sibling}var cn=null,_r=!1;function jo(n,e,t){for(t=t.child;t!==null;)aP(n,e,t),t=t.sibling}function aP(n,e,t){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Cx,t)}catch{}switch(t.tag){case 5:kn||Nu(t,e);case 6:var i=cn,r=_r;cn=null,jo(n,e,t),cn=i,_r=r,cn!==null&&(_r?(n=cn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):cn.removeChild(t.stateNode));break;case 18:cn!==null&&(_r?(n=cn,t=t.stateNode,n.nodeType===8?Uw(n.parentNode,t):n.nodeType===1&&Uw(n,t),lp(n)):Uw(cn,t.stateNode));break;case 4:i=cn,r=_r,cn=t.stateNode.containerInfo,_r=!0,jo(n,e,t),cn=i,_r=r;break;case 0:case 11:case 14:case 15:if(!kn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l0(t,e,o),r=r.next}while(r!==i)}jo(n,e,t);break;case 1:if(!kn&&(Nu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(l){Ct(t,e,l)}jo(n,e,t);break;case 21:jo(n,e,t);break;case 22:t.mode&1?(kn=(i=kn)||t.memoizedState!==null,jo(n,e,t),kn=i):jo(n,e,t);break;default:jo(n,e,t)}}function cC(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CI),e.forEach(function(i){var r=FI.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ur(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,_r=!1;break e;case 3:cn=l.stateNode.containerInfo,_r=!0;break e;case 4:cn=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(cn===null)throw Error(G(160));aP(s,o,r),cn=null,_r=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Ct(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lP(e,n),e=e.sibling}function lP(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ur(e,n),zr(n),i&4){try{Qf(3,n,n.return),Lx(3,n)}catch(m){Ct(n,n.return,m)}try{Qf(5,n,n.return)}catch(m){Ct(n,n.return,m)}}break;case 1:ur(e,n),zr(n),i&512&&t!==null&&Nu(t,t.return);break;case 5:if(ur(e,n),zr(n),i&512&&t!==null&&Nu(t,t.return),n.flags&32){var r=n.stateNode;try{rp(r,"")}catch(m){Ct(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&RT(r,s),Fb(l,o);var u=Fb(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?FT(r,h):d==="dangerouslySetInnerHTML"?LT(r,h):d==="children"?rp(r,h):p1(r,d,h,u)}switch(l){case"input":Rb(r,s);break;case"textarea":DT(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?$u(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?$u(r,!!s.multiple,s.defaultValue,!0):$u(r,!!s.multiple,s.multiple?[]:"",!1))}r[fp]=s}catch(m){Ct(n,n.return,m)}}break;case 6:if(ur(e,n),zr(n),i&4){if(n.stateNode===null)throw Error(G(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){Ct(n,n.return,m)}}break;case 3:if(ur(e,n),zr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{lp(e.containerInfo)}catch(m){Ct(n,n.return,m)}break;case 4:ur(e,n),zr(n);break;case 13:ur(e,n),zr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(q1=Rt())),i&4&&cC(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(kn=(u=kn)||d,ur(e,n),kn=u):ur(e,n),zr(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(ee=n,d=n.child;d!==null;){for(h=ee=d;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Qf(4,f,f.return);break;case 1:Nu(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Ct(i,t,m)}}break;case 5:Nu(f,f.return);break;case 22:if(f.memoizedState!==null){dC(h);continue}}p!==null?(p.return=f,ee=p):dC(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=NT("display",o))}catch(m){Ct(n,n.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ct(n,n.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ur(e,n),zr(n),i&4&&cC(n);break;case 21:break;default:ur(e,n),zr(n)}}function zr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(oP(t)){var i=t;break e}t=t.return}throw Error(G(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(rp(r,""),i.flags&=-33);var s=lC(n);d0(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=lC(n);u0(n,l,o);break;default:throw Error(G(161))}}catch(c){Ct(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function TI(n,e,t){ee=n,cP(n)}function cP(n,e,t){for(var i=(n.mode&1)!==0;ee!==null;){var r=ee,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||qg;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||kn;l=qg;var u=kn;if(qg=o,(kn=c)&&!u)for(ee=r;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?hC(r):c!==null?(c.return=o,ee=c):hC(r);for(;s!==null;)ee=s,cP(s),s=s.sibling;ee=r,qg=l,kn=u}uC(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ee=s):uC(n)}}function uC(n){for(;ee!==null;){var e=ee;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kn||Lx(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!kn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:fr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&XA(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}XA(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&lp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}kn||e.flags&512&&c0(e)}catch(f){Ct(e,e.return,f)}}if(e===n){ee=null;break}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}}function dC(n){for(;ee!==null;){var e=ee;if(e===n){ee=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ee=t;break}ee=e.return}}function hC(n){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Lx(4,e)}catch(c){Ct(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){Ct(e,r,c)}}var s=e.return;try{c0(e)}catch(c){Ct(e,s,c)}break;case 5:var o=e.return;try{c0(e)}catch(c){Ct(e,o,c)}}}catch(c){Ct(e,e.return,c)}if(e===n){ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ee=l;break}ee=e.return}}var _I=Math.ceil,Ry=Io.ReactCurrentDispatcher,W1=Io.ReactCurrentOwner,ir=Io.ReactCurrentBatchConfig,Ce=0,en=null,Nt=null,fn=0,Ti=0,Fu=pl(0),Vt=0,xp=null,Qc=0,Nx=0,G1=0,Zf=null,ti=null,q1=0,$h=1/0,Fs=null,Dy=!1,h0=null,el=null,Xg=!1,Xa=null,My=0,Jf=0,f0=null,Av=-1,Cv=0;function zn(){return Ce&6?Rt():Av!==-1?Av:Av=Rt()}function tl(n){return n.mode&1?Ce&2&&fn!==0?fn&-fn:dI.transition!==null?(Cv===0&&(Cv=qT()),Cv):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:e_(n.type)),n):1}function Mr(n,e,t,i){if(50<Jf)throw Jf=0,f0=null,Error(G(185));vg(n,t,i),(!(Ce&2)||n!==en)&&(n===en&&(!(Ce&2)&&(Nx|=t),Vt===4&&qo(n,fn)),si(n,i),t===1&&Ce===0&&!(e.mode&1)&&($h=Rt()+500,Rx&&ml()))}function si(n,e){var t=n.callbackNode;dF(n,e);var i=my(n,n===en?fn:0);if(i===0)t!==null&&bA(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&bA(t),e===1)n.tag===0?uI(fC.bind(null,n)):x_(fC.bind(null,n)),oI(function(){!(Ce&6)&&ml()}),t=null;else{switch(XT(i)){case 1:t=x1;break;case 4:t=WT;break;case 16:t=py;break;case 536870912:t=GT;break;default:t=py}t=vP(t,uP.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function uP(n,e){if(Av=-1,Cv=0,Ce&6)throw Error(G(327));var t=n.callbackNode;if(Gu()&&n.callbackNode!==t)return null;var i=my(n,n===en?fn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Ly(n,i);else{e=i;var r=Ce;Ce|=2;var s=hP();(en!==n||fn!==e)&&(Fs=null,$h=Rt()+500,Gc(n,e));do try{DI();break}catch(l){dP(n,l)}while(!0);M1(),Ry.current=s,Ce=r,Nt!==null?e=0:(en=null,fn=0,e=Vt)}if(e!==0){if(e===2&&(r=zb(n),r!==0&&(i=r,e=p0(n,r))),e===1)throw t=xp,Gc(n,0),qo(n,i),si(n,Rt()),t;if(e===6)qo(n,i);else{if(r=n.current.alternate,!(i&30)&&!PI(r)&&(e=Ly(n,i),e===2&&(s=zb(n),s!==0&&(i=s,e=p0(n,s))),e===1))throw t=xp,Gc(n,0),qo(n,i),si(n,Rt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(G(345));case 2:yl(n,ti,Fs);break;case 3:if(qo(n,i),(i&130023424)===i&&(e=q1+500-Rt(),10<e)){if(my(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){zn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Xb(yl.bind(null,n,ti,Fs),e);break}yl(n,ti,Fs);break;case 4:if(qo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Dr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Rt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_I(i/1960))-i,10<i){n.timeoutHandle=Xb(yl.bind(null,n,ti,Fs),i);break}yl(n,ti,Fs);break;case 5:yl(n,ti,Fs);break;default:throw Error(G(329))}}}return si(n,Rt()),n.callbackNode===t?uP.bind(null,n):null}function p0(n,e){var t=Zf;return n.current.memoizedState.isDehydrated&&(Gc(n,e).flags|=256),n=Ly(n,e),n!==2&&(e=ti,ti=t,e!==null&&m0(e)),n}function m0(n){ti===null?ti=n:ti.push.apply(ti,n)}function PI(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Lr(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qo(n,e){for(e&=~G1,e&=~Nx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Dr(e),i=1<<t;n[t]=-1,e&=~i}}function fC(n){if(Ce&6)throw Error(G(327));Gu();var e=my(n,0);if(!(e&1))return si(n,Rt()),null;var t=Ly(n,e);if(n.tag!==0&&t===2){var i=zb(n);i!==0&&(e=i,t=p0(n,i))}if(t===1)throw t=xp,Gc(n,0),qo(n,e),si(n,Rt()),t;if(t===6)throw Error(G(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yl(n,ti,Fs),si(n,Rt()),null}function X1(n,e){var t=Ce;Ce|=1;try{return n(e)}finally{Ce=t,Ce===0&&($h=Rt()+500,Rx&&ml())}}function Zc(n){Xa!==null&&Xa.tag===0&&!(Ce&6)&&Gu();var e=Ce;Ce|=1;var t=ir.transition,i=Ne;try{if(ir.transition=null,Ne=1,n)return n()}finally{Ne=i,ir.transition=t,Ce=e,!(Ce&6)&&ml()}}function K1(){Ti=Fu.current,et(Fu)}function Gc(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,sI(t)),Nt!==null)for(t=Nt.return;t!==null;){var i=t;switch(P1(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&wy();break;case 3:Bh(),et(ii),et(_n),j1();break;case 5:O1(i);break;case 4:Bh();break;case 13:et(dt);break;case 19:et(dt);break;case 10:L1(i.type._context);break;case 22:case 23:K1()}t=t.return}if(en=n,Nt=n=nl(n.current,null),fn=Ti=e,Vt=0,xp=null,G1=Nx=Qc=0,ti=Zf=null,_l!==null){for(e=0;e<_l.length;e++)if(t=_l[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}_l=null}return n}function dP(n,e){do{var t=Nt;try{if(M1(),bv.current=Py,_y){for(var i=ft.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}_y=!1}if(Yc=0,Jt=Ut=ft=null,Yf=!1,gp=0,W1.current=null,t===null||t.return===null){Vt=1,xp=e,Nt=null;break}e:{var s=n,o=t.return,l=t,c=e;if(e=fn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eC(o);if(p!==null){p.flags&=-257,tC(p,o,l,s,e),p.mode&1&&JA(s,u,e),e=p,c=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(c),e.updateQueue=m}else y.add(c);break e}else{if(!(e&1)){JA(s,u,e),Y1();break e}c=Error(G(426))}}else if(st&&l.mode&1){var w=eC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),tC(w,o,l,s,e),R1(zh(c,l));break e}}s=c=zh(c,l),Vt!==4&&(Vt=2),Zf===null?Zf=[s]:Zf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=X_(s,c,e);qA(s,g);break e;case 1:l=c;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(el===null||!el.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=K_(s,l,e);qA(s,A);break e}}s=s.return}while(s!==null)}pP(t)}catch(T){e=T,Nt===t&&t!==null&&(Nt=t=t.return);continue}break}while(!0)}function hP(){var n=Ry.current;return Ry.current=Py,n===null?Py:n}function Y1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),en===null||!(Qc&268435455)&&!(Nx&268435455)||qo(en,fn)}function Ly(n,e){var t=Ce;Ce|=2;var i=hP();(en!==n||fn!==e)&&(Fs=null,Gc(n,e));do try{RI();break}catch(r){dP(n,r)}while(!0);if(M1(),Ce=t,Ry.current=i,Nt!==null)throw Error(G(261));return en=null,fn=0,Vt}function RI(){for(;Nt!==null;)fP(Nt)}function DI(){for(;Nt!==null&&!nF();)fP(Nt)}function fP(n){var e=gP(n.alternate,n,Ti);n.memoizedProps=n.pendingProps,e===null?pP(n):Nt=e,W1.current=null}function pP(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=AI(t,e),t!==null){t.flags&=32767,Nt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Vt=6,Nt=null;return}}else if(t=EI(t,e,Ti),t!==null){Nt=t;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=n}while(e!==null);Vt===0&&(Vt=5)}function yl(n,e,t){var i=Ne,r=ir.transition;try{ir.transition=null,Ne=1,MI(n,e,t,i)}finally{ir.transition=r,Ne=i}return null}function MI(n,e,t,i){do Gu();while(Xa!==null);if(Ce&6)throw Error(G(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(G(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(hF(n,s),n===en&&(Nt=en=null,fn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Xg||(Xg=!0,vP(py,function(){return Gu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ir.transition,ir.transition=null;var o=Ne;Ne=1;var l=Ce;Ce|=4,W1.current=null,kI(n,t),lP(t,n),ZF(Gb),gy=!!Wb,Gb=Wb=null,n.current=t,TI(t),iF(),Ce=l,Ne=o,ir.transition=s}else n.current=t;if(Xg&&(Xg=!1,Xa=n,My=r),s=n.pendingLanes,s===0&&(el=null),oF(t.stateNode),si(n,Rt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Dy)throw Dy=!1,n=h0,h0=null,n;return My&1&&n.tag!==0&&Gu(),s=n.pendingLanes,s&1?n===f0?Jf++:(Jf=0,f0=n):Jf=0,ml(),null}function Gu(){if(Xa!==null){var n=XT(My),e=ir.transition,t=Ne;try{if(ir.transition=null,Ne=16>n?16:n,Xa===null)var i=!1;else{if(n=Xa,Xa=null,My=0,Ce&6)throw Error(G(331));var r=Ce;for(Ce|=4,ee=n.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Qf(8,d,s)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var f=d.sibling,p=d.return;if(sP(d),d===u){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qf(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ee=g;break e}ee=s.return}}var x=n.current;for(ee=x;ee!==null;){o=ee;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ee=b;else e:for(o=x;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lx(9,l)}}catch(T){Ct(l,l.return,T)}if(l===o){ee=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,ee=A;break e}ee=l.return}}if(Ce=r,ml(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Cx,n)}catch{}i=!0}return i}finally{Ne=t,ir.transition=e}}return!1}function pC(n,e,t){e=zh(t,e),e=X_(n,e,1),n=Ja(n,e,1),e=zn(),n!==null&&(vg(n,1,e),si(n,e))}function Ct(n,e,t){if(n.tag===3)pC(n,n,t);else for(;e!==null;){if(e.tag===3){pC(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(el===null||!el.has(i))){n=zh(t,n),n=K_(e,n,1),e=Ja(e,n,1),n=zn(),e!==null&&(vg(e,1,n),si(e,n));break}}e=e.return}}function LI(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=zn(),n.pingedLanes|=n.suspendedLanes&t,en===n&&(fn&t)===t&&(Vt===4||Vt===3&&(fn&130023424)===fn&&500>Rt()-q1?Gc(n,0):G1|=t),si(n,e)}function mP(n,e){e===0&&(n.mode&1?(e=jg,jg<<=1,!(jg&130023424)&&(jg=4194304)):e=1);var t=zn();n=To(n,e),n!==null&&(vg(n,e,t),si(n,t))}function NI(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),mP(n,t)}function FI(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(G(314))}i!==null&&i.delete(e),mP(n,t)}var gP;gP=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ii.current)ni=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ni=!1,SI(n,e,t);ni=!!(n.flags&131072)}else ni=!1,st&&e.flags&1048576&&w_(e,Ey,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ev(n,e),n=e.pendingProps;var r=Ih(e,_n.current);Wu(e,t),r=z1(null,e,i,n,r,t);var s=$1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(i)?(s=!0,by(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,F1(e),r.updater=Mx,e.stateNode=r,r._reactInternals=e,t0(e,i,n,t),e=r0(null,e,i,!0,s,t)):(e.tag=0,st&&s&&_1(e),On(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Ev(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=OI(i),n=fr(i,n),r){case 0:e=i0(null,e,i,n,t);break e;case 1:e=rC(null,e,i,n,t);break e;case 11:e=nC(null,e,i,n,t);break e;case 14:e=iC(null,e,i,fr(i.type,n),t);break e}throw Error(G(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),i0(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),rC(n,e,i,r,t);case 3:e:{if(J_(e),n===null)throw Error(G(387));i=e.pendingProps,s=e.memoizedState,r=s.element,k_(n,e),ky(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=zh(Error(G(423)),e),e=sC(n,e,i,t,r);break e}else if(i!==r){r=zh(Error(G(424)),e),e=sC(n,e,i,t,r);break e}else for(Di=Za(e.stateNode.containerInfo.firstChild),Mi=e,st=!0,Pr=null,t=A_(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Oh(),i===r){e=_o(n,e,t);break e}On(n,e,i,t)}e=e.child}return e;case 5:return T_(e),n===null&&Zb(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,qb(i,r)?o=null:s!==null&&qb(i,s)&&(e.flags|=32),Z_(n,e),On(n,e,o,t),e.child;case 6:return n===null&&Zb(e),null;case 13:return eP(n,e,t);case 4:return I1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=jh(e,null,i,t):On(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),nC(n,e,i,r,t);case 7:return On(n,e,e.pendingProps,t),e.child;case 8:return On(n,e,e.pendingProps.children,t),e.child;case 12:return On(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ke(Ay,i._currentValue),i._currentValue=o,s!==null)if(Lr(s.value,o)){if(s.children===r.children&&!ii.current){e=_o(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=So(-1,t&-t),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),Jb(s.return,t,e),l.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Jb(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}On(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Wu(e,t),r=sr(r),i=i(r),e.flags|=1,On(n,e,i,t),e.child;case 14:return i=e.type,r=fr(i,e.pendingProps),r=fr(i.type,r),iC(n,e,i,r,t);case 15:return Y_(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),Ev(n,e),e.tag=1,ri(i)?(n=!0,by(e)):n=!1,Wu(e,t),q_(e,i,r),t0(e,i,r,t),r0(null,e,i,!0,n,t);case 19:return tP(n,e,t);case 22:return Q_(n,e,t)}throw Error(G(156,e.tag))};function vP(n,e){return VT(n,e)}function II(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(n,e,t,i){return new II(n,e,t,i)}function Q1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function OI(n){if(typeof n=="function")return Q1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===g1)return 11;if(n===v1)return 14}return 2}function nl(n,e){var t=n.alternate;return t===null?(t=nr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function kv(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Q1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Cu:return qc(t.children,r,s,e);case m1:o=8,r|=8;break;case Cb:return n=nr(12,t,e,r|2),n.elementType=Cb,n.lanes=s,n;case kb:return n=nr(13,t,e,r),n.elementType=kb,n.lanes=s,n;case Tb:return n=nr(19,t,e,r),n.elementType=Tb,n.lanes=s,n;case TT:return Fx(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case CT:o=10;break e;case kT:o=9;break e;case g1:o=11;break e;case v1:o=14;break e;case Vo:o=16,i=null;break e}throw Error(G(130,n==null?n:typeof n,""))}return e=nr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function qc(n,e,t,i){return n=nr(7,n,i,e),n.lanes=t,n}function Fx(n,e,t,i){return n=nr(22,n,i,e),n.elementType=TT,n.lanes=t,n.stateNode={isHidden:!1},n}function Yw(n,e,t){return n=nr(6,n,null,e),n.lanes=t,n}function Qw(n,e,t){return e=nr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function jI(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dw(0),this.expirationTimes=Dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dw(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Z1(n,e,t,i,r,s,o,l,c){return n=new jI(n,e,t,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},F1(s),n}function BI(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function yP(n){if(!n)return sl;n=n._reactInternals;e:{if(su(n)!==n||n.tag!==1)throw Error(G(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(n.tag===1){var t=n.type;if(ri(t))return y_(n,t,e)}return e}function xP(n,e,t,i,r,s,o,l,c){return n=Z1(t,i,!0,n,r,s,o,l,c),n.context=yP(null),t=n.current,i=zn(),r=tl(t),s=So(i,r),s.callback=e??null,Ja(t,s,r),n.current.lanes=r,vg(n,r,i),si(n,i),n}function Ix(n,e,t,i){var r=e.current,s=zn(),o=tl(r);return t=yP(t),e.context===null?e.context=t:e.pendingContext=t,e=So(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ja(r,e,o),n!==null&&(Mr(n,r,o,s),wv(n,r,o)),o}function Ny(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mC(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function J1(n,e){mC(n,e),(n=n.alternate)&&mC(n,e)}function zI(){return null}var wP=typeof reportError=="function"?reportError:function(n){console.error(n)};function eE(n){this._internalRoot=n}Ox.prototype.render=eE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(G(409));Ix(n,e,null,null)};Ox.prototype.unmount=eE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Zc(function(){Ix(null,n,null,null)}),e[ko]=null}};function Ox(n){this._internalRoot=n}Ox.prototype.unstable_scheduleHydration=function(n){if(n){var e=QT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Go.length&&e!==0&&e<Go[t].priority;t++);Go.splice(t,0,n),t===0&&JT(n)}};function tE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function jx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function gC(){}function $I(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Ny(o);s.call(u)}}var o=xP(e,i,n,0,null,!1,!1,"",gC);return n._reactRootContainer=o,n[ko]=o.current,dp(n.nodeType===8?n.parentNode:n),Zc(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var u=Ny(c);l.call(u)}}var c=Z1(n,0,!1,null,null,!1,!1,"",gC);return n._reactRootContainer=c,n[ko]=c.current,dp(n.nodeType===8?n.parentNode:n),Zc(function(){Ix(e,c,t,i)}),c}function Bx(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var c=Ny(o);l.call(c)}}Ix(e,o,n,r)}else o=$I(t,e,n,r,i);return Ny(o)}KT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Sf(e.pendingLanes);t!==0&&(w1(e,t|1),si(e,Rt()),!(Ce&6)&&($h=Rt()+500,ml()))}break;case 13:Zc(function(){var i=To(n,1);if(i!==null){var r=zn();Mr(i,n,1,r)}}),J1(n,1)}};b1=function(n){if(n.tag===13){var e=To(n,134217728);if(e!==null){var t=zn();Mr(e,n,134217728,t)}J1(n,134217728)}};YT=function(n){if(n.tag===13){var e=tl(n),t=To(n,e);if(t!==null){var i=zn();Mr(t,n,e,i)}J1(n,e)}};QT=function(){return Ne};ZT=function(n,e){var t=Ne;try{return Ne=n,e()}finally{Ne=t}};Ob=function(n,e,t){switch(e){case"input":if(Rb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Px(i);if(!r)throw Error(G(90));PT(i),Rb(i,r)}}}break;case"textarea":DT(n,t);break;case"select":e=t.value,e!=null&&$u(n,!!t.multiple,e,!1)}};jT=X1;BT=Zc;var UI={usingClientEntryPoint:!1,Events:[xg,Pu,Px,IT,OT,X1]},ff={findFiberByHostInstance:Tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HI={bundleType:ff.bundleType,version:ff.version,rendererPackageName:ff.rendererPackageName,rendererConfig:ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=UT(n),n===null?null:n.stateNode},findFiberByHostInstance:ff.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kg.isDisabled&&Kg.supportsFiber)try{Cx=Kg.inject(HI),Ss=Kg}catch{}}Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UI;Oi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tE(e))throw Error(G(200));return BI(n,e,null,t)};Oi.createRoot=function(n,e){if(!tE(n))throw Error(G(299));var t=!1,i="",r=wP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Z1(n,1,!1,null,null,t,!1,i,r),n[ko]=e.current,dp(n.nodeType===8?n.parentNode:n),new eE(e)};Oi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(G(188)):(n=Object.keys(n).join(","),Error(G(268,n)));return n=UT(e),n=n===null?null:n.stateNode,n};Oi.flushSync=function(n){return Zc(n)};Oi.hydrate=function(n,e,t){if(!jx(e))throw Error(G(200));return Bx(null,n,e,!0,t)};Oi.hydrateRoot=function(n,e,t){if(!tE(n))throw Error(G(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=wP;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=xP(e,null,n,1,t??null,r,!1,s,o),n[ko]=e.current,dp(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Ox(e)};Oi.render=function(n,e,t){if(!jx(e))throw Error(G(200));return Bx(null,n,e,!1,t)};Oi.unmountComponentAtNode=function(n){if(!jx(n))throw Error(G(40));return n._reactRootContainer?(Zc(function(){Bx(null,null,n,!1,function(){n._reactRootContainer=null,n[ko]=null})}),!0):!1};Oi.unstable_batchedUpdates=X1;Oi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!jx(t))throw Error(G(200));if(n==null||n._reactInternals===void 0)throw Error(G(38));return Bx(n,e,t,!1,i)};Oi.version="18.3.1-next-f1338f8080-20240426";function bP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bP)}catch(n){console.error(n)}}bP(),bT.exports=Oi;var bg=bT.exports;const VI=Ex(bg);var SP,vC=bg;SP=vC.createRoot,vC.hydrateRoot;function WI(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,r,s,o=[],l="",c=n.split("/");for(c[0]||c.shift();r=c.shift();)t=r[0],t==="*"?(o.push(t),l+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(i=r.indexOf("?",1),s=r.indexOf(".",1),o.push(r.substring(1,~i?i:~s?s:r.length)),l+=~i&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~i?"?":"")+"\\"+r.substring(s))):l+="/"+r;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var EP={exports:{}},AP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=E;function GI(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qI=typeof Object.is=="function"?Object.is:GI,XI=Uh.useState,KI=Uh.useEffect,YI=Uh.useLayoutEffect,QI=Uh.useDebugValue;function ZI(n,e){var t=e(),i=XI({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return YI(function(){r.value=t,r.getSnapshot=e,Zw(r)&&s({inst:r})},[n,t,e]),KI(function(){return Zw(r)&&s({inst:r}),n(function(){Zw(r)&&s({inst:r})})},[n]),QI(t),t}function Zw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qI(n,t)}catch{return!0}}function JI(n,e){return e()}var eO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JI:ZI;AP.useSyncExternalStore=Uh.useSyncExternalStore!==void 0?Uh.useSyncExternalStore:eO;EP.exports=AP;var tO=EP.exports;const nO=xT.useInsertionEffect,iO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rO=iO?E.useLayoutEffect:E.useEffect,sO=nO||rO,CP=n=>{const e=E.useRef([n,(...t)=>e[0](...t)]).current;return sO(()=>{e[0]=n}),e[1]},oO="popstate",nE="pushState",iE="replaceState",aO="hashchange",yC=[oO,nE,iE,aO],lO=n=>{for(const e of yC)addEventListener(e,n);return()=>{for(const e of yC)removeEventListener(e,n)}},kP=(n,e)=>tO.useSyncExternalStore(lO,n,e),cO=()=>location.search,uO=({ssrSearch:n=""}={})=>kP(cO,()=>n),xC=()=>location.pathname,dO=({ssrPath:n}={})=>kP(xC,n?()=>n:xC),hO=(n,{replace:e=!1,state:t=null}={})=>history[e?iE:nE](t,"",n),fO=(n={})=>[dO(n),hO],wC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[wC]>"u"){for(const n of[nE,iE]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),i=new Event(n);return i.arguments=arguments,dispatchEvent(i),t}}Object.defineProperty(window,wC,{value:!0})}const pO=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",TP=(n="")=>n==="/"?"":n,mO=(n,e)=>n[0]==="~"?n.slice(1):TP(e)+n,gO=(n="",e)=>pO(bC(TP(n)),bC(e)),bC=n=>{try{return decodeURI(n)}catch{return n}},_P={hook:fO,searchHook:uO,parser:WI,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},PP=E.createContext(_P),zx=()=>E.useContext(PP),RP={},DP=E.createContext(RP),vO=()=>E.useContext(DP),rE=n=>{const[e,t]=n.hook(n);return[gO(n.base,e),CP((i,r)=>t(mO(i,n.base),r))]},MP=(n,e,t,i)=>{const{pattern:r,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",i),o=r.exec(t)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((h,f)=>[h,c[f]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...i?[l]:[]]:[!1,null]},yO=({children:n,...e})=>{var d,h;const t=zx(),i=e.hook?_P:t;let r=i;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=E.useRef({}),c=l.current,u=c;for(let f in i){const p=f==="base"?i[f]+(e[f]||""):e[f]||i[f];c===u&&p!==u[f]&&(l.current=u={...u}),u[f]=p,p!==i[f]&&(r=u)}return E.createElement(PP.Provider,{value:r,children:n})},SC=({children:n,component:e},t)=>e?E.createElement(e,{params:t}):typeof n=="function"?n(t):n,xO=n=>{let e=E.useRef(RP),t=e.current;for(const i in n)n[i]!==t[i]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},EC=({path:n,nest:e,match:t,...i})=>{const r=zx(),[s]=rE(r),[o,l,c]=t??MP(r.parser,n,s,e),u=xO({...vO(),...l});if(!o)return null;const d=c?E.createElement(yO,{base:c},SC(i,u)):SC(i,u);return E.createElement(DP.Provider,{value:u,children:d})};E.forwardRef((n,e)=>{const t=zx(),[i,r]=rE(t),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:h,state:f,...p}=n,y=CP(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(l==null||l(w),w.defaultPrevented||(w.preventDefault(),r(o,n)))}),m=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return c&&E.isValidElement(u)?E.cloneElement(u,{onClick:y,href:m}):E.createElement("a",{...p,onClick:y,href:m,className:d!=null&&d.call?d(i===o):d,children:u,ref:e})});const LP=n=>Array.isArray(n)?n.flatMap(e=>LP(e&&e.type===E.Fragment?e.props.children:e)):[n],wO=({children:n,location:e})=>{const t=zx(),[i]=rE(t);for(const r of LP(n)){let s=0;if(E.isValidElement(r)&&(s=MP(t.parser,r.props.path,e||i,r.props.nest))[0])return E.cloneElement(r,{match:s})}return null};var $x=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ux=typeof window>"u"||"Deno"in globalThis;function pr(){}function bO(n,e){return typeof n=="function"?n(e):n}function SO(n){return typeof n=="number"&&n>=0&&n!==1/0}function EO(n,e){return Math.max(n+(e||0)-Date.now(),0)}function AC(n,e){return typeof n=="function"?n(e):n}function AO(n,e){return typeof n=="function"?n(e):n}function CC(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:l}=n;if(o){if(i){if(e.queryHash!==sE(o,e.options))return!1}else if(!bp(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||s&&!s(e))}function kC(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(wp(e.options.mutationKey)!==wp(s))return!1}else if(!bp(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function sE(n,e){return((e==null?void 0:e.queryKeyHashFn)||wp)(n)}function wp(n){return JSON.stringify(n,(e,t)=>g0(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function bp(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!bp(n[t],e[t])):!1}function NP(n,e){if(n===e)return n;const t=TC(n)&&TC(e);if(t||g0(n)&&g0(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,l=t?[]:{};let c=0;for(let u=0;u<o;u++){const d=t?u:s[u];(!t&&i.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=NP(n[d],e[d]),l[d]===n[d]&&n[d]!==void 0&&c++)}return r===o&&c===r?n:l}return e}function TC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function g0(n){if(!_C(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!_C(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function _C(n){return Object.prototype.toString.call(n)==="[object Object]"}function CO(n){return new Promise(e=>{setTimeout(e,n)})}function kO(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?NP(n,e):e}function TO(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function _O(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var oE=Symbol();function FP(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===oE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Rl,Xo,ed,Jk,PO=(Jk=class extends $x{constructor(){super();S(this,Rl);S(this,Xo);S(this,ed);v(this,ed,e=>{if(!Ux&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){a(this,Xo)||this.setEventListener(a(this,ed))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,Xo))==null||e.call(this),v(this,Xo,void 0))}setEventListener(e){var t;v(this,ed,e),(t=a(this,Xo))==null||t.call(this),v(this,Xo,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){a(this,Rl)!==e&&(v(this,Rl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof a(this,Rl)=="boolean"?a(this,Rl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rl=new WeakMap,Xo=new WeakMap,ed=new WeakMap,Jk),IP=new PO,td,Ko,nd,eT,RO=(eT=class extends $x{constructor(){super();S(this,td,!0);S(this,Ko);S(this,nd);v(this,nd,e=>{if(!Ux&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){a(this,Ko)||this.setEventListener(a(this,nd))}onUnsubscribe(){var e;this.hasListeners()||((e=a(this,Ko))==null||e.call(this),v(this,Ko,void 0))}setEventListener(e){var t;v(this,nd,e),(t=a(this,Ko))==null||t.call(this),v(this,Ko,e(this.setOnline.bind(this)))}setOnline(e){a(this,td)!==e&&(v(this,td,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return a(this,td)}},td=new WeakMap,Ko=new WeakMap,nd=new WeakMap,eT),Fy=new RO;function DO(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function MO(n){return Math.min(1e3*2**n,3e4)}function OP(n){return(n??"online")==="online"?Fy.isOnline():!0}var jP=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Jw(n){return n instanceof jP}function BP(n){let e=!1,t=0,i=!1,r;const s=DO(),o=m=>{var w;i||(f(new jP(m)),(w=n.abort)==null||w.call(n))},l=()=>{e=!0},c=()=>{e=!1},u=()=>IP.isFocused()&&(n.networkMode==="always"||Fy.isOnline())&&n.canRun(),d=()=>OP(n.networkMode)&&n.canRun(),h=m=>{var w;i||(i=!0,(w=n.onSuccess)==null||w.call(n,m),r==null||r(),s.resolve(m))},f=m=>{var w;i||(i=!0,(w=n.onError)==null||w.call(n,m),r==null||r(),s.reject(m))},p=()=>new Promise(m=>{var w;r=g=>{(i||u())&&m(g)},(w=n.onPause)==null||w.call(n)}).then(()=>{var m;r=void 0,i||(m=n.onContinue)==null||m.call(n)}),y=()=>{if(i)return;let m;const w=t===0?n.initialPromise:void 0;try{m=w??n.fn()}catch(g){m=Promise.reject(g)}Promise.resolve(m).then(h).catch(g=>{var _;if(i)return;const x=n.retry??(Ux?0:3),b=n.retryDelay??MO,A=typeof b=="function"?b(t,g):b,T=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,g);if(e||!T){f(g);return}t++,(_=n.onFail)==null||_.call(n,t,g),CO(A).then(()=>u()?void 0:p()).then(()=>{e?f(g):y()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),s)}}function LO(){let n=[],e=0,t=l=>{l()},i=l=>{l()},r=l=>setTimeout(l,0);const s=l=>{e?n.push(l):r(()=>{t(l)})},o=()=>{const l=n;n=[],l.length&&r(()=>{i(()=>{l.forEach(c=>{t(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{i=l},setScheduler:l=>{r=l}}}var jn=LO(),Dl,tT,zP=(tT=class{constructor(){S(this,Dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SO(this.gcTime)&&v(this,Dl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ux?1/0:5*60*1e3))}clearGcTimeout(){a(this,Dl)&&(clearTimeout(a(this,Dl)),v(this,Dl,void 0))}},Dl=new WeakMap,tT),id,rd,$i,yn,Np,Ml,mr,Rs,nT,NO=(nT=class extends zP{constructor(e){super();S(this,mr);S(this,id);S(this,rd);S(this,$i);S(this,yn);S(this,Np);S(this,Ml);v(this,Ml,!1),v(this,Np,e.defaultOptions),this.setOptions(e.options),this.observers=[],v(this,$i,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,v(this,id,IO(this.options)),this.state=e.state??a(this,id),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=a(this,yn))==null?void 0:e.promise}setOptions(e){this.options={...a(this,Np),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&a(this,$i).remove(this)}setData(e,t){const i=kO(this.state.data,e,this.options);return k(this,mr,Rs).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){k(this,mr,Rs).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=a(this,yn))==null?void 0:i.promise;return(r=a(this,yn))==null||r.cancel(e),t?t.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(a(this,id))}isActive(){return this.observers.some(e=>AO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!EO(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,yn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=a(this,yn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),a(this,$i).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(a(this,yn)&&(a(this,Ml)?a(this,yn).cancel({revert:!0}):a(this,yn).cancelRetry()),this.scheduleGc()),a(this,$i).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,mr,Rs).call(this,{type:"invalidate"})}fetch(e,t){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(a(this,yn))return a(this,yn).continueRetry(),a(this,yn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(v(this,Ml,!0),i.signal)})},s=()=>{const h=FP(this.options,t),f={queryKey:this.queryKey,meta:this.meta};return r(f),v(this,Ml,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),v(this,rd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&k(this,mr,Rs).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,y,m;Jw(h)&&h.silent||k(this,mr,Rs).call(this,{type:"error",error:h}),Jw(h)||((p=(f=a(this,$i).config).onError)==null||p.call(f,h,this),(m=(y=a(this,$i).config).onSettled)==null||m.call(y,this.state.data,h,this)),this.scheduleGc()};return v(this,yn,BP({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var f,p,y,m;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(p=(f=a(this,$i).config).onSuccess)==null||p.call(f,h,this),(m=(y=a(this,$i).config).onSettled)==null||m.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{k(this,mr,Rs).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{k(this,mr,Rs).call(this,{type:"pause"})},onContinue:()=>{k(this,mr,Rs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),a(this,yn).start()}},id=new WeakMap,rd=new WeakMap,$i=new WeakMap,yn=new WeakMap,Np=new WeakMap,Ml=new WeakMap,mr=new WeakSet,Rs=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...FO(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Jw(r)&&r.revert&&a(this,rd)?{...a(this,rd),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),jn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),a(this,$i).notify({query:this,type:"updated",action:e})})},nT);function FO(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OP(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function IO(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Gr,iT,OO=(iT=class extends $x{constructor(e={}){super();S(this,Gr);this.config=e,v(this,Gr,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??sE(r,t);let o=this.get(s);return o||(o=new NO({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){a(this,Gr).has(e.queryHash)||(a(this,Gr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=a(this,Gr).get(e.queryHash);t&&(e.destroy(),t===e&&a(this,Gr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return a(this,Gr).get(e)}getAll(){return[...a(this,Gr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>CC(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>CC(e,i)):t}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gr=new WeakMap,iT),qr,Mn,Ll,Xr,$o,rT,jO=(rT=class extends zP{constructor(e){super();S(this,Xr);S(this,qr);S(this,Mn);S(this,Ll);this.mutationId=e.mutationId,v(this,Mn,e.mutationCache),v(this,qr,[]),this.state=e.state||BO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){a(this,qr).includes(e)||(a(this,qr).push(e),this.clearGcTimeout(),a(this,Mn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){v(this,qr,a(this,qr).filter(t=>t!==e)),this.scheduleGc(),a(this,Mn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){a(this,qr).length||(this.state.status==="pending"?this.scheduleGc():a(this,Mn).remove(this))}continue(){var e;return((e=a(this,Ll))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,s,o,l,c,u,d,h,f,p,y,m,w,g,x,b,A,T,_,P;v(this,Ll,BP({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,D)=>{k(this,Xr,$o).call(this,{type:"failed",failureCount:R,error:D})},onPause:()=>{k(this,Xr,$o).call(this,{type:"pause"})},onContinue:()=>{k(this,Xr,$o).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>a(this,Mn).canRun(this)}));const t=this.state.status==="pending",i=!a(this,Ll).canStart();try{if(!t){k(this,Xr,$o).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(r=a(this,Mn).config).onMutate)==null?void 0:s.call(r,e,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));D!==this.state.context&&k(this,Xr,$o).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const R=await a(this,Ll).start();return await((u=(c=a(this,Mn).config).onSuccess)==null?void 0:u.call(c,R,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,R,e,this.state.context)),await((p=(f=a(this,Mn).config).onSettled)==null?void 0:p.call(f,R,null,this.state.variables,this.state.context,this)),await((m=(y=this.options).onSettled)==null?void 0:m.call(y,R,null,e,this.state.context)),k(this,Xr,$o).call(this,{type:"success",data:R}),R}catch(R){try{throw await((g=(w=a(this,Mn).config).onError)==null?void 0:g.call(w,R,e,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,R,e,this.state.context)),await((T=(A=a(this,Mn).config).onSettled)==null?void 0:T.call(A,void 0,R,this.state.variables,this.state.context,this)),await((P=(_=this.options).onSettled)==null?void 0:P.call(_,void 0,R,e,this.state.context)),R}finally{k(this,Xr,$o).call(this,{type:"error",error:R})}}finally{a(this,Mn).runNext(this)}}},qr=new WeakMap,Mn=new WeakMap,Ll=new WeakMap,Xr=new WeakSet,$o=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),jn.batch(()=>{a(this,qr).forEach(i=>{i.onMutationUpdate(e)}),a(this,Mn).notify({mutation:this,type:"updated",action:e})})},rT);function BO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var li,Fp,sT,zO=(sT=class extends $x{constructor(e={}){super();S(this,li);S(this,Fp);this.config=e,v(this,li,new Map),v(this,Fp,Date.now())}build(e,t,i){const r=new jO({mutationCache:this,mutationId:++yt(this,Fp)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=Yg(e),i=a(this,li).get(t)??[];i.push(e),a(this,li).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=Yg(e);if(a(this,li).has(t)){const r=(i=a(this,li).get(t))==null?void 0:i.filter(s=>s!==e);r&&(r.length===0?a(this,li).delete(t):a(this,li).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=a(this,li).get(Yg(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=a(this,li).get(Yg(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...a(this,li).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>kC(t,i))}findAll(e={}){return this.getAll().filter(t=>kC(e,t))}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(pr))))}},li=new WeakMap,Fp=new WeakMap,sT);function Yg(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function PC(n){return{onFetch:(e,t)=>{var d,h,f,p,y;const i=e.options,r=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},g=FP(e.options,e.fetchOptions),x=async(b,A,T)=>{if(m)return Promise.reject();if(A==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:e.queryKey,pageParam:A,direction:T?"backward":"forward",meta:e.options.meta};w(_);const P=await g(_),{maxPages:R}=e.options,D=T?_O:TO;return{pages:D(b.pages,P,R),pageParams:D(b.pageParams,A,R)}};if(r&&s.length){const b=r==="backward",A=b?$O:RC,T={pages:s,pageParams:o},_=A(i,T);l=await x(T,_,b)}else{const b=n??s.length;do{const A=c===0?o[0]??i.initialPageParam:RC(i,l);if(c>0&&A==null)break;l=await x(l,A),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var m,w;return(w=(m=e.options).persister)==null?void 0:w.call(m,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function RC(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function $O(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var xt,Yo,Qo,sd,od,Zo,ad,ld,oT,UO=(oT=class{constructor(n={}){S(this,xt);S(this,Yo);S(this,Qo);S(this,sd);S(this,od);S(this,Zo);S(this,ad);S(this,ld);v(this,xt,n.queryCache||new OO),v(this,Yo,n.mutationCache||new zO),v(this,Qo,n.defaultOptions||{}),v(this,sd,new Map),v(this,od,new Map),v(this,Zo,0)}mount(){yt(this,Zo)._++,a(this,Zo)===1&&(v(this,ad,IP.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,xt).onFocus())})),v(this,ld,Fy.subscribe(async n=>{n&&(await this.resumePausedMutations(),a(this,xt).onOnline())})))}unmount(){var n,e;yt(this,Zo)._--,a(this,Zo)===0&&((n=a(this,ad))==null||n.call(this),v(this,ad,void 0),(e=a(this,ld))==null||e.call(this),v(this,ld,void 0))}isFetching(n){return a(this,xt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return a(this,Yo).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,xt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=a(this,xt).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(AC(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return a(this,xt).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=a(this,xt).get(i.queryHash),s=r==null?void 0:r.state.data,o=bO(e,s);if(o!==void 0)return a(this,xt).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return jn.batch(()=>a(this,xt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=a(this,xt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=a(this,xt);jn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=a(this,xt),i={type:"active",...n};return jn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=jn.batch(()=>a(this,xt).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(pr).catch(pr)}invalidateQueries(n={},e={}){return jn.batch(()=>{if(a(this,xt).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=jn.batch(()=>a(this,xt).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(pr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(pr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=a(this,xt).build(this,e);return t.isStaleByTime(AC(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(pr).catch(pr)}fetchInfiniteQuery(n){return n.behavior=PC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(pr).catch(pr)}ensureInfiniteQueryData(n){return n.behavior=PC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Fy.isOnline()?a(this,Yo).resumePausedMutations():Promise.resolve()}getQueryCache(){return a(this,xt)}getMutationCache(){return a(this,Yo)}getDefaultOptions(){return a(this,Qo)}setDefaultOptions(n){v(this,Qo,n)}setQueryDefaults(n,e){a(this,sd).set(wp(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...a(this,sd).values()];let t={};return e.forEach(i=>{bp(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){a(this,od).set(wp(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...a(this,od).values()];let t={};return e.forEach(i=>{bp(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...a(this,Qo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=sE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===oE&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...a(this,Qo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){a(this,xt).clear(),a(this,Yo).clear()}},xt=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,sd=new WeakMap,od=new WeakMap,Zo=new WeakMap,ad=new WeakMap,ld=new WeakMap,oT),HO=E.createContext(void 0),VO=({client:n,children:e})=>(E.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(HO.Provider,{value:n,children:e}));async function WO(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const GO=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e.join("/"),{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await WO(t),await t.json())},qO=new UO({defaultOptions:{queries:{queryFn:GO({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),XO=1,KO=1e6;let eb=0;function YO(){return eb=(eb+1)%Number.MAX_SAFE_INTEGER,eb.toString()}const tb=new Map,DC=n=>{if(tb.has(n))return;const e=setTimeout(()=>{tb.delete(n),ep({type:"REMOVE_TOAST",toastId:n})},KO);tb.set(n,e)},QO=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,XO)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?DC(t):n.toasts.forEach(i=>{DC(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Tv=[];let _v={toasts:[]};function ep(n){_v=QO(_v,n),Tv.forEach(e=>{e(_v)})}function ZO({...n}){const e=YO(),t=r=>ep({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>ep({type:"DISMISS_TOAST",toastId:e});return ep({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function aE(){const[n,e]=E.useState(_v);return E.useEffect(()=>(Tv.push(e),()=>{const t=Tv.indexOf(e);t>-1&&Tv.splice(t,1)}),[n]),{...n,toast:ZO,dismiss:t=>ep({type:"DISMISS_TOAST",toastId:t})}}function he(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function MC(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function $P(...n){return e=>{let t=!1;const i=n.map(r=>{const s=MC(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():MC(n[r],null)}}}}function gt(...n){return E.useCallback($P(...n),n)}function JO(n,e){const t=E.createContext(e),i=s=>{const{children:o,...l}=s,c=E.useMemo(()=>l,Object.values(l));return C.jsx(t.Provider,{value:c,children:o})};i.displayName=n+"Provider";function r(s){const o=E.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[i,r]}function Oo(n,e=[]){let t=[];function i(s,o){const l=E.createContext(o),c=t.length;t=[...t,o];const u=h=>{var g;const{scope:f,children:p,...y}=h,m=((g=f==null?void 0:f[n])==null?void 0:g[c])||l,w=E.useMemo(()=>y,Object.values(y));return C.jsx(m.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[c])||l,y=E.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const r=()=>{const s=t.map(o=>E.createContext(o));return function(l){const c=(l==null?void 0:l[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return r.scopeName=n,[i,ej(r,...e)]}function ej(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Sp(n){const e=nj(n),t=E.forwardRef((i,r)=>{const{children:s,...o}=i,l=E.Children.toArray(s),c=l.find(rj);if(c){const u=c.props.children,d=l.map(h=>h===c?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:r,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var tj=Sp("Slot");function nj(n){const e=E.forwardRef((t,i)=>{const{children:r,...s}=t;if(E.isValidElement(r)){const o=oj(r),l=sj(s,r.props);return r.type!==E.Fragment&&(l.ref=i?$P(i,o):o),E.cloneElement(r,l)}return E.Children.count(r)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var UP=Symbol("radix.slottable");function ij(n){const e=({children:t})=>C.jsx(C.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=UP,e}function rj(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===UP}function sj(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...l)=>{s(...l),r(...l)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function oj(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function HP(n){const e=n+"CollectionProvider",[t,i]=Oo(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:w,children:g}=m,x=Ns.useRef(null),b=Ns.useRef(new Map).current;return C.jsx(r,{scope:w,itemMap:b,collectionRef:x,children:g})};o.displayName=e;const l=n+"CollectionSlot",c=Sp(l),u=Ns.forwardRef((m,w)=>{const{scope:g,children:x}=m,b=s(l,g),A=gt(w,b.collectionRef);return C.jsx(c,{ref:A,children:x})});u.displayName=l;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=Sp(d),p=Ns.forwardRef((m,w)=>{const{scope:g,children:x,...b}=m,A=Ns.useRef(null),T=gt(w,A),_=s(d,g);return Ns.useEffect(()=>(_.itemMap.set(A,{ref:A,...b}),()=>void _.itemMap.delete(A))),C.jsx(f,{[h]:"",ref:T,children:x})});p.displayName=d;function y(m){const w=s(n+"CollectionConsumer",m);return Ns.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((_,P)=>b.indexOf(_.ref.current)-b.indexOf(P.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,i]}var aj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=aj.reduce((n,e)=>{const t=Sp(`Primitive.${e}`),i=E.forwardRef((r,s)=>{const{asChild:o,...l}=r,c=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(c,{...l,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function VP(n,e){n&&bg.flushSync(()=>n.dispatchEvent(e))}function Ft(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function lj(n,e=globalThis==null?void 0:globalThis.document){const t=Ft(n);E.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var cj="DismissableLayer",v0="dismissableLayer.update",uj="dismissableLayer.pointerDownOutside",dj="dismissableLayer.focusOutside",LC,WP=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hx=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=n,u=E.useContext(WP),[d,h]=E.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=E.useState({}),y=gt(e,P=>h(P)),m=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(w),x=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,A=x>=g,T=fj(P=>{const R=P.target,D=[...u.branches].some(L=>L.contains(R));!A||D||(r==null||r(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),_=pj(P=>{const R=P.target;[...u.branches].some(L=>L.contains(R))||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return lj(P=>{x===u.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),E.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LC=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),NC(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=LC)}},[d,f,t,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),NC())},[d,u]),E.useEffect(()=>{const P=()=>p({});return document.addEventListener(v0,P),()=>document.removeEventListener(v0,P)},[]),C.jsx(Ee.div,{...c,ref:y,style:{pointerEvents:b?A?"auto":"none":void 0,...n.style},onFocusCapture:he(n.onFocusCapture,_.onFocusCapture),onBlurCapture:he(n.onBlurCapture,_.onBlurCapture),onPointerDownCapture:he(n.onPointerDownCapture,T.onPointerDownCapture)})});Hx.displayName=cj;var hj="DismissableLayerBranch",GP=E.forwardRef((n,e)=>{const t=E.useContext(WP),i=E.useRef(null),r=gt(e,i);return E.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(Ee.div,{...n,ref:r})});GP.displayName=hj;function fj(n,e=globalThis==null?void 0:globalThis.document){const t=Ft(n),i=E.useRef(!1),r=E.useRef(()=>{});return E.useEffect(()=>{const s=l=>{if(l.target&&!i.current){let c=function(){qP(uj,t,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function pj(n,e=globalThis==null?void 0:globalThis.document){const t=Ft(n),i=E.useRef(!1);return E.useEffect(()=>{const r=s=>{s.target&&!i.current&&qP(dj,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function NC(){const n=new CustomEvent(v0);document.dispatchEvent(n)}function qP(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?VP(r,s):r.dispatchEvent(s)}var mj=Hx,gj=GP,Po=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},vj="Portal",lE=E.forwardRef((n,e)=>{var l;const{container:t,...i}=n,[r,s]=E.useState(!1);Po(()=>s(!0),[]);const o=t||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VI.createPortal(C.jsx(Ee.div,{...i,ref:e}),o):null});lE.displayName=vj;function yj(n,e){return E.useReducer((t,i)=>e[t][i]??t,n)}var ar=n=>{const{present:e,children:t}=n,i=xj(e),r=typeof t=="function"?t({present:i.isPresent}):E.Children.only(t),s=gt(i.ref,wj(r));return typeof t=="function"||i.isPresent?E.cloneElement(r,{ref:s}):null};ar.displayName="Presence";function xj(n){const[e,t]=E.useState(),i=E.useRef({}),r=E.useRef(n),s=E.useRef("none"),o=n?"mounted":"unmounted",[l,c]=yj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Qg(i.current);s.current=l==="mounted"?u:"none"},[l]),Po(()=>{const u=i.current,d=r.current;if(d!==n){const f=s.current,p=Qg(u);n?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,c]),Po(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=Qg(i.current).includes(p.animationName);if(p.target===e&&m&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=p=>{p.target===e&&(s.current=Qg(i.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(u=>{u&&(i.current=getComputedStyle(u)),t(u)},[])}}function Qg(n){return(n==null?void 0:n.animationName)||"none"}function wj(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Sg({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=bj({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,l=Ft(t),c=E.useCallback(u=>{if(s){const h=typeof u=="function"?u(n):u;h!==n&&l(h)}else r(u)},[s,n,r,l]);return[o,c]}function bj({defaultProp:n,onChange:e}){const t=E.useState(n),[i]=t,r=E.useRef(i),s=Ft(e);return E.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var Sj="VisuallyHidden",Vx=E.forwardRef((n,e)=>C.jsx(Ee.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Vx.displayName=Sj;var Ej=Vx,cE="ToastProvider",[uE,Aj,Cj]=HP("Toast"),[XP,c5]=Oo("Toast",[Cj]),[kj,Wx]=XP(cE),KP=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[l,c]=E.useState(null),[u,d]=E.useState(0),h=E.useRef(!1),f=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${cE}\`. Expected non-empty \`string\`.`),C.jsx(uE.Provider,{scope:e,children:C.jsx(kj,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:E.useCallback(()=>d(p=>p+1),[]),onToastRemove:E.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};KP.displayName=cE;var YP="ToastViewport",Tj=["F8"],y0="toast.viewportPause",x0="toast.viewportResume",QP=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=Tj,label:r="Notifications ({hotkey})",...s}=n,o=Wx(YP,t),l=Aj(t),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=gt(e,h,o.onViewportChange),p=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;E.useEffect(()=>{const w=g=>{var b;i.length!==0&&i.every(A=>g[A]||g.code===A)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[i]),E.useEffect(()=>{const w=c.current,g=h.current;if(y&&w&&g){const x=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(y0);g.dispatchEvent(_),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(x0);g.dispatchEvent(_),o.isClosePausedRef.current=!1}},A=_=>{!w.contains(_.relatedTarget)&&b()},T=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",x),w.addEventListener("focusout",A),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",T),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",A),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",T),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const m=E.useCallback(({tabbingDirection:w})=>{const x=l().map(b=>{const A=b.ref.current,T=[A,...zj(A)];return w==="forwards"?T:T.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return E.useEffect(()=>{const w=h.current;if(w){const g=x=>{var T,_,P;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const R=document.activeElement,D=x.shiftKey;if(x.target===w&&D){(T=u.current)==null||T.focus();return}const j=m({tabbingDirection:D?"backwards":"forwards"}),$=j.findIndex(N=>N===R);nb(j.slice($+1))?x.preventDefault():D?(_=u.current)==null||_.focus():(P=d.current)==null||P.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,m]),C.jsxs(gj,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&C.jsx(w0,{ref:u,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"forwards"});nb(w)}}),C.jsx(uE.Slot,{scope:t,children:C.jsx(Ee.ol,{tabIndex:-1,...s,ref:f})}),y&&C.jsx(w0,{ref:d,onFocusFromOutsideViewport:()=>{const w=m({tabbingDirection:"backwards"});nb(w)}})]})});QP.displayName=YP;var ZP="ToastFocusProxy",w0=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=Wx(ZP,t);return C.jsx(Vx,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&i()}})});w0.displayName=ZP;var Gx="Toast",_j="toast.swipeStart",Pj="toast.swipeMove",Rj="toast.swipeCancel",Dj="toast.swipeEnd",JP=E.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[l=!0,c]=Sg({prop:i,defaultProp:r,onChange:s});return C.jsx(ar,{present:t||l,children:C.jsx(Nj,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Ft(n.onPause),onResume:Ft(n.onResume),onSwipeStart:he(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});JP.displayName=Gx;var[Mj,Lj]=XP(Gx,{onClose(){}}),Nj=E.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...y}=n,m=Wx(Gx,t),[w,g]=E.useState(null),x=gt(e,N=>g(N)),b=E.useRef(null),A=E.useRef(null),T=r||m.duration,_=E.useRef(0),P=E.useRef(T),R=E.useRef(0),{onToastAdd:D,onToastRemove:L}=m,F=Ft(()=>{var U;(w==null?void 0:w.contains(document.activeElement))&&((U=m.viewport)==null||U.focus()),o()}),j=E.useCallback(N=>{!N||N===1/0||(window.clearTimeout(R.current),_.current=new Date().getTime(),R.current=window.setTimeout(F,N))},[F]);E.useEffect(()=>{const N=m.viewport;if(N){const U=()=>{j(P.current),u==null||u()},O=()=>{const z=new Date().getTime()-_.current;P.current=P.current-z,window.clearTimeout(R.current),c==null||c()};return N.addEventListener(y0,O),N.addEventListener(x0,U),()=>{N.removeEventListener(y0,O),N.removeEventListener(x0,U)}}},[m.viewport,T,c,u,j]),E.useEffect(()=>{s&&!m.isClosePausedRef.current&&j(T)},[s,T,m.isClosePausedRef,j]),E.useEffect(()=>(D(),()=>L()),[D,L]);const $=E.useMemo(()=>w?oR(w):null,[w]);return m.viewport?C.jsxs(C.Fragment,{children:[$&&C.jsx(Fj,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),C.jsx(Mj,{scope:t,onClose:F,children:bg.createPortal(C.jsx(uE.ItemSlot,{scope:t,children:C.jsx(mj,{asChild:!0,onEscapeKeyDown:he(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(Ee.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:he(n.onKeyDown,N=>{N.key==="Escape"&&(l==null||l(N.nativeEvent),N.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:he(n.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:he(n.onPointerMove,N=>{if(!b.current)return;const U=N.clientX-b.current.x,O=N.clientY-b.current.y,z=!!A.current,M=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,W=M?I(0,U):0,q=M?0:I(0,O),B=N.pointerType==="touch"?10:2,H={x:W,y:q},Y={originalEvent:N,delta:H};z?(A.current=H,Zg(Pj,h,Y,{discrete:!1})):FC(H,m.swipeDirection,B)?(A.current=H,Zg(_j,d,Y,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(U)>B||Math.abs(O)>B)&&(b.current=null)}),onPointerUp:he(n.onPointerUp,N=>{const U=A.current,O=N.target;if(O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),A.current=null,b.current=null,U){const z=N.currentTarget,M={originalEvent:N,delta:U};FC(U,m.swipeDirection,m.swipeThreshold)?Zg(Dj,p,M,{discrete:!0}):Zg(Rj,f,M,{discrete:!0}),z.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Fj=n=>{const{__scopeToast:e,children:t,...i}=n,r=Wx(Gx,e),[s,o]=E.useState(!1),[l,c]=E.useState(!1);return jj(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:C.jsx(lE,{asChild:!0,children:C.jsx(Vx,{...i,children:s&&C.jsxs(C.Fragment,{children:[r.label," ",t]})})})},Ij="ToastTitle",eR=E.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(Ee.div,{...i,ref:e})});eR.displayName=Ij;var Oj="ToastDescription",tR=E.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return C.jsx(Ee.div,{...i,ref:e})});tR.displayName=Oj;var nR="ToastAction",iR=E.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?C.jsx(sR,{altText:t,asChild:!0,children:C.jsx(dE,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nR}\`. Expected non-empty \`string\`.`),null)});iR.displayName=nR;var rR="ToastClose",dE=E.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=Lj(rR,t);return C.jsx(sR,{asChild:!0,children:C.jsx(Ee.button,{type:"button",...i,ref:e,onClick:he(n.onClick,r.onClose)})})});dE.displayName=rR;var sR=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return C.jsx(Ee.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function oR(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),Bj(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oR(i))}}),e}function Zg(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?VP(r,s):r.dispatchEvent(s)}var FC=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function jj(n=()=>{}){const e=Ft(n);Po(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function Bj(n){return n.nodeType===n.ELEMENT_NODE}function zj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function nb(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var $j=KP,aR=QP,lR=JP,cR=eR,uR=tR,dR=iR,hR=dE;function fR(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=fR(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Jh(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=fR(n))&&(i&&(i+=" "),i+=e);return i}const IC=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,OC=Jh,qx=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return OC(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(u=>{const d=t==null?void 0:t[u],h=s==null?void 0:s[u];if(d===null)return null;const f=IC(d)||IC(h);return r[u][f]}),l=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[m,w]=y;return Array.isArray(w)?w.includes({...s,...l}[m]):{...s,...l}[m]===w})?[...u,h,f]:u},[]);return OC(n,o,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pR=(...n)=>n.filter((e,t,i)=>!!e&&i.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...Hj,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:pR("lucide",r),...l},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(n,e)=>{const t=E.forwardRef(({className:i,...r},s)=>E.createElement(Vj,{ref:s,iconNode:e,className:pR(`lucide-${Uj(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=ot("Combine",[["path",{d:"M10 18H5a3 3 0 0 1-3-3v-1",key:"ru65g8"}],["path",{d:"M14 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"e30een"}],["path",{d:"M20 2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2",key:"2ahx8o"}],["path",{d:"m7 21 3-3-3-3",key:"127cv2"}],["rect",{x:"14",y:"14",width:"8",height:"8",rx:"2",key:"1b0bso"}],["rect",{x:"2",y:"2",width:"8",height:"8",rx:"2",key:"1x09vl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=ot("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=ot("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=ot("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ot("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ot("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=ot("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=ot("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),mE="-",oB=n=>{const e=lB(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const l=o.split(mE);return l[0]===""&&l.length!==1&&l.shift(),xR(l,e)||aB(o)},getConflictingClassGroupIds:(o,l)=>{const c=t[o]||[];return l&&i[o]?[...c,...i[o]]:c}}},xR=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?xR(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(mE);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},jC=/^\[(.+)\]$/,aB=n=>{if(jC.test(n)){const e=jC.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lB=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return uB(Object.entries(n.classGroups),t).forEach(([s,o])=>{b0(o,i,s,e)}),i},b0=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:BC(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(cB(r)){b0(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{b0(o,BC(e,s),t,i)})})},BC=(n,e)=>{let t=n;return e.split(mE).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},cB=n=>n.isThemeGetter,uB=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[t,r]}):n,dB=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},wR="!",hB=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let g=l[w];if(u===0){if(g===r&&(i||l.slice(w,w+s)===e)){c.push(l.slice(d,w)),d=w+s;continue}if(g==="/"){h=w;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(wR),y=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:m}};return t?l=>t({className:l,parseClassName:o}):o},fB=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},pB=n=>({cache:dB(n.cacheSize),parseClassName:hB(n),...oB(n)}),mB=/\s+/,gB=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(mB);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let y=!!p,m=i(y?f.substring(0,p):f);if(!m){if(!y){l=u+(l.length>0?" "+l:l);continue}if(m=i(f),!m){l=u+(l.length>0?" "+l:l);continue}y=!1}const w=fB(d).join(":"),g=h?w+wR:w,x=g+m;if(s.includes(x))continue;s.push(x);const b=r(m,y);for(let A=0;A<b.length;++A){const T=b[A];s.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function vB(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=bR(e))&&(i&&(i+=" "),i+=t);return i}const bR=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=bR(n[i]))&&(t&&(t+=" "),t+=e);return t};function yB(n,...e){let t,i,r,s=o;function o(c){const u=e.reduce((d,h)=>h(d),n());return t=pB(u),i=t.cache.get,r=t.cache.set,s=l,l(c)}function l(c){const u=i(c);if(u)return u;const d=gB(c,t);return r(c,d),d}return function(){return s(vB.apply(null,arguments))}}const Qe=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},SR=/^\[(?:([a-z-]+):)?(.+)\]$/i,xB=/^\d+\/\d+$/,wB=new Set(["px","full","screen"]),bB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ps=n=>Xu(n)||wB.has(n)||xB.test(n),Bo=n=>ef(n,"length",LB),Xu=n=>!!n&&!Number.isNaN(Number(n)),ib=n=>ef(n,"number",Xu),pf=n=>!!n&&Number.isInteger(Number(n)),kB=n=>n.endsWith("%")&&Xu(n.slice(0,-1)),fe=n=>SR.test(n),zo=n=>bB.test(n),TB=new Set(["length","size","percentage"]),_B=n=>ef(n,TB,ER),PB=n=>ef(n,"position",ER),RB=new Set(["image","url"]),DB=n=>ef(n,RB,FB),MB=n=>ef(n,"",NB),mf=()=>!0,ef=(n,e,t)=>{const i=SR.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},LB=n=>SB.test(n)&&!EB.test(n),ER=()=>!1,NB=n=>AB.test(n),FB=n=>CB.test(n),IB=()=>{const n=Qe("colors"),e=Qe("spacing"),t=Qe("blur"),i=Qe("brightness"),r=Qe("borderColor"),s=Qe("borderRadius"),o=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),d=Qe("hueRotate"),h=Qe("invert"),f=Qe("gap"),p=Qe("gradientColorStops"),y=Qe("gradientColorStopPositions"),m=Qe("inset"),w=Qe("margin"),g=Qe("opacity"),x=Qe("padding"),b=Qe("saturate"),A=Qe("scale"),T=Qe("sepia"),_=Qe("skew"),P=Qe("space"),R=Qe("translate"),D=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",fe,e],j=()=>[fe,e],$=()=>["",Ps,Bo],N=()=>["auto",Xu,fe],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",fe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Xu,fe];return{cacheSize:500,separator:":",theme:{colors:[mf],spacing:[Ps,Bo],blur:["none","",zo,fe],brightness:q(),borderColor:[n],borderRadius:["none","","full",zo,fe],borderSpacing:j(),borderWidth:$(),contrast:q(),grayscale:I(),hueRotate:q(),invert:I(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[kB,Bo],inset:F(),margin:F(),opacity:q(),padding:j(),saturate:q(),scale:q(),sepia:I(),skew:q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[zo]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),fe]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pf,fe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",pf,fe]}],"grid-cols":[{"grid-cols":[mf]}],"col-start-end":[{col:["auto",{span:["full",pf,fe]},fe]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[mf]}],"row-start-end":[{row:["auto",{span:[pf,fe]},fe]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[zo]},zo]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zo,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ib]}],"font-family":[{font:[mf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Xu,ib]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ps,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ps,Bo]}],"underline-offset":[{"underline-offset":["auto",Ps,fe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),PB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_B]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DB]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Ps,fe]}],"outline-w":[{outline:[Ps,Bo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ps,Bo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",zo,MB]}],"shadow-color":[{shadow:[mf]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zo,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pf,fe]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ps,Bo,ib]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OB=yB(IB);function De(...n){return OB(Jh(n))}const jB=$j,AR=E.forwardRef(({className:n,...e},t)=>C.jsx(aR,{ref:t,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));AR.displayName=aR.displayName;const BB=qx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CR=E.forwardRef(({className:n,variant:e,...t},i)=>C.jsx(lR,{ref:i,className:De(BB({variant:e}),n),...t}));CR.displayName=lR.displayName;const zB=E.forwardRef(({className:n,...e},t)=>C.jsx(dR,{ref:t,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));zB.displayName=dR.displayName;const kR=E.forwardRef(({className:n,...e},t)=>C.jsx(hR,{ref:t,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:C.jsx(pE,{className:"h-4 w-4"})}));kR.displayName=hR.displayName;const TR=E.forwardRef(({className:n,...e},t)=>C.jsx(cR,{ref:t,className:De("text-sm font-semibold",n),...e}));TR.displayName=cR.displayName;const _R=E.forwardRef(({className:n,...e},t)=>C.jsx(uR,{ref:t,className:De("text-sm opacity-90",n),...e}));_R.displayName=uR.displayName;function $B(){const{toasts:n}=aE();return C.jsxs(jB,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return C.jsxs(CR,{...s,children:[C.jsxs("div",{className:"grid gap-1",children:[t&&C.jsx(TR,{children:t}),i&&C.jsx(_R,{children:i})]}),r,C.jsx(kR,{})]},e)}),C.jsx(AR,{})]})}var UB=xT[" useId ".trim().toString()]||(()=>{}),HB=0;function tp(n){const[e,t]=E.useState(UB());return Po(()=>{n||t(i=>i??String(HB++))},[n]),n||(e?`radix-${e}`:"")}const VB=["top","right","bottom","left"],ol=Math.min,Pi=Math.max,Iy=Math.round,Jg=Math.floor,As=n=>({x:n,y:n}),WB={left:"right",right:"left",bottom:"top",top:"bottom"},GB={start:"end",end:"start"};function S0(n,e,t){return Pi(n,ol(e,t))}function Ro(n,e){return typeof n=="function"?n(e):n}function Do(n){return n.split("-")[0]}function tf(n){return n.split("-")[1]}function gE(n){return n==="x"?"y":"x"}function vE(n){return n==="y"?"height":"width"}function al(n){return["top","bottom"].includes(Do(n))?"y":"x"}function yE(n){return gE(al(n))}function qB(n,e,t){t===void 0&&(t=!1);const i=tf(n),r=yE(n),s=vE(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Oy(o)),[o,Oy(o)]}function XB(n){const e=Oy(n);return[E0(n),e,E0(e)]}function E0(n){return n.replace(/start|end/g,e=>GB[e])}function KB(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function YB(n,e,t,i){const r=tf(n);let s=KB(Do(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(E0)))),s}function Oy(n){return n.replace(/left|right|bottom|top/g,e=>WB[e])}function QB(n){return{top:0,right:0,bottom:0,left:0,...n}}function PR(n){return typeof n!="number"?QB(n):{top:n,right:n,bottom:n,left:n}}function jy(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function zC(n,e,t){let{reference:i,floating:r}=n;const s=al(e),o=yE(e),l=vE(o),c=Do(e),u=s==="y",d=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,f=i[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:i.y-r.height};break;case"bottom":p={x:d,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-r.width,y:h};break;default:p={x:i.x,y:i.y}}switch(tf(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const ZB=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:d,y:h}=zC(u,i,c),f=i,p={},y=0;for(let m=0;m<l.length;m++){const{name:w,fn:g}=l[m],{x,y:b,data:A,reset:T}=await g({x:d,y:h,initialPlacement:i,placement:f,strategy:r,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=x??d,h=b??h,p={...p,[w]:{...p[w],...A}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):T.rects),{x:d,y:h}=zC(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:p}};async function Ep(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ro(e,n),y=PR(p),w=l[f?h==="floating"?"reference":"floating":h],g=jy(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},T=jy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:b,strategy:c}):x);return{top:(g.top-T.top+y.top)/A.y,bottom:(T.bottom-g.bottom+y.bottom)/A.y,left:(g.left-T.left+y.left)/A.x,right:(T.right-g.right+y.right)/A.x}}const JB=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Ro(n,e)||{};if(u==null)return{};const h=PR(d),f={x:t,y:i},p=yE(r),y=vE(p),m=await o.getDimensions(u),w=p==="y",g=w?"top":"left",x=w?"bottom":"right",b=w?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[p]-f[p]-s.floating[y],T=f[p]-s.reference[p],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=_?_[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(_)))&&(P=l.floating[b]||s.floating[y]);const R=A/2-T/2,D=P/2-m[y]/2-1,L=ol(h[g],D),F=ol(h[x],D),j=L,$=P-m[y]-F,N=P/2-m[y]/2+R,U=S0(j,N,$),O=!c.arrow&&tf(r)!=null&&N!==U&&s.reference[y]/2-(N<j?L:F)-m[y]/2<0,z=O?N<j?N-j:N-$:0;return{[p]:f[p]+z,data:{[p]:U,centerOffset:N-U-z,...O&&{alignmentOffset:z}},reset:O}}}),ez=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...w}=Ro(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const g=Do(r),x=al(l),b=Do(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),T=f||(b||!m?[Oy(l)]:XB(l)),_=y!=="none";!f&&_&&T.push(...YB(l,m,y,A));const P=[l,...T],R=await Ep(e,w),D=[];let L=((i=s.flip)==null?void 0:i.overflows)||[];if(d&&D.push(R[g]),h){const N=qB(r,o,A);D.push(R[N[0]],R[N[1]])}if(L=[...L,{placement:r,overflows:D}],!D.every(N=>N<=0)){var F,j;const N=(((F=s.flip)==null?void 0:F.index)||0)+1,U=P[N];if(U)return{data:{index:N,overflows:L},reset:{placement:U}};let O=(j=L.filter(z=>z.overflows[0]<=0).sort((z,M)=>z.overflows[1]-M.overflows[1])[0])==null?void 0:j.placement;if(!O)switch(p){case"bestFit":{var $;const z=($=L.filter(M=>{if(_){const I=al(M.placement);return I===x||I==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(I=>I>0).reduce((I,W)=>I+W,0)]).sort((M,I)=>M[1]-I[1])[0])==null?void 0:$[0];z&&(O=z);break}case"initialPlacement":O=l;break}if(r!==O)return{reset:{placement:O}}}return{}}}};function $C(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function UC(n){return VB.some(e=>n[e]>=0)}const tz=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=Ro(n,e);switch(i){case"referenceHidden":{const s=await Ep(e,{...r,elementContext:"reference"}),o=$C(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UC(o)}}}case"escaped":{const s=await Ep(e,{...r,altBoundary:!0}),o=$C(s,t.floating);return{data:{escapedOffsets:o,escaped:UC(o)}}}default:return{}}}}};async function nz(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Do(t),l=tf(t),c=al(t)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,h=Ro(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const iz=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:l}=e,c=await nz(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:o}}}}},rz=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:x}=w;return{x:g,y:x}}},...c}=Ro(n,e),u={x:t,y:i},d=await Ep(e,c),h=al(Do(r)),f=gE(h);let p=u[f],y=u[h];if(s){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",x=p+d[w],b=p-d[g];p=S0(x,p,b)}if(o){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",x=y+d[w],b=y-d[g];y=S0(x,y,b)}const m=l.fn({...e,[f]:p,[h]:y});return{...m,data:{x:m.x-t,y:m.y-i,enabled:{[f]:s,[h]:o}}}}}},sz=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ro(n,e),d={x:t,y:i},h=al(r),f=gE(h);let p=d[f],y=d[h];const m=Ro(l,e),w=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=f==="y"?"height":"width",A=s.reference[f]-s.floating[b]+w.mainAxis,T=s.reference[f]+s.reference[b]-w.mainAxis;p<A?p=A:p>T&&(p=T)}if(u){var g,x;const b=f==="y"?"width":"height",A=["top","left"].includes(Do(r)),T=s.reference[h]-s.floating[b]+(A&&((g=o.offset)==null?void 0:g[h])||0)+(A?0:w.crossAxis),_=s.reference[h]+s.reference[b]+(A?0:((x=o.offset)==null?void 0:x[h])||0)-(A?w.crossAxis:0);y<T?y=T:y>_&&(y=_)}return{[f]:p,[h]:y}}}},oz=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Ro(n,e),d=await Ep(e,u),h=Do(r),f=tf(r),p=al(r)==="y",{width:y,height:m}=s.floating;let w,g;h==="top"||h==="bottom"?(w=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,w=f==="end"?"top":"bottom");const x=m-d.top-d.bottom,b=y-d.left-d.right,A=ol(m-d[w],x),T=ol(y-d[g],b),_=!e.middlewareData.shift;let P=A,R=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=b),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=x),_&&!f){const L=Pi(d.left,0),F=Pi(d.right,0),j=Pi(d.top,0),$=Pi(d.bottom,0);p?R=y-2*(L!==0||F!==0?L+F:Pi(d.left,d.right)):P=m-2*(j!==0||$!==0?j+$:Pi(d.top,d.bottom))}await c({...e,availableWidth:R,availableHeight:P});const D=await o.getDimensions(l.floating);return y!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function Kx(){return typeof window<"u"}function nf(n){return RR(n)?(n.nodeName||"").toLowerCase():"#document"}function Li(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(n){var e;return(e=(RR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function RR(n){return Kx()?n instanceof Node||n instanceof Li(n).Node:!1}function Nr(n){return Kx()?n instanceof Element||n instanceof Li(n).Element:!1}function Cs(n){return Kx()?n instanceof HTMLElement||n instanceof Li(n).HTMLElement:!1}function HC(n){return!Kx()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Li(n).ShadowRoot}function Eg(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Fr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function az(n){return["table","td","th"].includes(nf(n))}function Yx(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function xE(n){const e=wE(),t=Nr(n)?Fr(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function lz(n){let e=ll(n);for(;Cs(e)&&!Hh(e);){if(xE(e))return e;if(Yx(e))return null;e=ll(e)}return null}function wE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hh(n){return["html","body","#document"].includes(nf(n))}function Fr(n){return Li(n).getComputedStyle(n)}function Qx(n){return Nr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ll(n){if(nf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||HC(n)&&n.host||Ts(n);return HC(e)?e.host:e}function DR(n){const e=ll(n);return Hh(e)?n.ownerDocument?n.ownerDocument.body:n.body:Cs(e)&&Eg(e)?e:DR(e)}function Ap(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=DR(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Li(r);if(s){const l=A0(o);return e.concat(o,o.visualViewport||[],Eg(r)?r:[],l&&t?Ap(l):[])}return e.concat(r,Ap(r,[],t))}function A0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function MR(n){const e=Fr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Cs(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,l=Iy(t)!==s||Iy(i)!==o;return l&&(t=s,i=o),{width:t,height:i,$:l}}function bE(n){return Nr(n)?n:n.contextElement}function Ku(n){const e=bE(n);if(!Cs(e))return As(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=MR(e);let o=(s?Iy(t.width):t.width)/i,l=(s?Iy(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cz=As(0);function LR(n){const e=Li(n);return!wE()||!e.visualViewport?cz:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uz(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Li(n)?!1:e}function Jc(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=bE(n);let o=As(1);e&&(i?Nr(i)&&(o=Ku(i)):o=Ku(n));const l=uz(s,t,i)?LR(s):As(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(s){const f=Li(s),p=i&&Nr(i)?Li(i):i;let y=f,m=A0(y);for(;m&&i&&p!==y;){const w=Ku(m),g=m.getBoundingClientRect(),x=Fr(m),b=g.left+(m.clientLeft+parseFloat(x.paddingLeft))*w.x,A=g.top+(m.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=b,u+=A,y=Li(m),m=A0(y)}}return jy({width:d,height:h,x:c,y:u})}function SE(n,e){const t=Qx(n).scrollLeft;return e?e.left+t:Jc(Ts(n)).left+t}function NR(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),r=i.left+e.scrollLeft-(t?0:SE(n,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function dz(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=Ts(i),l=e?Yx(e.floating):!1;if(i===o||l&&s)return t;let c={scrollLeft:0,scrollTop:0},u=As(1);const d=As(0),h=Cs(i);if((h||!h&&!s)&&((nf(i)!=="body"||Eg(o))&&(c=Qx(i)),Cs(i))){const p=Jc(i);u=Ku(i),d.x=p.x+i.clientLeft,d.y=p.y+i.clientTop}const f=o&&!h&&!s?NR(o,c,!0):As(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-c.scrollTop*u.y+d.y+f.y}}function hz(n){return Array.from(n.getClientRects())}function fz(n){const e=Ts(n),t=Qx(n),i=n.ownerDocument.body,r=Pi(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Pi(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+SE(n);const l=-t.scrollTop;return Fr(i).direction==="rtl"&&(o+=Pi(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:l}}function pz(n,e){const t=Li(n),i=Ts(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,l=0,c=0;if(r){s=r.width,o=r.height;const u=wE();(!u||u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:s,height:o,x:l,y:c}}function mz(n,e){const t=Jc(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=Cs(n)?Ku(n):As(1),o=n.clientWidth*s.x,l=n.clientHeight*s.y,c=r*s.x,u=i*s.y;return{width:o,height:l,x:c,y:u}}function VC(n,e,t){let i;if(e==="viewport")i=pz(n,t);else if(e==="document")i=fz(Ts(n));else if(Nr(e))i=mz(e,t);else{const r=LR(n);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return jy(i)}function FR(n,e){const t=ll(n);return t===e||!Nr(t)||Hh(t)?!1:Fr(t).position==="fixed"||FR(t,e)}function gz(n,e){const t=e.get(n);if(t)return t;let i=Ap(n,[],!1).filter(l=>Nr(l)&&nf(l)!=="body"),r=null;const s=Fr(n).position==="fixed";let o=s?ll(n):n;for(;Nr(o)&&!Hh(o);){const l=Fr(o),c=xE(o);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Eg(o)&&!c&&FR(n,o))?i=i.filter(d=>d!==o):r=l,o=ll(o)}return e.set(n,i),i}function vz(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?Yx(e)?[]:gz(e,this._c):[].concat(t),i],l=o[0],c=o.reduce((u,d)=>{const h=VC(e,d,r);return u.top=Pi(h.top,u.top),u.right=ol(h.right,u.right),u.bottom=ol(h.bottom,u.bottom),u.left=Pi(h.left,u.left),u},VC(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yz(n){const{width:e,height:t}=MR(n);return{width:e,height:t}}function xz(n,e,t){const i=Cs(e),r=Ts(e),s=t==="fixed",o=Jc(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=As(0);if(i||!i&&!s)if((nf(e)!=="body"||Eg(r))&&(l=Qx(e)),i){const f=Jc(e,!0,s,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else r&&(c.x=SE(r));const u=r&&!i&&!s?NR(r,l):As(0),d=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function rb(n){return Fr(n).position==="static"}function WC(n,e){if(!Cs(n)||Fr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ts(n)===t&&(t=t.ownerDocument.body),t}function IR(n,e){const t=Li(n);if(Yx(n))return t;if(!Cs(n)){let r=ll(n);for(;r&&!Hh(r);){if(Nr(r)&&!rb(r))return r;r=ll(r)}return t}let i=WC(n,e);for(;i&&az(i)&&rb(i);)i=WC(i,e);return i&&Hh(i)&&rb(i)&&!xE(i)?t:i||lz(n)||t}const wz=async function(n){const e=this.getOffsetParent||IR,t=this.getDimensions,i=await t(n.floating);return{reference:xz(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function bz(n){return Fr(n).direction==="rtl"}const Sz={convertOffsetParentRelativeRectToViewportRelativeRect:dz,getDocumentElement:Ts,getClippingRect:vz,getOffsetParent:IR,getElementRects:wz,getClientRects:hz,getDimensions:yz,getScale:Ku,isElement:Nr,isRTL:bz};function OR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Ez(n,e){let t=null,i;const r=Ts(n);function s(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||e(),!f||!p)return;const y=Jg(h),m=Jg(r.clientWidth-(d+f)),w=Jg(r.clientHeight-(h+p)),g=Jg(d),b={rootMargin:-y+"px "+-m+"px "+-w+"px "+-g+"px",threshold:Pi(0,ol(1,c))||1};let A=!0;function T(_){const P=_[0].intersectionRatio;if(P!==c){if(!A)return o();P?o(!1,P):i=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!OR(u,n.getBoundingClientRect())&&o(),A=!1}try{t=new IntersectionObserver(T,{...b,root:r.ownerDocument})}catch{t=new IntersectionObserver(T,b)}t.observe(n)}return o(!0),s}function Az(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=bE(n),d=r||s?[...u?Ap(u):[],...Ap(e)]:[];d.forEach(g=>{r&&g.addEventListener("scroll",t,{passive:!0}),s&&g.addEventListener("resize",t)});const h=u&&l?Ez(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),t()}),u&&!c&&p.observe(u),p.observe(e));let y,m=c?Jc(n):null;c&&w();function w(){const g=Jc(n);m&&!OR(m,g)&&t(),m=g,y=requestAnimationFrame(w)}return t(),()=>{var g;d.forEach(x=>{r&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),h==null||h(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Cz=iz,kz=rz,Tz=ez,_z=oz,Pz=tz,GC=JB,Rz=sz,Dz=(n,e,t)=>{const i=new Map,r={platform:Sz,...t},s={...r.platform,_c:i};return ZB(n,e,{...r,platform:s})};var Pv=typeof document<"u"?E.useLayoutEffect:E.useEffect;function By(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!By(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!By(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function jR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function qC(n,e){const t=jR(n);return Math.round(e*t)/t}function sb(n){const e=E.useRef(n);return Pv(()=>{e.current=n}),e}function Mz(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[d,h]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=E.useState(i);By(f,i)||p(i);const[y,m]=E.useState(null),[w,g]=E.useState(null),x=E.useCallback(M=>{M!==_.current&&(_.current=M,m(M))},[]),b=E.useCallback(M=>{M!==P.current&&(P.current=M,g(M))},[]),A=s||y,T=o||w,_=E.useRef(null),P=E.useRef(null),R=E.useRef(d),D=c!=null,L=sb(c),F=sb(r),j=sb(u),$=E.useCallback(()=>{if(!_.current||!P.current)return;const M={placement:e,strategy:t,middleware:f};F.current&&(M.platform=F.current),Dz(_.current,P.current,M).then(I=>{const W={...I,isPositioned:j.current!==!1};N.current&&!By(R.current,W)&&(R.current=W,bg.flushSync(()=>{h(W)}))})},[f,e,t,F,j]);Pv(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const N=E.useRef(!1);Pv(()=>(N.current=!0,()=>{N.current=!1}),[]),Pv(()=>{if(A&&(_.current=A),T&&(P.current=T),A&&T){if(L.current)return L.current(A,T,$);$()}},[A,T,$,L,D]);const U=E.useMemo(()=>({reference:_,floating:P,setReference:x,setFloating:b}),[x,b]),O=E.useMemo(()=>({reference:A,floating:T}),[A,T]),z=E.useMemo(()=>{const M={position:t,left:0,top:0};if(!O.floating)return M;const I=qC(O.floating,d.x),W=qC(O.floating,d.y);return l?{...M,transform:"translate("+I+"px, "+W+"px)",...jR(O.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:I,top:W}},[t,l,O.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:$,refs:U,elements:O,floatingStyles:z}),[d,$,U,O,z])}const Lz=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?GC({element:i.current,padding:r}).fn(t):{}:i?GC({element:i,padding:r}).fn(t):{}}}},Nz=(n,e)=>({...Cz(n),options:[n,e]}),Fz=(n,e)=>({...kz(n),options:[n,e]}),Iz=(n,e)=>({...Rz(n),options:[n,e]}),Oz=(n,e)=>({...Tz(n),options:[n,e]}),jz=(n,e)=>({..._z(n),options:[n,e]}),Bz=(n,e)=>({...Pz(n),options:[n,e]}),zz=(n,e)=>({...Lz(n),options:[n,e]});var $z="Arrow",BR=E.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return C.jsx(Ee.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});BR.displayName=$z;var Uz=BR;function zR(n){const[e,t]=E.useState(void 0);return Po(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=n.offsetWidth,l=n.offsetHeight;t({width:o,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var $R="Popper",[UR,HR]=Oo($R),[u5,VR]=UR($R),WR="PopperAnchor",GR=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=VR(WR,t),o=E.useRef(null),l=gt(e,o);return E.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:C.jsx(Ee.div,{...r,ref:l})});GR.displayName=WR;var EE="PopperContent",[Hz,Vz]=UR(EE),qR=E.forwardRef((n,e)=>{var ve,Ot,kt,se,qe,jt;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...m}=n,w=VR(EE,t),[g,x]=E.useState(null),b=gt(e,ye=>x(ye)),[A,T]=E.useState(null),_=zR(A),P=(_==null?void 0:_.width)??0,R=(_==null?void 0:_.height)??0,D=i+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],j=F.length>0,$={padding:L,boundary:F.filter(Gz),altBoundary:j},{refs:N,floatingStyles:U,placement:O,isPositioned:z,middlewareData:M}=Mz({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>Az(...ye,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[Nz({mainAxis:r+R,alignmentAxis:o}),c&&Fz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iz():void 0,...$}),c&&Oz({...$}),jz({...$,apply:({elements:ye,rects:Pe,availableWidth:tt,availableHeight:at})=>{const{width:Pn,height:cr}=Pe.reference,oi=ye.floating.style;oi.setProperty("--radix-popper-available-width",`${tt}px`),oi.setProperty("--radix-popper-available-height",`${at}px`),oi.setProperty("--radix-popper-anchor-width",`${Pn}px`),oi.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),A&&zz({element:A,padding:l}),qz({arrowWidth:P,arrowHeight:R}),f&&Bz({strategy:"referenceHidden",...$})]}),[I,W]=YR(O),q=Ft(y);Po(()=>{z&&(q==null||q())},[z,q]);const B=(ve=M.arrow)==null?void 0:ve.x,H=(Ot=M.arrow)==null?void 0:Ot.y,Y=((kt=M.arrow)==null?void 0:kt.centerOffset)!==0,[oe,ae]=E.useState();return Po(()=>{g&&ae(window.getComputedStyle(g).zIndex)},[g]),C.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:z?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(se=M.transformOrigin)==null?void 0:se.x,(qe=M.transformOrigin)==null?void 0:qe.y].join(" "),...((jt=M.hide)==null?void 0:jt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:C.jsx(Hz,{scope:t,placedSide:I,onArrowChange:T,arrowX:B,arrowY:H,shouldHideArrow:Y,children:C.jsx(Ee.div,{"data-side":I,"data-align":W,...m,ref:b,style:{...m.style,animation:z?void 0:"none"}})})})});qR.displayName=EE;var XR="PopperArrow",Wz={top:"bottom",right:"left",bottom:"top",left:"right"},KR=E.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=Vz(XR,i),o=Wz[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(Uz,{...r,ref:t,style:{...r.style,display:"block"}})})});KR.displayName=XR;function Gz(n){return n!==null}var qz=n=>({name:"transformOrigin",options:n,fn(e){var w,g,x;const{placement:t,rects:i,middlewareData:r}=e,o=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:n.arrowWidth,c=o?0:n.arrowHeight,[u,d]=YR(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=r.arrow)==null?void 0:g.x)??0)+l/2,p=(((x=r.arrow)==null?void 0:x.y)??0)+c/2;let y="",m="";return u==="bottom"?(y=o?h:`${f}px`,m=`${-c}px`):u==="top"?(y=o?h:`${f}px`,m=`${i.floating.height+c}px`):u==="right"?(y=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(y=`${i.floating.width+c}px`,m=o?h:`${p}px`),{data:{x:y,y:m}}}});function YR(n){const[e,t="center"]=n.split("-");return[e,t]}var Xz=GR,Kz=qR,Yz=KR,[Zx,d5]=Oo("Tooltip",[HR]),AE=HR(),QR="TooltipProvider",Qz=700,XC="tooltip.open",[Zz,ZR]=Zx(QR),JR=n=>{const{__scopeTooltip:e,delayDuration:t=Qz,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,o=E.useRef(!0),l=E.useRef(!1),c=E.useRef(0);return E.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),C.jsx(Zz,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:E.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(u=>{l.current=u},[]),disableHoverableContent:r,children:s})};JR.displayName=QR;var eD="Tooltip",[h5,Jx]=Zx(eD),C0="TooltipTrigger",Jz=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Jx(C0,t),s=ZR(C0,t),o=AE(t),l=E.useRef(null),c=gt(e,l,r.onTriggerChange),u=E.useRef(!1),d=E.useRef(!1),h=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx(Xz,{asChild:!0,...o,children:C.jsx(Ee.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:c,onPointerMove:he(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(n.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:he(n.onPointerDown,()=>{r.open&&r.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:he(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:he(n.onBlur,r.onClose),onClick:he(n.onClick,r.onClose)})})});Jz.displayName=C0;var e3="TooltipPortal",[f5,t3]=Zx(e3,{forceMount:void 0}),Vh="TooltipContent",tD=E.forwardRef((n,e)=>{const t=t3(Vh,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=Jx(Vh,n.__scopeTooltip);return C.jsx(ar,{present:i||o.open,children:o.disableHoverableContent?C.jsx(nD,{side:r,...s,ref:e}):C.jsx(n3,{side:r,...s,ref:e})})}),n3=E.forwardRef((n,e)=>{const t=Jx(Vh,n.__scopeTooltip),i=ZR(Vh,n.__scopeTooltip),r=E.useRef(null),s=gt(e,r),[o,l]=E.useState(null),{trigger:c,onClose:u}=t,d=r.current,{onPointerInTransitChange:h}=i,f=E.useCallback(()=>{l(null),h(!1)},[h]),p=E.useCallback((y,m)=>{const w=y.currentTarget,g={x:y.clientX,y:y.clientY},x=a3(g,w.getBoundingClientRect()),b=l3(g,x),A=c3(m.getBoundingClientRect()),T=d3([...b,...A]);l(T),h(!0)},[h]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(c&&d){const y=w=>p(w,d),m=w=>p(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),E.useEffect(()=>{if(o){const y=m=>{const w=m.target,g={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!u3(g,o);x?f():b&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,f]),C.jsx(nD,{...n,ref:s})}),[i3,r3]=Zx(eD,{isInside:!1}),s3=ij("TooltipContent"),nD=E.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=n,c=Jx(Vh,t),u=AE(t),{onClose:d}=c;return E.useEffect(()=>(document.addEventListener(XC,d),()=>document.removeEventListener(XC,d)),[d]),E.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),C.jsx(Hx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(Kz,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(s3,{children:i}),C.jsx(i3,{scope:t,isInside:!0,children:C.jsx(Ej,{id:c.contentId,role:"tooltip",children:r||i})})]})})});tD.displayName=Vh;var iD="TooltipArrow",o3=E.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=AE(t);return r3(iD,t).isInside?null:C.jsx(Yz,{...r,...i,ref:e})});o3.displayName=iD;function a3(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function l3(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function c3(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function u3(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>i!=d>i&&t<(u-l)*(i-c)/(d-c)+l&&(r=!r)}return r}function d3(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),h3(e)}function h3(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var f3=JR,rD=tD;const p3=f3,m3=E.forwardRef(({className:n,sideOffset:e=4,...t},i)=>C.jsx(rD,{ref:i,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t}));m3.displayName=rD.displayName;const g3=qx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ae=E.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?tj:"button";return C.jsx(o,{className:De(g3({variant:e,size:t,className:n})),ref:s,...r})});Ae.displayName="Button";function v3(){const[n,e]=E.useState("light");E.useEffect(()=>{const i=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches,s=i||(r?"dark":"light");e(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const t=()=>{const i=n==="light"?"dark":"light";e(i),localStorage.setItem("theme",i),document.documentElement.classList.toggle("dark",i==="dark")};return C.jsx(Ae,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle",children:n==="light"?C.jsx(eB,{className:"h-5 w-5"}):C.jsx(rB,{className:"h-5 w-5"})})}function y3(){return C.jsx("header",{className:"sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:C.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-6",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-primary",children:C.jsx(Xx,{className:"h-5 w-5 text-primary-foreground"})}),C.jsx("h1",{className:"text-xl font-semibold",children:"Neski PDFs"})]}),C.jsx(v3,{})]})})}var sD={exports:{}},x3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w3=x3,b3=w3;function oD(){}function aD(){}aD.resetWarningCache=oD;var S3=function(){function n(i,r,s,o,l,c){if(c!==b3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aD,resetWarningCache:oD};return t.PropTypes=t,t};sD.exports=S3();var E3=sD.exports;const $e=Ex(E3);var xs=function(){return xs=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},xs.apply(this,arguments)};function lD(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function ou(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function l(d){try{u(i.next(d))}catch(h){o(h)}}function c(d){try{u(i.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):r(d.value).then(l,c)}u((i=i.apply(n,e||[])).next())})}function A3(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}const C3=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Wh(n,e,t){const i=k3(n),{webkitRelativePath:r}=n,s=typeof e=="string"?e:typeof r=="string"&&r.length>0?r:`./${n.name}`;return typeof i.path!="string"&&KC(i,"path",s),KC(i,"relativePath",s),i}function k3(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),r=C3.get(i);r&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return n}function KC(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const T3=[".DS_Store","Thumbs.db"];function _3(n){return ou(this,void 0,void 0,function*(){return zy(n)&&P3(n.dataTransfer)?L3(n.dataTransfer,n.type):R3(n)?D3(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?M3(n):[]})}function P3(n){return zy(n)}function R3(n){return zy(n)&&zy(n.target)}function zy(n){return typeof n=="object"&&n!==null}function D3(n){return k0(n.target.files).map(e=>Wh(e))}function M3(n){return ou(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>Wh(t))})}function L3(n,e){return ou(this,void 0,void 0,function*(){if(n.items){const t=k0(n.items).filter(r=>r.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(N3));return YC(cD(i))}return YC(k0(n.files).map(t=>Wh(t)))})}function YC(n){return n.filter(e=>T3.indexOf(e.name)===-1)}function k0(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function N3(n){if(typeof n.webkitGetAsEntry!="function")return QC(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?uD(e):QC(n,e)}function cD(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?cD(t):[t]],[])}function QC(n,e){return ou(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Wh(o)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return Wh(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function F3(n){return ou(this,void 0,void 0,function*(){return n.isDirectory?uD(n):I3(n)})}function uD(n){const e=n.createReader();return new Promise((t,i)=>{const r=[];function s(){e.readEntries(o=>ou(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(F3));r.push(l),s()}else try{const l=yield Promise.all(r);t(l)}catch(l){i(l)}}),o=>{i(o)})}s()})}function I3(n){return ou(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const r=Wh(i,n.fullPath);e(r)},i=>{t(i)})})})}var ob=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",r=(n.type||"").toLowerCase(),s=r.replace(/\/.*$/,"");return t.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?i.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):r===l})}return!0};function ZC(n){return B3(n)||j3(n)||hD(n)||O3()}function O3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function B3(n){if(Array.isArray(n))return T0(n)}function JC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ek(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(i){dD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cp(n,e){return U3(n)||$3(n,e)||hD(n,e)||z3()}function z3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hD(n,e){if(n){if(typeof n=="string")return T0(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T0(n,e)}}function T0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function $3(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,l;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(c){s=!0,l=c}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw l}}return i}}function U3(n){if(Array.isArray(n))return n}var H3=typeof ob=="function"?ob:ob.default,V3="file-invalid-type",W3="file-too-large",G3="file-too-small",q3="too-many-files",X3=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:V3,message:"File type must be ".concat(i)}},tk=function(e){return{code:W3,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},nk=function(e){return{code:G3,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},K3={code:q3,message:"Too many files"};function fD(n,e){var t=n.type==="application/x-moz-file"||H3(n,e);return[t,t?null:X3(e)]}function pD(n,e,t){if(Sl(n.size))if(Sl(e)&&Sl(t)){if(n.size>t)return[!1,tk(t)];if(n.size<e)return[!1,nk(e)]}else{if(Sl(e)&&n.size<e)return[!1,nk(e)];if(Sl(t)&&n.size>t)return[!1,tk(t)]}return[!0,null]}function Sl(n){return n!=null}function Y3(n){var e=n.files,t=n.accept,i=n.minSize,r=n.maxSize,s=n.multiple,o=n.maxFiles,l=n.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var u=fD(c,t),d=Cp(u,1),h=d[0],f=pD(c,i,r),p=Cp(f,1),y=p[0],m=l?l(c):null;return h&&y&&!m})}function $y(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function ev(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function ik(n){n.preventDefault()}function Q3(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Z3(n){return n.indexOf("Edge/")!==-1}function J3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Q3(n)||Z3(n)}function $r(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return e.some(function(l){return!$y(i)&&l&&l.apply(void 0,[i].concat(s)),$y(i)})}}function e4(){return"showOpenFilePicker"in window}function t4(n){if(Sl(n)){var e=Object.entries(n).filter(function(t){var i=Cp(t,2),r=i[0],s=i[1],o=!0;return mD(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(gD))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,i){var r=Cp(i,2),s=r[0],o=r[1];return ek(ek({},t),{},dD({},s,o))},{});return[{description:"Files",accept:e}]}return n}function n4(n){if(Sl(n))return Object.entries(n).reduce(function(e,t){var i=Cp(t,2),r=i[0],s=i[1];return[].concat(ZC(e),[r],ZC(s))},[]).filter(function(e){return mD(e)||gD(e)}).join(",")}function i4(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function r4(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function mD(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function gD(n){return/^.*\.[\w]+$/.test(n)}var s4=["children"],o4=["open"],a4=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],l4=["refKey","onChange","onClick"];function c4(n){return h4(n)||d4(n)||vD(n)||u4()}function u4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function h4(n){if(Array.isArray(n))return _0(n)}function ab(n,e){return m4(n)||p4(n,e)||vD(n,e)||f4()}function f4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vD(n,e){if(n){if(typeof n=="string")return _0(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _0(n,e)}}function _0(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function p4(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,s=!1,o,l;try{for(t=t.call(n);!(r=(o=t.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(c){s=!0,l=c}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw l}}return i}}function m4(n){if(Array.isArray(n))return n}function rk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ut(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(t),!0).forEach(function(i){P0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rk(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uy(n,e){if(n==null)return{};var t=g4(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function g4(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var CE=E.forwardRef(function(n,e){var t=n.children,i=Uy(n,s4),r=xD(i),s=r.open,o=Uy(r,o4);return E.useImperativeHandle(e,function(){return{open:s}},[s]),Ns.createElement(E.Fragment,null,t(ut(ut({},o),{},{open:s})))});CE.displayName="Dropzone";var yD={disabled:!1,getFilesFromEvent:_3,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};CE.defaultProps=yD;CE.propTypes={children:$e.func,accept:$e.objectOf($e.arrayOf($e.string)),multiple:$e.bool,preventDropOnDocument:$e.bool,noClick:$e.bool,noKeyboard:$e.bool,noDrag:$e.bool,noDragEventsBubbling:$e.bool,minSize:$e.number,maxSize:$e.number,maxFiles:$e.number,disabled:$e.bool,getFilesFromEvent:$e.func,onFileDialogCancel:$e.func,onFileDialogOpen:$e.func,useFsAccessApi:$e.bool,autoFocus:$e.bool,onDragEnter:$e.func,onDragLeave:$e.func,onDragOver:$e.func,onDrop:$e.func,onDropAccepted:$e.func,onDropRejected:$e.func,onError:$e.func,validator:$e.func};var R0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function xD(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=ut(ut({},yD),n),t=e.accept,i=e.disabled,r=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,u=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,f=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,m=e.onFileDialogCancel,w=e.onFileDialogOpen,g=e.useFsAccessApi,x=e.autoFocus,b=e.preventDropOnDocument,A=e.noClick,T=e.noKeyboard,_=e.noDrag,P=e.noDragEventsBubbling,R=e.onError,D=e.validator,L=E.useMemo(function(){return n4(t)},[t]),F=E.useMemo(function(){return t4(t)},[t]),j=E.useMemo(function(){return typeof w=="function"?w:sk},[w]),$=E.useMemo(function(){return typeof m=="function"?m:sk},[m]),N=E.useRef(null),U=E.useRef(null),O=E.useReducer(v4,R0),z=ab(O,2),M=z[0],I=z[1],W=M.isFocused,q=M.isFileDialogActive,B=E.useRef(typeof window<"u"&&window.isSecureContext&&g&&e4()),H=function(){!B.current&&q&&setTimeout(function(){if(U.current){var re=U.current.files;re.length||(I({type:"closeDialog"}),$())}},300)};E.useEffect(function(){return window.addEventListener("focus",H,!1),function(){window.removeEventListener("focus",H,!1)}},[U,q,$,B]);var Y=E.useRef([]),oe=function(re){N.current&&N.current.contains(re.target)||(re.preventDefault(),Y.current=[])};E.useEffect(function(){return b&&(document.addEventListener("dragover",ik,!1),document.addEventListener("drop",oe,!1)),function(){b&&(document.removeEventListener("dragover",ik),document.removeEventListener("drop",oe))}},[N,b]),E.useEffect(function(){return!i&&x&&N.current&&N.current.focus(),function(){}},[N,x,i]);var ae=E.useCallback(function(K){R?R(K):console.error(K)},[R]),ve=E.useCallback(function(K){K.preventDefault(),K.persist(),cu(K),Y.current=[].concat(c4(Y.current),[K.target]),ev(K)&&Promise.resolve(r(K)).then(function(re){if(!($y(K)&&!P)){var vt=re.length,ze=vt>0&&Y3({files:re,accept:L,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:D}),Dt=vt>0&&!ze;I({isDragAccept:ze,isDragReject:Dt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(K)}}).catch(function(re){return ae(re)})},[r,u,ae,P,L,o,s,l,c,D]),Ot=E.useCallback(function(K){K.preventDefault(),K.persist(),cu(K);var re=ev(K);if(re&&K.dataTransfer)try{K.dataTransfer.dropEffect="copy"}catch{}return re&&h&&h(K),!1},[h,P]),kt=E.useCallback(function(K){K.preventDefault(),K.persist(),cu(K);var re=Y.current.filter(function(ze){return N.current&&N.current.contains(ze)}),vt=re.indexOf(K.target);vt!==-1&&re.splice(vt,1),Y.current=re,!(re.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ev(K)&&d&&d(K))},[N,d,P]),se=E.useCallback(function(K,re){var vt=[],ze=[];K.forEach(function(Dt){var Vn=fD(Dt,L),Br=ab(Vn,2),yw=Br[0],xw=Br[1],ww=pD(Dt,o,s),Mg=ab(ww,2),bw=Mg[0],Sw=Mg[1],Ew=D?D(Dt):null;if(yw&&bw&&!Ew)vt.push(Dt);else{var Aw=[xw,Sw];Ew&&(Aw=Aw.concat(Ew)),ze.push({file:Dt,errors:Aw.filter(function(m2){return m2})})}}),(!l&&vt.length>1||l&&c>=1&&vt.length>c)&&(vt.forEach(function(Dt){ze.push({file:Dt,errors:[K3]})}),vt.splice(0)),I({acceptedFiles:vt,fileRejections:ze,isDragReject:ze.length>0,type:"setFiles"}),f&&f(vt,ze,re),ze.length>0&&y&&y(ze,re),vt.length>0&&p&&p(vt,re)},[I,l,L,o,s,c,f,p,y,D]),qe=E.useCallback(function(K){K.preventDefault(),K.persist(),cu(K),Y.current=[],ev(K)&&Promise.resolve(r(K)).then(function(re){$y(K)&&!P||se(re,K)}).catch(function(re){return ae(re)}),I({type:"reset"})},[r,se,ae,P]),jt=E.useCallback(function(){if(B.current){I({type:"openDialog"}),j();var K={multiple:l,types:F};window.showOpenFilePicker(K).then(function(re){return r(re)}).then(function(re){se(re,null),I({type:"closeDialog"})}).catch(function(re){i4(re)?($(re),I({type:"closeDialog"})):r4(re)?(B.current=!1,U.current?(U.current.value=null,U.current.click()):ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ae(re)});return}U.current&&(I({type:"openDialog"}),j(),U.current.value=null,U.current.click())},[I,j,$,g,se,ae,F,l]),ye=E.useCallback(function(K){!N.current||!N.current.isEqualNode(K.target)||(K.key===" "||K.key==="Enter"||K.keyCode===32||K.keyCode===13)&&(K.preventDefault(),jt())},[N,jt]),Pe=E.useCallback(function(){I({type:"focus"})},[]),tt=E.useCallback(function(){I({type:"blur"})},[]),at=E.useCallback(function(){A||(J3()?setTimeout(jt,0):jt())},[A,jt]),Pn=function(re){return i?null:re},cr=function(re){return T?null:Pn(re)},oi=function(re){return _?null:Pn(re)},cu=function(re){P&&re.stopPropagation()},uu=E.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=K.refKey,vt=re===void 0?"ref":re,ze=K.role,Dt=K.onKeyDown,Vn=K.onFocus,Br=K.onBlur,yw=K.onClick,xw=K.onDragEnter,ww=K.onDragOver,Mg=K.onDragLeave,bw=K.onDrop,Sw=Uy(K,a4);return ut(ut(P0({onKeyDown:cr($r(Dt,ye)),onFocus:cr($r(Vn,Pe)),onBlur:cr($r(Br,tt)),onClick:Pn($r(yw,at)),onDragEnter:oi($r(xw,ve)),onDragOver:oi($r(ww,Ot)),onDragLeave:oi($r(Mg,kt)),onDrop:oi($r(bw,qe)),role:typeof ze=="string"&&ze!==""?ze:"presentation"},vt,N),!i&&!T?{tabIndex:0}:{}),Sw)}},[N,ye,Pe,tt,at,ve,Ot,kt,qe,T,_,i]),gw=E.useCallback(function(K){K.stopPropagation()},[]),vw=E.useMemo(function(){return function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=K.refKey,vt=re===void 0?"ref":re,ze=K.onChange,Dt=K.onClick,Vn=Uy(K,l4),Br=P0({accept:L,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Pn($r(ze,qe)),onClick:Pn($r(Dt,gw)),tabIndex:-1},vt,U);return ut(ut({},Br),Vn)}},[U,t,l,qe,i]);return ut(ut({},M),{},{isFocused:W&&!i,getRootProps:uu,getInputProps:vw,rootRef:N,inputRef:U,open:Pn(jt)})}function v4(n,e){switch(e.type){case"focus":return ut(ut({},n),{},{isFocused:!0});case"blur":return ut(ut({},n),{},{isFocused:!1});case"openDialog":return ut(ut({},R0),{},{isFileDialogActive:!0});case"closeDialog":return ut(ut({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return ut(ut({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return ut(ut({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return ut({},R0);default:return n}}function sk(){}function y4({onFilesAccepted:n}){const e=E.useCallback(s=>{const o=s.filter(l=>l.type==="application/pdf");o.length>0&&n(o)},[n]),{getRootProps:t,getInputProps:i,isDragActive:r}=xD({onDrop:e,accept:{"application/pdf":[".pdf"]},multiple:!0});return C.jsx("div",{className:"flex min-h-[60vh] items-center justify-center p-6",children:C.jsxs("div",{...t(),className:`flex w-full max-w-2xl cursor-pointer flex-col items-center justify-center rounded-xl border-2 border-dashed p-12 transition-colors ${r?"border-primary bg-accent":"border-border hover-elevate"}`,"data-testid":"dropzone-upload",children:[C.jsx("input",{...i(),"data-testid":"input-file-upload"}),C.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted mb-6",children:r?C.jsx(sB,{className:"h-10 w-10 text-primary"}):C.jsx(Xx,{className:"h-10 w-10 text-muted-foreground"})}),C.jsx("h2",{className:"text-2xl font-semibold mb-2",children:r?"Drop PDFs here":"Upload PDFs to get started"}),C.jsx("p",{className:"text-muted-foreground mb-6 text-center",children:"Drag & drop files or click to browse"}),C.jsx(Ae,{variant:"outline",size:"default","data-testid":"button-browse-files",children:"Browse Files"}),C.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:"Supports PDF files up to 50MB"})]})})}const ew=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",n),...e}));ew.displayName="Card";const x4=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("flex flex-col space-y-1.5 p-6",n),...e}));x4.displayName="CardHeader";const w4=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("text-2xl font-semibold leading-none tracking-tight",n),...e}));w4.displayName="CardTitle";const b4=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("text-sm text-muted-foreground",n),...e}));b4.displayName="CardDescription";const wD=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("p-6 pt-0",n),...e}));wD.displayName="CardContent";const S4=E.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:De("flex items-center p-6 pt-0",n),...e}));S4.displayName="CardFooter";const E4=qx("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function bD({className:n,variant:e,...t}){return C.jsx("div",{className:De(E4({variant:e}),n),...t})}const In=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),D0=[.001,0,0,.001,0,0],lb=1.35,ki={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ws={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kp="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},SD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},np={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Tt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},gu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ag={ERRORS:0,WARNINGS:1,INFOS:5},Gh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},tv={moveTo:0,lineTo:1,curveTo:2,closePath:3},ED={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let tw=Ag.WARNINGS;function A4(n){Number.isInteger(n)&&(tw=n)}function C4(){return tw}function nw(n){tw>=Ag.INFOS&&console.info(`Info: ${n}`)}function ce(n){tw>=Ag.WARNINGS&&console.warn(`Warning: ${n}`)}function Ge(n){throw new Error(n)}function Se(n,e){n||Ge(e)}function k4(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function kE(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=D4(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return k4(i)?i:null}function TE(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&kE(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pe(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const au=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class ok extends au{constructor(e,t){super(e,"PasswordException"),this.code=t}}class cb extends au{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Hy extends au{constructor(e){super(e,"InvalidPDFException")}}class Tp extends au{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class T4 extends au{constructor(e){super(e,"FormatError")}}class Mo extends au{constructor(e){super(e,"AbortException")}}function AD(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ge("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Cg(n){typeof n!="string"&&Ge("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function _4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function P4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function R4(){try{return new Function(""),!0}catch{return!1}}class tn{static get isLittleEndian(){return pe(this,"isLittleEndian",P4())}static get isEvalSupported(){return pe(this,"isEvalSupported",R4())}static get isOffscreenCanvasSupported(){return pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return pe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return pe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ub=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Eo,Rv,M0;class J{static makeHexColor(e,t,i){return`#${ub[e]}${ub[t]}${ub[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5];for(let d=0;d<6;d+=2){const h=e[i+d],f=e[i+d+1];e[i+d]=h*r+f*o+c,e[i+d+1]=h*s+f*l+u}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],o=t[2],l=t[3],c=t[4],u=t[5],d=e[0],h=e[1],f=e[2],p=e[3];let y=r*d+c,m=y,w=r*f+c,g=w,x=l*h+u,b=x,A=l*p+u,T=A;if(s!==0||o!==0){const _=s*d,P=s*f,R=o*h,D=o*p;y+=R,g+=R,w+=D,m+=D,x+=_,T+=_,A+=P,b+=P}i[0]=Math.min(i[0],y,w,m,g),i[1]=Math.min(i[1],x,A,b,T),i[2]=Math.max(i[2],y,w,m,g),i[3]=Math.max(i[3],x,A,b,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],o=e[3],l=i**2+r**2,c=i*s+r*o,u=s**2+o**2,d=(l+u)/2,h=Math.sqrt(d**2-(l*u-c**2));t[0]=Math.sqrt(d+h||1),t[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,o,l,c,u){u[0]=Math.min(u[0],e,l),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,l),u[3]=Math.max(u[3],t,c),k(this,Eo,M0).call(this,e,i,s,l,t,r,o,c,3*(-e+3*(i-s)+l),6*(e-2*i+s),3*(i-e),u),k(this,Eo,M0).call(this,e,i,s,l,t,r,o,c,3*(-t+3*(r-o)+c),6*(t-2*r+o),3*(r-t),u)}}Eo=new WeakSet,Rv=function(e,t,i,r,s,o,l,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,y=h*(h*(h*e+3*u*t)+3*f*i)+p*r,m=h*(h*(h*s+3*u*o)+3*f*l)+p*c;d[0]=Math.min(d[0],y),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],y),d[3]=Math.max(d[3],m)},M0=function(e,t,i,r,s,o,l,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&k(this,Eo,Rv).call(this,e,t,i,r,s,o,l,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const y=Math.sqrt(p),m=2*u;k(this,Eo,Rv).call(this,e,t,i,r,s,o,l,c,(-d+y)/m,f),k(this,Eo,Rv).call(this,e,t,i,r,s,o,l,c,(-d-y)/m,f)},S(J,Eo);function D4(n){return decodeURIComponent(escape(n))}let db=null,ak=null;function CD(n){return db||(db=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ak=new Map([["","t"]])),n.replaceAll(db,(e,t,i)=>t?t.normalize("NFKC"):ak.get(i))}function _E(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),AD(n)}const PE="pdfjs_internal_id_";function M4(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const o=s.length;let l=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function Cn(n,e,t){return Math.min(Math.max(n,e),t)}function kD(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(AD(n))}function L4(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Cg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class _p{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var c;if(!s)return;let o=null;const l=s.name;if(l==="#text")o=s.value;else if(_p.shouldBuildText(l))(c=s==null?void 0:s.attributes)!=null&&c.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class RE{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",l=>{r.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",l=>{r.setValue(t,{value:l.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const l of i.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,l=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[c,u]of Object.entries(o))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}l&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var h,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const l=s!=="richText",c=e.div;if(c.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),l&&_p.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const d=[[r,-1,o]];for(;d.length>0;){const[p,y,m]=d.at(-1);if(y+1===p.children.length){d.pop();continue}const w=p.children[++d.at(-1)[1]];if(w===null)continue;const{name:g}=w;if(g==="#text"){const b=document.createTextNode(w.value);u.push(b),m.append(b);continue}const x=(h=w==null?void 0:w.attributes)!=null&&h.xmlns?document.createElementNS(w.attributes.xmlns,g):document.createElement(g);if(m.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:t,intent:s,linkService:i}),((f=w.children)==null?void 0:f.length)>0)d.push([w,-1,x]);else if(w.value){const b=document.createTextNode(w.value);l&&_p.shouldBuildText(g)&&u.push(b),x.append(b)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ds="http://www.w3.org/2000/svg",Al=class Al{};V(Al,"CSS",96),V(Al,"PDF",72),V(Al,"PDF_TO_CSS_UNITS",Al.CSS/Al.PDF);let Lo=Al;async function rf(n,e="text"){if(Af(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class kg{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=t;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(f=-f,p=-p);let y,m,w,g;d===0?(y=Math.abs(u-e[1])*i+s,m=Math.abs(c-e[0])*i+o,w=(e[3]-e[1])*i,g=(e[2]-e[0])*i):(y=Math.abs(c-e[0])*i+s,m=Math.abs(u-e[1])*i+o,w=(e[2]-e[0])*i,g=(e[3]-e[1])*i),this.transform=[d*i,h*i,f*i,p*i,y-d*i*c-f*i*u,m-h*i*c-p*i*u],this.width=w,this.height=g}get rawDims(){const e=this.viewBox;return pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new kg({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return J.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];J.applyTransform(t,this.transform);const i=[e[2],e[3]];return J.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return J.applyInverseTransform(i,this.transform),i}}class iw extends au{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Tg(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function rw(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function TD(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function _D(n,e="document.pdf"){if(typeof n!="string")return e;if(Tg(n))return ce('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return r(o);if(i.searchParams.size>0){const l=Array.from(i.searchParams.values()).reverse();for(const u of l)if(s.test(u))return r(u);const c=Array.from(i.searchParams.keys()).reverse();for(const u of c)if(s.test(u))return r(u)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return e}class lk{constructor(){V(this,"started",Object.create(null));V(this,"times",[])}time(e){e in this.started&&ce(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ce(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Af(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Ii(n){n.preventDefault()}function ht(n){n.preventDefault(),n.stopPropagation()}function N4(n){console.log("Deprecated API usage: "+n)}var Ip;class Pp{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;a(this,Ip)||v(this,Ip,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=a(this,Ip).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,l+=h):u==="+"&&(o-=d,l-=h),new Date(Date.UTC(i,r,s,o,l,c))}}Ip=new WeakMap,S(Pp,Ip);function PD(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new kg({viewBox:s,userUnit:1,scale:e,rotation:t})}function sf(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ce(`Not a valid color format: "${n}"`),[0,0,0])}function F4(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,sf(i))}e.remove()}function ct(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Ur(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function cl(n,e,t=!1,i=!0){if(e instanceof kg){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,l=tn.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${s}px`,d=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=l?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Ir{constructor(){const{pixelRatio:e}=Ir;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let o=1/0,l=1/0,c=1/0;i=Ir.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*t))),r!==-1&&(l=r/e,c=r/t);const u=Math.min(o,l,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const Vy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class I4{static get isDarkMode(){var e;return pe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class RD{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),pe(this,"commentForegroundColor",sf(i))}}function DD(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function ck(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),o=Math.min(t,i,r),l=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const c=s-o;switch(e[1]=l<.5?c/(s+o):c/(2-s-o),s){case t:e[0]=((i-r)/c+(i<r?6:0))*60;break;case i:e[0]=((r-t)/c+2)*60;break;case r:e[0]=((t-i)/c+4)*60;break}}e[2]=l}function L0(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,o=s*(1-Math.abs(t/60%2-1)),l=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+l,e[1]=o+l,e[2]=l;break;case 1:e[0]=o+l,e[1]=s+l,e[2]=l;break;case 2:e[0]=l,e[1]=s+l,e[2]=o+l;break;case 3:e[0]=l,e[1]=o+l,e[2]=s+l;break;case 4:e[0]=o+l,e[1]=l,e[2]=s+l;break;case 5:case 6:e[0]=s+l,e[1]=l,e[2]=o+l;break}}function uk(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function dk(n,e,t){L0(n,t),t.map(uk);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];L0(e,t),t.map(uk);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const hk=new Map;function MD(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=hk.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);ck(n,o);const l=r.subarray(6,9);ck(e,l);const c=l[2]<.5,u=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),dk(o,l,s)<u){let d,h;c?(d=o[2],h=1):(d=0,h=o[2]);const f=.005;for(;h-d>f;){const p=o[2]=(d+h)/2;c===dk(o,l,s)<u?d=p:h=p}o[2]=c?h:d}return L0(o,s),i=J.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),hk.set(t,i),i}function DE({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const u=o[l];s.append(document.createTextNode(u)),l<c-1&&s.append(document.createElement("br"))}r.append(s)}else RE.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",t),i.append(r)}var Jo,ea,Ui,Hi,Op,ta,cd,ud,jp,rx,LD,hn,ND,FD,vu,Cf;const Is=class Is{constructor(e){S(this,hn);S(this,Jo,null);S(this,ea,null);S(this,Ui);S(this,Hi,null);S(this,Op,null);S(this,ta,null);S(this,cd,null);S(this,ud,null);v(this,Ui,e),a(Is,jp)||v(Is,jp,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=v(this,Jo,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=a(this,Ui)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ii,{signal:t}),e.addEventListener("pointerdown",k(Is,rx,LD),{signal:t}));const i=v(this,Hi,document.createElement("div"));i.className="buttons",e.append(i);const r=a(this,Ui).toolbarPosition;if(r){const{style:s}=e,o=a(this,Ui)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return a(this,Jo)}hide(){var e;a(this,Jo).classList.add("hidden"),(e=a(this,ea))==null||e.hideDropdown()}show(){var e,t;a(this,Jo).classList.remove("hidden"),(e=a(this,Op))==null||e.shown(),(t=a(this,ta))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=a(this,Ui),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",a(Is,jp)[e]),k(this,hn,vu).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),a(this,Hi).append(i)}async addAltText(e){const t=await e.render();k(this,hn,vu).call(this,t),a(this,Hi).append(t,a(this,hn,Cf)),v(this,Op,e)}addComment(e,t=null){if(a(this,ta))return;const i=e.renderForToolbar();if(!i)return;k(this,hn,vu).call(this,i);const r=v(this,cd,a(this,hn,Cf));t?(a(this,Hi).insertBefore(i,t),a(this,Hi).insertBefore(r,t)):a(this,Hi).append(i,r),v(this,ta,e),e.toolbar=this}addColorPicker(e){if(a(this,ea))return;v(this,ea,e);const t=e.renderButton();k(this,hn,vu).call(this,t),a(this,Hi).append(t,a(this,hn,Cf))}async addEditSignatureButton(e){const t=v(this,ud,await e.renderEditButton(a(this,Ui)));k(this,hn,vu).call(this,t),a(this,Hi).append(t,a(this,hn,Cf))}removeButton(e){var t,i;switch(e){case"comment":(t=a(this,ta))==null||t.removeToolbarCommentButton(),v(this,ta,null),(i=a(this,cd))==null||i.remove(),v(this,cd,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,i){const r=a(this,Hi).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){a(this,ud)&&(a(this,ud).title=e)}remove(){var e;a(this,Jo).remove(),(e=a(this,ea))==null||e.destroy(),v(this,ea,null)}};Jo=new WeakMap,ea=new WeakMap,Ui=new WeakMap,Hi=new WeakMap,Op=new WeakMap,ta=new WeakMap,cd=new WeakMap,ud=new WeakMap,jp=new WeakMap,rx=new WeakSet,LD=function(e){e.stopPropagation()},hn=new WeakSet,ND=function(e){a(this,Ui)._focusEventsAllowed=!1,ht(e)},FD=function(e){a(this,Ui)._focusEventsAllowed=!0,ht(e)},vu=function(e){const t=a(this,Ui)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",k(this,hn,ND).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,hn,FD).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ii,{signal:t}),!0)},Cf=function(){const e=document.createElement("div");return e.className="divider",e},S(Is,rx),S(Is,jp,null);let N0=Is;var Bp,Nl,Bs,No,ID,OD,F0;class O4{constructor(e){S(this,No);S(this,Bp,null);S(this,Nl,null);S(this,Bs);v(this,Bs,e)}show(e,t,i){const[r,s]=k(this,No,OD).call(this,t,i),{style:o}=a(this,Nl)||v(this,Nl,k(this,No,ID).call(this));e.append(a(this,Nl)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){a(this,Nl).remove()}}Bp=new WeakMap,Nl=new WeakMap,Bs=new WeakMap,No=new WeakSet,ID=function(){const e=v(this,Nl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=a(this,Bs)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ii,{signal:t});const i=v(this,Bp,document.createElement("div"));return i.className="buttons",e.append(i),a(this,Bs).hasCommentManager()&&k(this,No,F0).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{a(this,Bs).commentSelection("floating_button")}),k(this,No,F0).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{a(this,Bs).highlightSelection("floating_button")}),e},OD=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const l=s.x+(t?s.width:0);if(o>i){r=l,i=o;continue}t?l>r&&(r=l):l<r&&(r=l)}return[t?1-r:r,i]},F0=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const l=a(this,Bs)._signal;l instanceof AbortSignal&&!l.aborted&&(s.addEventListener("contextmenu",Ii,{signal:l}),s.addEventListener("click",r,{signal:l})),a(this,Bp).append(s)};function jD(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var sx;class j4{constructor(){S(this,sx,0)}get id(){return`${kp}${yt(this,sx)._++}`}}sx=new WeakMap;var dd,zp,xn,hd,Dv;const iA=class iA{constructor(){S(this,hd);S(this,dd,_E());S(this,zp,0);S(this,xn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return pe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return k(this,hd,Dv).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return k(this,hd,Dv).call(this,e,e)}async getFromBlob(e,t){const i=await t;return k(this,hd,Dv).call(this,e,i)}async getFromId(e){a(this,xn)||v(this,xn,new Map);const t=a(this,xn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){a(this,xn)||v(this,xn,new Map);let i=a(this,xn).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${a(this,dd)}_${yt(this,zp)._++}`,refCounter:1,isSvg:!1},a(this,xn).set(e,i),a(this,xn).set(i.id,i),i}getSvgUrl(e){const t=a(this,xn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;a(this,xn)||v(this,xn,new Map);const t=a(this,xn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${a(this,dd)}_`)}};dd=new WeakMap,zp=new WeakMap,xn=new WeakMap,hd=new WeakSet,Dv=async function(e,t){a(this,xn)||v(this,xn,new Map);let i=a(this,xn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${a(this,dd)}_${yt(this,zp)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await rf(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=iA._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((u,d)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,u()},o.onload=async()=>{const h=i.svgUrl=o.result;l.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},l.onerror=o.onerror=d});o.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){ce(r),i=null}return a(this,xn).set(e,i),i&&a(this,xn).set(i.id,i),i};let I0=iA;var _t,na,$p,lt;class B4{constructor(e=128){S(this,_t,[]);S(this,na,!1);S(this,$p);S(this,lt,-1);v(this,$p,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(r&&e(),a(this,na))return;const c={cmd:e,undo:t,post:i,type:s};if(a(this,lt)===-1){a(this,_t).length>0&&(a(this,_t).length=0),v(this,lt,0),a(this,_t).push(c);return}if(o&&a(this,_t)[a(this,lt)].type===s){l&&(c.undo=a(this,_t)[a(this,lt)].undo),a(this,_t)[a(this,lt)]=c;return}const u=a(this,lt)+1;u===a(this,$p)?a(this,_t).splice(0,1):(v(this,lt,u),u<a(this,_t).length&&a(this,_t).splice(u)),a(this,_t).push(c)}undo(){if(a(this,lt)===-1)return;v(this,na,!0);const{undo:e,post:t}=a(this,_t)[a(this,lt)];e(),t==null||t(),v(this,na,!1),v(this,lt,a(this,lt)-1)}redo(){if(a(this,lt)<a(this,_t).length-1){v(this,lt,a(this,lt)+1),v(this,na,!0);const{cmd:e,post:t}=a(this,_t)[a(this,lt)];e(),t==null||t(),v(this,na,!1)}}hasSomethingToUndo(){return a(this,lt)!==-1}hasSomethingToRedo(){return a(this,lt)<a(this,_t).length-1}cleanType(e){if(a(this,lt)!==-1){for(let t=a(this,lt);t>=0;t--)if(a(this,_t)[t].type!==e){a(this,_t).splice(t+1,a(this,lt)-t),v(this,lt,t);return}a(this,_t).length=0,v(this,lt,-1)}}destroy(){v(this,_t,null)}}_t=new WeakMap,na=new WeakMap,$p=new WeakMap,lt=new WeakMap;var ox,BD;class _g{constructor(e){S(this,ox);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=tn.platform;for(const[i,r,s={}]of e)for(const o of i){const l=o.startsWith("mac+");t&&l?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!l&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(k(this,ox,BD).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:l=null}}=i;l&&!l(e,t)||(r.bind(e,...o,t)(),s||ht(t))}}ox=new WeakSet,BD=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const ax=class ax{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return F4(e),pe(this,"_colors",e)}convert(e){const t=sf(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return ax._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?J.makeHexColor(...t):e}};V(ax,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let O0=ax;var fd,ci,pd,wt,zt,md,Vi,gd,Wi,wn,ia,ra,vd,sa,Kr,Gi,Fl,Up,Hp,yd,Vp,Yr,oa,xd,aa,Qr,lx,la,wd,Wp,ca,Il,bd,ua,Gp,Lt,Me,zs,da,ha,qp,Sd,Xp,fa,Zr,$s,Kp,Yp,qi,X,Mv,j0,zD,$D,kf,UD,HD,VD,B0,WD,z0,$0,GD,Rn,Ms,qD,XD,U0,KD,Tf,H0;const Ou=class Ou{constructor(e,t,i,r,s,o,l,c,u,d,h,f,p,y,m,w){S(this,X);S(this,fd,new AbortController);S(this,ci,null);S(this,pd,null);S(this,wt,new Map);S(this,zt,new Map);S(this,md,null);S(this,Vi,null);S(this,gd,null);S(this,Wi,new B4);S(this,wn,null);S(this,ia,null);S(this,ra,null);S(this,vd,0);S(this,sa,new Set);S(this,Kr,null);S(this,Gi,null);S(this,Fl,new Set);V(this,"_editorUndoBar",null);S(this,Up,!1);S(this,Hp,!1);S(this,yd,!1);S(this,Vp,null);S(this,Yr,null);S(this,oa,null);S(this,xd,null);S(this,aa,!1);S(this,Qr,null);S(this,lx,new j4);S(this,la,!1);S(this,wd,!1);S(this,Wp,!1);S(this,ca,null);S(this,Il,null);S(this,bd,null);S(this,ua,null);S(this,Gp,null);S(this,Lt,le.NONE);S(this,Me,new Set);S(this,zs,null);S(this,da,null);S(this,ha,null);S(this,qp,null);S(this,Sd,null);S(this,Xp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,fa,[0,0]);S(this,Zr,null);S(this,$s,null);S(this,Kp,null);S(this,Yp,null);S(this,qi,null);const g=this._signal=a(this,fd).signal;v(this,$s,e),v(this,Kp,t),v(this,Yp,i),v(this,md,r),v(this,wn,s),v(this,da,o),v(this,Sd,c),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:g}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),l._on("setpreference",this.onSetPreference.bind(this),{signal:g}),l._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:g}),window.addEventListener("pointerdown",()=>{v(this,wd,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{v(this,wd,!1)},{capture:!0,signal:g}),k(this,X,UD).call(this),k(this,X,GD).call(this),k(this,X,B0).call(this),v(this,Vi,c.annotationStorage),v(this,Vp,c.filterFactory),v(this,ha,u),v(this,xd,d||null),v(this,Up,h),v(this,Hp,f),v(this,yd,p),v(this,Gp,y||null),this.viewParameters={realScale:Lo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=w!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=Ou.prototype,t=o=>a(o,$s).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return pe(this,"_keyboardManager",new _g([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,$s).contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&a(o,$s).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,o,l,c,u;(e=a(this,qi))==null||e.resolve(),v(this,qi,null),(t=a(this,fd))==null||t.abort(),v(this,fd,null),this._signal=null;for(const d of a(this,zt).values())d.destroy();a(this,zt).clear(),a(this,wt).clear(),a(this,Fl).clear(),(i=a(this,ua))==null||i.clear(),v(this,ci,null),a(this,Me).clear(),a(this,Wi).destroy(),(r=a(this,md))==null||r.destroy(),(s=a(this,wn))==null||s.destroy(),(o=a(this,da))==null||o.destroy(),(l=a(this,Qr))==null||l.hide(),v(this,Qr,null),(c=a(this,bd))==null||c.destroy(),v(this,bd,null),v(this,pd,null),a(this,Yr)&&(clearTimeout(a(this,Yr)),v(this,Yr,null)),a(this,Zr)&&(clearTimeout(a(this,Zr)),v(this,Zr,null)),(u=this._editorUndoBar)==null||u.destroy(),v(this,Sd,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return a(this,Gp)}get useNewAltTextFlow(){return a(this,Hp)}get useNewAltTextWhenAddingImage(){return a(this,yd)}get hcmFilter(){return pe(this,"hcmFilter",a(this,ha)?a(this,Vp).addHCMFilter(a(this,ha).foreground,a(this,ha).background):"none")}get direction(){return pe(this,"direction",getComputedStyle(a(this,$s)).direction)}get _highlightColors(){return pe(this,"_highlightColors",a(this,xd)?new Map(a(this,xd).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return pe(this,"highlightColors",null);const t=new Map,i=!!a(this,ha);for(const[r,s]of e){const o=r.endsWith("_HCM");if(i&&o){t.set(r.replace("_HCM",""),s);continue}!i&&!o&&t.set(r,s)}return pe(this,"highlightColors",t)}get highlightColorNames(){return pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),v(this,ra,e)}setMainHighlightColorPicker(e){v(this,bd,e)}editAltText(e,t=!1){var i;(i=a(this,md))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!a(this,wn)}editComment(e,t,i,r){var s;(s=a(this,wn))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=a(this,zt).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=a(this,wn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=a(this,wn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=a(this,wn))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=a(this,wn))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=a(this,wn))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=a(this,wn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(a(this,zt).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=a(this,da))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return a(this,da)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":v(this,yd,t);break}}onPageChanging({pageNumber:e}){v(this,vd,e-1)}focusMainContainer(){a(this,$s).focus()}findParent(e,t){for(const i of a(this,zt).values()){const{x:r,y:s,width:o,height:l}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+l)return i}return null}disableUserSelect(e=!1){a(this,Kp).classList.toggle("noUserSelect",e)}addShouldRescale(e){a(this,Fl).add(e)}removeShouldRescale(e){a(this,Fl).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Lo.PDF_TO_CSS_UNITS;for(const i of a(this,Fl))i.onScaleChanging();(t=a(this,ra))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l}=i,c=i.toString(),d=k(this,X,Mv).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const f=k(this,X,j0).call(this,d),p=a(this,Lt)===le.NONE,y=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:l,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(le.HIGHLIGHT,y);return}y()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!a(this,Vi))return null;const t=`${kp}${e}`,i=a(this,Vi).getRawValue(t);return i&&a(this,Vi).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&a(this,Vi)&&!a(this,Vi).has(e.id)&&a(this,Vi).setValue(e.id,e)}a11yAlert(e,t=null){const i=a(this,Yp);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,a(this,aa)&&(v(this,aa,!1),k(this,X,kf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of a(this,Me))if(t.div.contains(e)){v(this,Il,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!a(this,Il))return;const[e,t]=a(this,Il);v(this,Il,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,X,B0).call(this),k(this,X,z0).call(this)}removeEditListeners(){k(this,X,WD).call(this),k(this,X,$0).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of a(this,Gi))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of a(this,Gi))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=a(this,ci))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of a(this,Me)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of a(this,Gi))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){ce(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const u=await r.deserialize(c);if(!u)return;s.push(u)}const o=()=>{for(const c of s)k(this,X,U0).call(this,c);k(this,X,H0).call(this,s)},l=()=>{for(const c of s)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(s){ce(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),a(this,Lt)!==le.NONE&&!this.isEditorHandlingKeyboard&&Ou._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,a(this,aa)&&(v(this,aa,!1),k(this,X,kf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,X,HD).call(this),k(this,X,z0).call(this),k(this,X,Rn).call(this,{isEditing:a(this,Lt)!==le.NONE,isEmpty:k(this,X,Tf).call(this),hasSomethingToUndo:a(this,Wi).hasSomethingToUndo(),hasSomethingToRedo:a(this,Wi).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,X,VD).call(this),k(this,X,$0).call(this),k(this,X,Rn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!a(this,Gi)){v(this,Gi,e);for(const t of a(this,Gi))k(this,X,Ms).call(this,t.defaultPropertiesToUpdate)}}getId(){return a(this,lx).id}get currentLayer(){return a(this,zt).get(a(this,vd))}getLayer(e){return a(this,zt).get(e)}get currentPageIndex(){return a(this,vd)}addLayer(e){a(this,zt).set(e.pageIndex,e),a(this,la)?e.enable():e.disable()}removeLayer(e){a(this,zt).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var o,l,c,u,d,h;if(a(this,Lt)!==e&&!(a(this,qi)&&(await a(this,qi).promise,!a(this,qi)))){if(v(this,qi,Promise.withResolvers()),(o=a(this,ra))==null||o.commitOrRemove(),a(this,Lt)===le.POPUP&&((l=a(this,wn))==null||l.hideSidebar()),(c=a(this,wn))==null||c.destroyPopup(),v(this,Lt,e),e===le.NONE){this.setEditingState(!1),k(this,X,XD).call(this);for(const f of a(this,wt).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),a(this,qi).resolve();return}for(const f of a(this,wt).values())f.addStandaloneCommentButton();e===le.SIGNATURE&&await((d=a(this,da))==null?void 0:d.loadSignatures()),this.setEditingState(!0),await k(this,X,qD).call(this),this.unselectAll();for(const f of a(this,zt).values())f.updateMode(e);if(e===le.POPUP){a(this,pd)||v(this,pd,await a(this,Sd).getAnnotationsByType(new Set(a(this,Gi).map(y=>y._editorType))));const f=new Set,p=[];for(const y of a(this,wt).values()){const{annotationElementId:m,hasComment:w,deleted:g}=y;m&&f.add(m),w&&!g&&p.push(y.getData())}for(const y of a(this,pd)){const{id:m,popupRef:w,contentsObj:g}=y;w&&(g!=null&&g.str)&&!f.has(m)&&!a(this,sa).has(m)&&p.push(y)}(h=a(this,wn))==null||h.showSidebar(p)}if(!t){i&&this.addNewEditorFromKeyboard(),a(this,qi).resolve();return}for(const f of a(this,wt).values())f.uid===t?(this.setSelected(f),s?f.editComment():r?f.enterInEditMode():f.focus()):f.unselect();a(this,qi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==a(this,Lt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(a(this,Gi)){switch(e){case be.CREATE:this.currentLayer.addNewEditor(t);return;case be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(a(this,qp)||v(this,qp,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of a(this,Me))i.updateParams(e,t);else for(const i of a(this,Gi))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of a(this,wt).values())o.editorType===e&&o.show(t);(((s=a(this,qp))==null?void 0:s.get(be.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,X,Ms).call(this,[[be.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(a(this,Wp)!==e){v(this,Wp,e);for(const t of a(this,zt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of a(this,wt).values())t.pageIndex===e&&(yield t)}getEditor(e){return a(this,wt).get(e)}addEditor(e){a(this,wt).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(a(this,Yr)&&clearTimeout(a(this,Yr)),v(this,Yr,setTimeout(()=>{this.focusMainContainer(),v(this,Yr,null)},0))),a(this,wt).delete(e.id),e.annotationElementId&&((t=a(this,ua))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!a(this,sa).has(e.annotationElementId))&&((i=a(this,Vi))==null||i.remove(e.id))}addDeletedAnnotationElement(e){a(this,sa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return a(this,sa).has(e)}removeDeletedAnnotationElement(e){a(this,sa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){a(this,ci)!==e&&(v(this,ci,e),e&&k(this,X,Ms).call(this,e.propertiesToUpdate))}updateUI(e){a(this,X,KD)===e&&k(this,X,Ms).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,X,Ms).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(a(this,Me).has(e)){a(this,Me).delete(e),e.unselect(),k(this,X,Rn).call(this,{hasSelectedEditor:this.hasSelection});return}a(this,Me).add(e),e.select(),k(this,X,Ms).call(this,e.propertiesToUpdate),k(this,X,Rn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=a(this,ra))==null||t.commitOrRemove();for(const i of a(this,Me))i!==e&&i.unselect();a(this,Me).clear(),a(this,Me).add(e),e.select(),k(this,X,Ms).call(this,e.propertiesToUpdate),k(this,X,Rn).call(this,{hasSelectedEditor:!0})}isSelected(e){return a(this,Me).has(e)}get firstSelectedEditor(){return a(this,Me).values().next().value}unselect(e){e.unselect(),a(this,Me).delete(e),k(this,X,Rn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return a(this,Me).size!==0}get isEnterHandled(){return a(this,Me).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;a(this,Wi).undo(),k(this,X,Rn).call(this,{hasSomethingToUndo:a(this,Wi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,X,Tf).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){a(this,Wi).redo(),k(this,X,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:a(this,Wi).hasSomethingToRedo(),isEmpty:k(this,X,Tf).call(this)})}addCommands(e){a(this,Wi).add(e),k(this,X,Rn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,X,Tf).call(this)})}cleanUndoStack(e){a(this,Wi).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...a(this,Me)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},r=()=>{for(const o of t)k(this,X,U0).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=a(this,ci))==null||e.commitOrRemove()}hasSomethingToControl(){return a(this,ci)||this.hasSelection}selectAll(){for(const e of a(this,Me))e.commit();k(this,X,H0).call(this,a(this,wt).values())}unselectAll(){var e;if(!(a(this,ci)&&(a(this,ci).commitOrRemove(),a(this,Lt)!==le.NONE))&&!((e=a(this,ra))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of a(this,Me))t.unselect();a(this,Me).clear(),k(this,X,Rn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;a(this,fa)[0]+=e,a(this,fa)[1]+=t;const[r,s]=a(this,fa),o=[...a(this,Me)],l=1e3;a(this,Zr)&&clearTimeout(a(this,Zr)),v(this,Zr,setTimeout(()=>{v(this,Zr,null),a(this,fa)[0]=a(this,fa)[1]=0,this.addCommands({cmd:()=>{for(const c of o)a(this,wt).has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of o)a(this,wt).has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},l));for(const c of o)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),v(this,Kr,new Map);for(const e of a(this,Me))a(this,Kr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!a(this,Kr))return!1;this.disableUserSelect(!1);const e=a(this,Kr);v(this,Kr,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},l]of e)l.newX=r,l.newY=s,l.newPageIndex=o,t||(t=r!==l.savedX||s!==l.savedY||o!==l.savedPageIndex);if(!t)return!1;const i=(r,s,o,l)=>{if(a(this,wt).has(r.id)){const c=a(this,zt).get(l);c?r._setParentAndPosition(c,s,o):(r.pageIndex=l,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:l}]of e)i(r,s,o,l)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:l}]of e)i(r,s,o,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(a(this,Kr))for(const i of a(this,Kr).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||a(this,Me).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return a(this,ci)===e}getActive(){return a(this,ci)}getMode(){return a(this,Lt)}isEditingMode(){return a(this,Lt)!==le.NONE}get imageManager(){return pe(this,"imageManager",new I0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(u,d,h,f)=>({x:(d-r)/o,y:1-(u+h-i)/s,width:f/o,height:h/s});break;case"180":l=(u,d,h,f)=>({x:1-(u+h-i)/s,y:1-(d+f-r)/o,width:h/s,height:f/o});break;case"270":l=(u,d,h,f)=>({x:1-(d+f-r)/o,y:(u-i)/s,width:f/o,height:h/s});break;default:l=(u,d,h,f)=>({x:(u-i)/s,y:(d-r)/o,width:h/s,height:f/o});break}const c=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:y,height:m}of h.getClientRects())y===0||m===0||c.push(l(f,p,y,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(a(this,gd)||v(this,gd,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=a(this,gd))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=a(this,gd))==null?void 0:r.get(e.data.id);if(!t)return;const i=a(this,Vi).getRawValue(t);i&&(a(this,Lt)===le.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=a(this,ua))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),a(this,ua).delete(e))}addMissingCanvas(e,t){(a(this,ua)||v(this,ua,new Map)).set(e,t)}};fd=new WeakMap,ci=new WeakMap,pd=new WeakMap,wt=new WeakMap,zt=new WeakMap,md=new WeakMap,Vi=new WeakMap,gd=new WeakMap,Wi=new WeakMap,wn=new WeakMap,ia=new WeakMap,ra=new WeakMap,vd=new WeakMap,sa=new WeakMap,Kr=new WeakMap,Gi=new WeakMap,Fl=new WeakMap,Up=new WeakMap,Hp=new WeakMap,yd=new WeakMap,Vp=new WeakMap,Yr=new WeakMap,oa=new WeakMap,xd=new WeakMap,aa=new WeakMap,Qr=new WeakMap,lx=new WeakMap,la=new WeakMap,wd=new WeakMap,Wp=new WeakMap,ca=new WeakMap,Il=new WeakMap,bd=new WeakMap,ua=new WeakMap,Gp=new WeakMap,Lt=new WeakMap,Me=new WeakMap,zs=new WeakMap,da=new WeakMap,ha=new WeakMap,qp=new WeakMap,Sd=new WeakMap,Xp=new WeakMap,fa=new WeakMap,Zr=new WeakMap,$s=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,qi=new WeakMap,X=new WeakSet,Mv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},j0=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of a(this,zt).values())if(i.hasTextLayer(e))return i;return null},zD=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=k(this,X,Mv).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(a(this,Qr)||v(this,Qr,new O4(this)),a(this,Qr).show(i,r,this.direction==="ltr"))},$D=function(){var s,o,l;const e=document.getSelection();if(!e||e.isCollapsed){a(this,zs)&&((s=a(this,Qr))==null||s.hide(),v(this,zs,null),k(this,X,Rn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===a(this,zs))return;const r=k(this,X,Mv).call(this,e).closest(".textLayer");if(!r){a(this,zs)&&((o=a(this,Qr))==null||o.hide(),v(this,zs,null),k(this,X,Rn).call(this,{hasSelectedText:!1}));return}if((l=a(this,Qr))==null||l.hide(),v(this,zs,t),k(this,X,Rn).call(this,{hasSelectedText:!0}),!(a(this,Lt)!==le.HIGHLIGHT&&a(this,Lt)!==le.NONE)&&(a(this,Lt)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),v(this,aa,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=a(this,Lt)===le.HIGHLIGHT?k(this,X,j0).call(this,r):null;if(c==null||c.toggleDrawing(),a(this,wd)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&k(this,X,kf).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),k(this,X,kf).call(this,"main_toolbar")}},kf=function(e=""){a(this,Lt)===le.HIGHLIGHT?this.highlightSelection(e):a(this,Up)&&k(this,X,zD).call(this)},UD=function(){document.addEventListener("selectionchange",k(this,X,$D).bind(this),{signal:this._signal})},HD=function(){if(a(this,oa))return;v(this,oa,new AbortController);const e=this.combinedSignal(a(this,oa));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},VD=function(){var e;(e=a(this,oa))==null||e.abort(),v(this,oa,null)},B0=function(){if(a(this,ca))return;v(this,ca,new AbortController);const e=this.combinedSignal(a(this,ca));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},WD=function(){var e;(e=a(this,ca))==null||e.abort(),v(this,ca,null)},z0=function(){if(a(this,ia))return;v(this,ia,new AbortController);const e=this.combinedSignal(a(this,ia));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},$0=function(){var e;(e=a(this,ia))==null||e.abort(),v(this,ia,null)},GD=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Rn=function(e){Object.entries(e).some(([i,r])=>a(this,Xp)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(a(this,Xp),e)}),a(this,Lt)===le.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,X,Ms).call(this,[[be.HIGHLIGHT_FREE,!0]]))},Ms=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},qD=async function(){if(!a(this,la)){v(this,la,!0);const e=[];for(const t of a(this,zt).values())e.push(t.enable());await Promise.all(e);for(const t of a(this,wt).values())t.enable()}},XD=function(){if(this.unselectAll(),a(this,la)){v(this,la,!1);for(const e of a(this,zt).values())e.disable();for(const e of a(this,wt).values())e.disable()}},U0=function(e){const t=a(this,zt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},KD=function(){let e=null;for(e of a(this,Me));return e},Tf=function(){if(a(this,wt).size===0)return!0;if(a(this,wt).size===1)for(const e of a(this,wt).values())return e.isEmpty();return!1},H0=function(e){for(const t of a(this,Me))t.unselect();a(this,Me).clear();for(const t of e)t.isEmpty()||(a(this,Me).add(t),t.select());k(this,X,Rn).call(this,{hasSelectedEditor:this.hasSelection})},V(Ou,"TRANSLATE_SMALL",1),V(Ou,"TRANSLATE_BIG",10);let ul=Ou;var Gt,Jr,gr,Ed,es,ui,Ad,ts,qn,Us,Ol,ns,pa,Rr,_f,Lv;const Dn=class Dn{constructor(e){S(this,Rr);S(this,Gt,null);S(this,Jr,!1);S(this,gr,null);S(this,Ed,null);S(this,es,null);S(this,ui,null);S(this,Ad,!1);S(this,ts,null);S(this,qn,null);S(this,Us,null);S(this,Ol,null);S(this,ns,!1);v(this,qn,e),v(this,ns,e._uiManager.useNewAltTextFlow),a(Dn,pa)||v(Dn,pa,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Dn._l10n??(Dn._l10n=e)}async render(){const e=v(this,gr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=v(this,Ed,document.createElement("span"));e.append(t),a(this,ns)?(e.classList.add("new"),e.setAttribute("data-l10n-id",a(Dn,pa).missing),t.setAttribute("data-l10n-id",a(Dn,pa)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=a(this,qn)._uiManager._signal;e.addEventListener("contextmenu",Ii,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),a(this,qn)._uiManager.editAltText(a(this,qn)),a(this,ns)&&a(this,qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:a(this,Rr,_f)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(v(this,Ad,!0),r(s))},{signal:i}),await k(this,Rr,Lv).call(this),e}finish(){a(this,gr)&&(a(this,gr).focus({focusVisible:a(this,Ad)}),v(this,Ad,!1))}isEmpty(){return a(this,ns)?a(this,Gt)===null:!a(this,Gt)&&!a(this,Jr)}hasData(){return a(this,ns)?a(this,Gt)!==null||!!a(this,Us):this.isEmpty()}get guessedText(){return a(this,Us)}async setGuessedText(e){a(this,Gt)===null&&(v(this,Us,e),v(this,Ol,await Dn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,Rr,Lv).call(this))}toggleAltTextBadge(e=!1){var t;if(!a(this,ns)||a(this,Gt)){(t=a(this,ts))==null||t.remove(),v(this,ts,null);return}if(!a(this,ts)){const i=v(this,ts,document.createElement("div"));i.className="noAltTextBadge",a(this,qn).div.append(i)}a(this,ts).classList.toggle("hidden",!e)}serialize(e){let t=a(this,Gt);return!e&&a(this,Us)===t&&(t=a(this,Ol)),{altText:t,decorative:a(this,Jr),guessedText:a(this,Us),textWithDisclaimer:a(this,Ol)}}get data(){return{altText:a(this,Gt),decorative:a(this,Jr)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(v(this,Us,i),v(this,Ol,r)),!(a(this,Gt)===e&&a(this,Jr)===t)&&(s||(v(this,Gt,e),v(this,Jr,t)),k(this,Rr,Lv).call(this))}toggle(e=!1){a(this,gr)&&(!e&&a(this,ui)&&(clearTimeout(a(this,ui)),v(this,ui,null)),a(this,gr).disabled=!e)}shown(){a(this,qn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:a(this,Rr,_f)}})}destroy(){var e,t;(e=a(this,gr))==null||e.remove(),v(this,gr,null),v(this,Ed,null),v(this,es,null),(t=a(this,ts))==null||t.remove(),v(this,ts,null)}};Gt=new WeakMap,Jr=new WeakMap,gr=new WeakMap,Ed=new WeakMap,es=new WeakMap,ui=new WeakMap,Ad=new WeakMap,ts=new WeakMap,qn=new WeakMap,Us=new WeakMap,Ol=new WeakMap,ns=new WeakMap,pa=new WeakMap,Rr=new WeakSet,_f=function(){return a(this,Gt)&&"added"||a(this,Gt)===null&&this.guessedText&&"review"||"missing"},Lv=async function(){var r,s,o;const e=a(this,gr);if(!e)return;if(a(this,ns)){if(e.classList.toggle("done",!!a(this,Gt)),e.setAttribute("data-l10n-id",a(Dn,pa)[a(this,Rr,_f)]),(r=a(this,Ed))==null||r.setAttribute("data-l10n-id",a(Dn,pa)[`${a(this,Rr,_f)}-label`]),!a(this,Gt)){(s=a(this,es))==null||s.remove();return}}else{if(!a(this,Gt)&&!a(this,Jr)){e.classList.remove("done"),(o=a(this,es))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=a(this,es);if(!t){v(this,es,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${a(this,qn).id}`;const l=100,c=a(this,qn)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(a(this,ui)),v(this,ui,null)},{once:!0}),e.addEventListener("mouseenter",()=>{v(this,ui,setTimeout(()=>{v(this,ui,null),a(this,es).classList.add("show"),a(this,qn)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;a(this,ui)&&(clearTimeout(a(this,ui)),v(this,ui,null)),(u=a(this,es))==null||u.classList.remove("show")},{signal:c})}a(this,Jr)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=a(this,Gt)),t.parentNode||e.append(t);const i=a(this,qn).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},S(Dn,pa,null),V(Dn,"_l10n",null);let Wy=Dn;var rn,Xi,jl,Xe,Qp,Bl,vr,zl,$l,Ul,Zp,V0;class nv{constructor(e){S(this,Zp);S(this,rn,null);S(this,Xi,null);S(this,jl,!1);S(this,Xe,null);S(this,Qp,null);S(this,Bl,null);S(this,vr,null);S(this,zl,null);S(this,$l,!1);S(this,Ul,null);v(this,Xe,e)}renderForToolbar(){const e=v(this,Xi,document.createElement("button"));return e.className="comment",k(this,Zp,V0).call(this,e,!1)}renderForStandalone(){const e=v(this,rn,document.createElement("button"));e.className="annotationCommentButton";const t=a(this,Xe).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(a(this,Xe)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=a(this,Xe).commentButtonColor;r&&(i.backgroundColor=r)}return k(this,Zp,V0).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=a(this,rn)??a(this,Xi))==null||e.focus()},0)}onUpdatedColor(){if(!a(this,rn))return;const e=a(this,Xe).commentButtonColor;e&&(a(this,rn).style.backgroundColor=e),a(this,Xe)._uiManager.updatePopupColor(a(this,Xe))}get commentButtonWidth(){var e;return(((e=a(this,rn))==null?void 0:e.getBoundingClientRect().width)??0)/a(this,Xe).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(a(this,Ul))return a(this,Ul);if(!a(this,rn))return null;const{x:e,y:t,height:i}=a(this,rn).getBoundingClientRect(),{x:r,y:s,width:o,height:l}=a(this,Xe).parent.boundingClientRect;return[(e-r)/o,(t+i-s)/l]}set commentPopupPositionInLayer(e){v(this,Ul,e)}hasDefaultPopupPosition(){return a(this,Ul)===null}removeStandaloneCommentButton(){var e;(e=a(this,rn))==null||e.remove(),v(this,rn,null)}removeToolbarCommentButton(){var e;(e=a(this,Xi))==null||e.remove(),v(this,Xi,null)}setCommentButtonStates({selected:e,hasPopup:t}){a(this,rn)&&(a(this,rn).classList.toggle("selected",e),a(this,rn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=a(this,Xe).commentButtonPosition;const{width:d,height:h,x:f,y:p}=a(this,Xe);i=f+i*d,r=p+r*h}const s=a(this,Xe).parent.boundingClientRect,{x:o,y:l,width:c,height:u}=s;a(this,Xe)._uiManager.editComment(a(this,Xe),o+i*c,l+r*u,{...e,parentDimensions:s})}finish(){a(this,Xi)&&(a(this,Xi).focus({focusVisible:a(this,jl)}),v(this,jl,!1))}isDeleted(){return a(this,$l)||a(this,vr)===""}isEmpty(){return a(this,vr)===null}hasBeenEdited(){return this.isDeleted()||a(this,vr)!==a(this,Qp)}serialize(){return this.data}get data(){return{text:a(this,vr),richText:a(this,Bl),date:a(this,zl),deleted:this.isDeleted()}}set data(e){if(e!==a(this,vr)&&v(this,Bl,null),e===null){v(this,vr,""),v(this,$l,!0);return}v(this,vr,e),v(this,zl,new Date),v(this,$l,!1)}setInitialText(e,t=null){v(this,Qp,e),this.data=e,v(this,zl,null),v(this,Bl,t)}shown(){}destroy(){var e,t;(e=a(this,Xi))==null||e.remove(),v(this,Xi,null),(t=a(this,rn))==null||t.remove(),v(this,rn,null),v(this,vr,""),v(this,Bl,null),v(this,zl,null),v(this,Xe,null),v(this,jl,!1),v(this,$l,!1)}}rn=new WeakMap,Xi=new WeakMap,jl=new WeakMap,Xe=new WeakMap,Qp=new WeakMap,Bl=new WeakMap,vr=new WeakMap,zl=new WeakMap,$l=new WeakMap,Ul=new WeakMap,Zp=new WeakSet,V0=function(e,t){if(!a(this,Xe)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[a(this,Xe)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=a(this,Xe)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Ii,{signal:i}),t&&(e.addEventListener("focusin",s=>{a(this,Xe)._focusEventsAllowed=!1,ht(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{a(this,Xe)._focusEventsAllowed=!0,ht(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===a(this,Xi)?this.edit():a(this,Xe).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(v(this,jl,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{a(this,Xe).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{a(this,Xe).toggleComment(!1,!1)},{signal:i}),e};var Cd,Hl,Jp,em,tm,nm,im,Hs,Vl,Vs,Wl,Ws,dl,YD,QD,ZD;const rA=class rA{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:l}){S(this,dl);S(this,Cd);S(this,Hl,!1);S(this,Jp,null);S(this,em);S(this,tm);S(this,nm);S(this,im);S(this,Hs,null);S(this,Vl);S(this,Vs,null);S(this,Wl);S(this,Ws,null);v(this,Cd,e),v(this,Jp,i),v(this,em,t),v(this,tm,r),v(this,nm,s),v(this,im,o),v(this,Wl,new AbortController),v(this,Vl,AbortSignal.any([l,a(this,Wl).signal])),e.addEventListener("touchstart",k(this,dl,YD).bind(this),{passive:!1,signal:a(this,Vl)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ir.pixelRatio}destroy(){var e,t;(e=a(this,Wl))==null||e.abort(),v(this,Wl,null),(t=a(this,Hs))==null||t.abort(),v(this,Hs,null)}};Cd=new WeakMap,Hl=new WeakMap,Jp=new WeakMap,em=new WeakMap,tm=new WeakMap,nm=new WeakMap,im=new WeakMap,Hs=new WeakMap,Vl=new WeakMap,Vs=new WeakMap,Wl=new WeakMap,Ws=new WeakMap,dl=new WeakSet,YD=function(e){var r,s,o;if((r=a(this,em))!=null&&r.call(this))return;if(e.touches.length===1){if(a(this,Hs))return;const l=v(this,Hs,new AbortController),c=AbortSignal.any([a(this,Vl),l.signal]),u=a(this,Cd),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=a(this,Hs))==null||p.abort(),v(this,Hs,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ht(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!a(this,Ws)){v(this,Ws,new AbortController);const l=AbortSignal.any([a(this,Vl),a(this,Ws).signal]),c=a(this,Cd),u={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",k(this,dl,QD).bind(this),u);const d=k(this,dl,ZD).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",ht,u),c.addEventListener("pointermove",ht,u),c.addEventListener("pointercancel",ht,u),c.addEventListener("pointerup",ht,u),(s=a(this,tm))==null||s.call(this)}if(ht(e),e.touches.length!==2||(o=a(this,Jp))!=null&&o.call(this)){v(this,Vs,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),v(this,Vs,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},QD=function(e){var A;if(!a(this,Vs)||e.touches.length!==2)return;ht(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:l}=i,c=a(this,Vs),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,y=f-d,m=o-r,w=l-s,g=Math.hypot(m,w)||1,x=Math.hypot(p,y)||1;if(!a(this,Hl)&&Math.abs(x-g)<=rA.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=o,c.touch1Y=l,!a(this,Hl)){v(this,Hl,!0);return}const b=[(r+o)/2,(s+l)/2];(A=a(this,nm))==null||A.call(this,b,x,g)},ZD=function(e){var t;e.touches.length>=2||(a(this,Ws)&&(a(this,Ws).abort(),v(this,Ws,null),(t=a(this,im))==null||t.call(this)),a(this,Vs)&&(ht(e),v(this,Vs,null),v(this,Hl,!1)))};let Rp=rA;var Gl,yr,it,Ue,Gs,kd,ma,rm,sn,ql,qs,is,ga,sm,Xl,di,om,Kl,Xs,rs,Td,_d,Ki,Yl,am,cx,ie,W0,lm,G0,Nv,JD,eM,q0,Fv,X0,tM,nM,iM,K0,rM,Y0,sM,oM,aM,Q0,Pf;const ue=class ue{constructor(e){S(this,ie);S(this,Gl,null);S(this,yr,null);S(this,it,null);S(this,Ue,null);S(this,Gs,null);S(this,kd,!1);S(this,ma,null);S(this,rm,"");S(this,sn,null);S(this,ql,null);S(this,qs,null);S(this,is,null);S(this,ga,null);S(this,sm,"");S(this,Xl,!1);S(this,di,null);S(this,om,!1);S(this,Kl,!1);S(this,Xs,!1);S(this,rs,null);S(this,Td,0);S(this,_d,0);S(this,Ki,null);S(this,Yl,null);V(this,"isSelected",!1);V(this,"_isCopy",!1);V(this,"_editToolbar",null);V(this,"_initialOptions",Object.create(null));V(this,"_initialData",null);V(this,"_isVisible",!0);V(this,"_uiManager",null);V(this,"_focusEventsAllowed",!0);S(this,am,!1);S(this,cx,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=ul.TRANSLATE_SMALL,i=ul.TRANSLATE_BIG;return pe(this,"_resizerKeyboardManager",new _g([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new z4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return a(this,am)}set _isDraggable(e){var t;v(this,am,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=a(this,cx)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,ie,Pf).call(this),(t=a(this,is))==null||t.remove(),v(this,is,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(a(this,Xl)?v(this,Xl,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){k(this,ie,W0).call(this,this.parentDimensions,e,t)}translateInPage(e,t){a(this,di)||v(this,di,[this.x,this.y,this.width,this.height]),k(this,ie,W0).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){a(this,di)||v(this,di,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,u]=this.getBaseTranslation();o+=c,l+=u;const{style:d}=i;d.left=`${(100*o).toFixed(2)}%`,d.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!a(this,di)&&(a(this,di)[0]!==this.x||a(this,di)[1]!==this.y)}get _hasBeenResized(){return!!a(this,di)&&(a(this,di)[2]!==this.width||a(this,di)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ue,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:o,width:l,height:c}=this;if(l*=i,c*=r,s*=i,o*=r,this._mustFixPosition)switch(e){case 0:s=Cn(s,0,i-l),o=Cn(o,0,r-c);break;case 90:s=Cn(s,0,i-c),o=Cn(o,l,r);break;case 180:s=Cn(s,l,i),o=Cn(o,c,r);break;case 270:s=Cn(s,c,i),o=Cn(o,0,r-l);break}this.x=s/=i,this.y=o/=r;const[u,d]=this.getBaseTranslation();s+=u,o+=d,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return k(i=ue,lm,G0).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return k(i=ue,lm,G0).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=a(this,it))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||a(this,Kl))return this._editToolbar;this._editToolbar=new N0(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=a(this,it))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return a(this,it)||(Wy.initialize(ue._l10n),v(this,it,new Wy(this)),a(this,Gl)&&(a(this,it).data=a(this,Gl),v(this,Gl,null))),a(this,it)}get altTextData(){var e;return(e=a(this,it))==null?void 0:e.data}set altTextData(e){a(this,it)&&(a(this,it).data=e)}get guessedAltText(){var e;return(e=a(this,it))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=a(this,it))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=a(this,it))==null?void 0:t.serialize(e)}hasAltText(){return!!a(this,it)&&!a(this,it).isEmpty()}hasAltTextData(){var e;return((e=a(this,it))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=a(this,Ue))==null||e.focusButton()}addCommentButton(){return a(this,Ue)||v(this,Ue,new nv(this))}addStandaloneCommentButton(){if(a(this,Gs)){this._uiManager.isEditingMode()&&a(this,Gs).classList.remove("hidden");return}this.hasComment&&(v(this,Gs,a(this,Ue).renderForStandalone()),this.div.append(a(this,Gs)))}removeStandaloneCommentButton(){a(this,Ue).removeStandaloneCommentButton(),v(this,Gs,null)}hideStandaloneCommentButton(){var e;(e=a(this,Gs))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=a(this,Ue);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){a(this,Ue)||v(this,Ue,new nv(this)),a(this,Ue).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(a(this,Ue)||v(this,Ue,new nv(this)),a(this,Ue).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=a(this,Ue))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=a(this,Ue))==null?void 0:e.isDeleted()}get hasComment(){return!!a(this,Ue)&&!a(this,Ue).isEmpty()&&!a(this,Ue).isDeleted()}async editComment(e){a(this,Ue)||v(this,Ue,new nv(this)),a(this,Ue).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){a(this,Ue).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,l=o+s+1,c=r-100,u=l+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){a(this,Ue).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=a(this,kd)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,ie,Y0).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),jD(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(a(this,Yl)||v(this,Yl,new Rp({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,ie,tM).bind(this),onPinching:k(this,ie,nM).bind(this),onPinchEnd:k(this,ie,iM).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=tn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(v(this,Xl,!0),this._isDraggable){k(this,ie,rM).call(this,e);return}k(this,ie,K0).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){a(this,rs)&&clearTimeout(a(this,rs)),v(this,rs,setTimeout(()=>{var e;v(this,rs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[l,c]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,f=this.y*o,p=this.width*s,y=this.height*o;switch(i){case 0:return[h+u+l,o-f-d-y+c,h+u+p+l,o-f-d+c];case 90:return[h+d+l,o-f+u+c,h+d+y+l,o-f+u+p+c];case 180:return[h-u-p+l,o-f+d+c,h-u+l,o-f+d+y+c];case 270:return[h-d-y+l,o-f-u-p+c,h-d+l,o-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,l=s-i,c=o-r;switch(this.rotation){case 0:return[i,t-o,l,c];case 90:return[i,t-r,c,l];case 180:return[s,t-r,l,c];case 270:return[s,t-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ue._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=a(this,Ue))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:o},uid:l,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),v(this,Kl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),v(this,Kl,!1),!0):!1}isInEditMode(){return a(this,Kl)}shouldGetKeyboardEvents(){return a(this,Xs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&i>0}rebuild(){k(this,ie,Y0).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,v(r,Gl,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[l,c,u,d]=r.getRectInCurrentCoords(e.rect,o);return r.x=l/s,r.y=c/o,r.width=u/s,r.height=d/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=a(this,ga))==null||e.abort(),v(this,ga,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),a(this,rs)&&(clearTimeout(a(this,rs)),v(this,rs,null)),k(this,ie,Pf).call(this),this.removeEditToolbar(),a(this,Ki)){for(const i of a(this,Ki).values())clearTimeout(i);v(this,Ki,null)}this.parent=null,(t=a(this,Yl))==null||t.destroy(),v(this,Yl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,ie,JD).call(this),a(this,sn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,o]=this.getPDFRect();return[ue._round(i+(s-i)*e),ue._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return a(this,Ue).commentPopupPositionInLayer}set commentPopupPosition(e){a(this,Ue).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return a(this,Ue).hasDefaultPopupPosition()}get commentButtonWidth(){return a(this,Ue).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){a(this,Ue).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),v(this,qs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=a(this,sn).children;if(!a(this,yr)){v(this,yr,Array.from(t));const o=k(this,ie,sM).bind(this),l=k(this,ie,oM).bind(this),c=this._uiManager._signal;for(const u of a(this,yr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:c}),u.addEventListener("blur",l,{signal:c}),u.addEventListener("focus",k(this,ie,aM).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",ue._l10nResizer[d])}}const i=a(this,yr)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(a(this,yr).length/4);if(s!==r){if(s<r)for(let l=0;l<r-s;l++)a(this,sn).append(a(this,sn).firstChild);else if(s>r)for(let l=0;l<s-r;l++)a(this,sn).firstChild.before(a(this,sn).lastChild);let o=0;for(const l of t){const u=a(this,yr)[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",ue._l10nResizer[u])}}k(this,ie,Q0).call(this,0),v(this,Xs,!0),a(this,sn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){a(this,Xs)&&k(this,ie,X0).call(this,a(this,sm),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,ie,Pf).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=a(this,it))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=a(this,sn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=a(this,it))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return a(this,om)}set isEditing(e){v(this,om,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){a(this,Ki)||v(this,Ki,new Map);const{action:i}=e;let r=a(this,Ki).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),a(this,Ki).delete(i),a(this,Ki).size===0&&v(this,Ki,null)},ue._telemetryTimeout),a(this,Ki).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),v(this,kd,!1)}disable(){this.div&&(this.div.tabIndex=-1),v(this,kd,!0)}updateFakeAnnotationElement(e){if(!a(this,is)&&!this.deleted){v(this,is,e.addFakeAnnotation(this));return}if(this.deleted){a(this,is).remove(),v(this,is,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&a(this,is).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Gl=new WeakMap,yr=new WeakMap,it=new WeakMap,Ue=new WeakMap,Gs=new WeakMap,kd=new WeakMap,ma=new WeakMap,rm=new WeakMap,sn=new WeakMap,ql=new WeakMap,qs=new WeakMap,is=new WeakMap,ga=new WeakMap,sm=new WeakMap,Xl=new WeakMap,di=new WeakMap,om=new WeakMap,Kl=new WeakMap,Xs=new WeakMap,rs=new WeakMap,Td=new WeakMap,_d=new WeakMap,Ki=new WeakMap,Yl=new WeakMap,am=new WeakMap,cx=new WeakMap,ie=new WeakSet,W0=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},lm=new WeakSet,G0=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Nv=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},JD=function(){if(a(this,sn))return;v(this,sn,document.createElement("div")),a(this,sn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");a(this,sn).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",k(this,ie,eM).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Ii,{signal:t}),r.tabIndex=-1}this.div.prepend(a(this,sn))},eM=function(e,t){var d;t.preventDefault();const{isMac:i}=tn.platform;if(t.button!==0||t.ctrlKey&&i)return;(d=a(this,it))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,v(this,ql,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,ie,X0).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ht,{passive:!1,signal:o}),window.addEventListener("contextmenu",Ii,{signal:o}),v(this,qs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=a(this,it))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=l,this.div.style.cursor=c,k(this,ie,Fv).call(this)};window.addEventListener("pointerup",u,{signal:o}),window.addEventListener("blur",u,{signal:o})},q0=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Fv=function(){if(!a(this,qs))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=a(this,qs);v(this,qs,null);const s=this.x,o=this.y,l=this.width,c=this.height;s===e&&o===t&&l===i&&c===r||this.addCommands({cmd:k(this,ie,q0).bind(this,s,o,l,c),undo:k(this,ie,q0).bind(this,e,t,i,r),mustExec:!0})},X0=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,l=this.width,c=this.height,u=ue.MIN_SIZE/i,d=ue.MIN_SIZE/r,h=k(this,ie,Nv).call(this,this.rotation),f=(O,z)=>[h[0]*O+h[2]*z,h[1]*O+h[3]*z],p=k(this,ie,Nv).call(this,360-this.rotation),y=(O,z)=>[p[0]*O+p[2]*z,p[1]*O+p[3]*z];let m,w,g=!1,x=!1;switch(e){case"topLeft":g=!0,m=(O,z)=>[0,0],w=(O,z)=>[O,z];break;case"topMiddle":m=(O,z)=>[O/2,0],w=(O,z)=>[O/2,z];break;case"topRight":g=!0,m=(O,z)=>[O,0],w=(O,z)=>[0,z];break;case"middleRight":x=!0,m=(O,z)=>[O,z/2],w=(O,z)=>[0,z/2];break;case"bottomRight":g=!0,m=(O,z)=>[O,z],w=(O,z)=>[0,0];break;case"bottomMiddle":m=(O,z)=>[O/2,z],w=(O,z)=>[O/2,0];break;case"bottomLeft":g=!0,m=(O,z)=>[0,z],w=(O,z)=>[O,0];break;case"middleLeft":x=!0,m=(O,z)=>[0,z/2],w=(O,z)=>[O,z/2];break}const b=m(l,c),A=w(l,c);let T=f(...A);const _=ue._round(s+T[0]),P=ue._round(o+T[1]);let R=1,D=1,L,F;if(t.fromKeyboard)({deltaX:L,deltaY:F}=t);else{const{screenX:O,screenY:z}=t,[M,I]=a(this,ql);[L,F]=this.screenToPageTranslation(O-M,z-I),a(this,ql)[0]=O,a(this,ql)[1]=z}if([L,F]=y(L/i,F/r),g){const O=Math.hypot(l,c);R=D=Math.max(Math.min(Math.hypot(A[0]-b[0]-L,A[1]-b[1]-F)/O,1/l,1/c),u/l,d/c)}else x?R=Cn(Math.abs(A[0]-b[0]-L),u,1)/l:D=Cn(Math.abs(A[1]-b[1]-F),d,1)/c;const j=ue._round(l*R),$=ue._round(c*D);T=f(...w(j,$));const N=_-T[0],U=P-T[1];a(this,di)||v(this,di,[this.x,this.y,this.width,this.height]),this.width=j,this.height=$,this.x=N,this.y=U,this.setDims(),this.fixAndSetPosition(),this._onResizing()},tM=function(){var e;v(this,qs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=a(this,it))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},nM=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const o=k(this,ie,Nv).call(this,this.rotation),l=(_,P)=>[o[0]*_+o[2]*P,o[1]*_+o[3]*P],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,y=ue.MIN_SIZE/c,m=ue.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),y/f,m/p);const w=ue._round(f*s),g=ue._round(p*s);if(w===f&&g===p)return;a(this,di)||v(this,di,[d,h,f,p]);const x=l(f/2,p/2),b=ue._round(d+x[0]),A=ue._round(h+x[1]),T=l(w/2,g/2);this.x=b-T[0],this.y=A-T[1],this.width=w,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},iM=function(){var e;(e=a(this,it))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,ie,Fv).call(this)},K0=function(e){const{isMac:t}=tn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},rM=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},l=u=>{r.abort(),v(this,ma,null),v(this,Xl,!1),this._uiManager.endDragSession()||k(this,ie,K0).call(this,u),i&&this._onStopDragging()};t&&(v(this,Td,e.clientX),v(this,_d,e.clientY),v(this,ma,e.pointerId),v(this,rm,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==a(this,ma)){ht(u);return}const[p,y]=this.screenToPageTranslation(d-a(this,Td),h-a(this,_d));v(this,Td,d),v(this,_d,h),this._uiManager.dragSelectedEditors(p,y)},o),window.addEventListener("touchmove",ht,o),window.addEventListener("pointerdown",u=>{u.pointerType===a(this,rm)&&(a(this,Yl)||u.isPrimary)&&l(u),ht(u)},o));const c=u=>{if(!a(this,ma)||a(this,ma)===u.pointerId){l(u);return}ht(u)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},Y0=function(){if(a(this,ga)||!this.div)return;v(this,ga,new AbortController);const e=this._uiManager.combinedSignal(a(this,ga));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},sM=function(e){ue._resizerKeyboardManager.exec(this,e)},oM=function(e){var t;a(this,Xs)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==a(this,sn)&&k(this,ie,Pf).call(this)},aM=function(e){v(this,sm,a(this,Xs)?e:"")},Q0=function(e){if(a(this,yr))for(const t of a(this,yr))t.tabIndex=e},Pf=function(){v(this,Xs,!1),k(this,ie,Q0).call(this,-1),k(this,ie,Fv).call(this)},S(ue,lm),V(ue,"_l10n",null),V(ue,"_l10nResizer",null),V(ue,"_borderLineWidth",-1),V(ue,"_colorManager",new O0),V(ue,"_zIndex",1),V(ue,"_telemetryTimeout",1e3);let Ye=ue;class z4 extends Ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fk=3285377520,Bi=4294901760,Hr=65535;class lM{constructor(e){this.h1=e?e&4294967295:fk,this.h2=e?e&4294967295:fk}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,w=e.length;m<w;m++){const g=e.charCodeAt(m);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let l=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Hr,y=f&Hr;for(let m=0;m<r;m++)m&1?(l=o[m],l=l*h&Bi|l*p&Hr,l=l<<15|l>>>17,l=l*f&Bi|l*y&Hr,u^=l,u=u<<13|u>>>19,u=u*5+3864292196):(c=o[m],c=c*h&Bi|c*p&Hr,c=c<<15|c>>>17,c=c*f&Bi|c*y&Hr,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(l=0,s){case 3:l^=t[r*4+2]<<16;case 2:l^=t[r*4+1]<<8;case 1:l^=t[r*4],l=l*h&Bi|l*p&Hr,l=l<<15|l>>>17,l=l*f&Bi|l*y&Hr,r&1?u^=l:d^=l}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bi|e*36045&Hr,t=t*4283543511&Bi|((t<<16|e>>>16)*2950163797&Bi)>>>16,e^=t>>>1,e=e*444984403&Bi|e*60499&Hr,t=t*3301882366&Bi|((t<<16|e>>>16)*3120437893&Bi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Z0=Object.freeze({map:null,hash:"",transfer:void 0});var Ql,Zl,Ks,on,ux,cM;class ME{constructor(){S(this,ux);S(this,Ql,!1);S(this,Zl,null);S(this,Ks,null);S(this,on,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=a(this,on).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return a(this,on).get(e)}remove(e){const t=a(this,on).get(e);if(t!==void 0&&(t instanceof Ye&&a(this,Ks).delete(t.annotationElementId),a(this,on).delete(e),a(this,on).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of a(this,on).values())if(i instanceof Ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=a(this,on).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,a(this,on).set(e,t);r&&k(this,ux,cM).call(this),t instanceof Ye&&((a(this,Ks)||v(this,Ks,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return a(this,on).has(e)}get size(){return a(this,on).size}resetModified(){a(this,Ql)&&(v(this,Ql,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new uM(this)}get serializable(){if(a(this,on).size===0)return Z0;const e=new Map,t=new lM,i=[],r=Object.create(null);let s=!1;for(const[o,l]of a(this,on)){const c=l instanceof Ye?l.serialize(!1,r):l;c&&(e.set(o,c),t.update(`${o}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Z0}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of a(this,on).values()){if(!(s instanceof Ye)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[u,d]of Object.entries(o)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){v(this,Zl,null)}updateEditor(e,t){var r;const i=(r=a(this,Ks))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=a(this,Ks))==null?void 0:t.get(e))||null}get modifiedIds(){if(a(this,Zl))return a(this,Zl);const e=[];if(a(this,Ks))for(const t of a(this,Ks).values())t.serialize()&&e.push(t.annotationElementId);return v(this,Zl,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return a(this,on).entries()}}Ql=new WeakMap,Zl=new WeakMap,Ks=new WeakMap,on=new WeakMap,ux=new WeakSet,cM=function(){a(this,Ql)||(v(this,Ql,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var cm;class uM extends ME{constructor(t){super();S(this,cm);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);v(this,cm,{map:o,hash:r,transfer:s})}get print(){Ge("Should not call PrintAnnotationStorage.print")}get serializable(){return a(this,cm)}get modifiedIds(){return pe(this,"modifiedIds",{ids:new Set,hash:""})}}cm=new WeakMap;var Pd;class $4{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Pd,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),a(this,Pd).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||a(this,Pd).has(e.loadedName))){if(Se(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,l=new FontFace(r,s,o);this.addNativeFontFace(l);try{await l.load(),a(this,Pd).add(r),i==null||i(e)}catch{ce(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw ce(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pe(this,"isSyncFontLoadingSupported",In||tn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Se(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(A,T){return A.charCodeAt(T)<<24|A.charCodeAt(T+1)<<16|A.charCodeAt(T+2)<<8|A.charCodeAt(T+3)&255}function r(A,T,_,P){const R=A.substring(0,T),D=A.substring(T+_);return R+P+D}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;function d(A,T){if(++u>30){ce("Load test font never loaded."),T();return}if(c.font="30px "+A,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(d.bind(null,A,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const y=16,m=1482184792;let w=i(f,y);for(s=0,o=h.length-3;s<o;s+=4)w=w-m+i(h,s)|0;s<h.length&&(w=w-m+i(h+"XXX",s)|0),f=r(f,y,4,_4(w));const g=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(x);const b=this._document.createElement("div");b.style.visibility="hidden",b.style.width=b.style.height="10px",b.style.position="absolute",b.style.top=b.style.left="0px";for(const A of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=A,b.append(T)}this._document.body.append(b),d(h,()=>{b.remove(),t.complete()})}}Pd=new WeakMap;var Fe;class U4{constructor(e,t=null,i,r){S(this,Fe);this.compiledGlyphs=Object.create(null),v(this,Fe,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${kD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(o){ce(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return a(this,Fe).black}get bold(){return a(this,Fe).bold}get disableFontFace(){return a(this,Fe).disableFontFace??!1}get fontExtraProperties(){return a(this,Fe).fontExtraProperties??!1}get isInvalidPDFjsFont(){return a(this,Fe).isInvalidPDFjsFont}get isType3Font(){return a(this,Fe).isType3Font}get italic(){return a(this,Fe).italic}get missingFile(){return a(this,Fe).missingFile}get remeasure(){return a(this,Fe).remeasure}get vertical(){return a(this,Fe).vertical}get ascent(){return a(this,Fe).ascent}get defaultWidth(){return a(this,Fe).defaultWidth}get descent(){return a(this,Fe).descent}get bbox(){return a(this,Fe).bbox}get fontMatrix(){return a(this,Fe).fontMatrix}get fallbackName(){return a(this,Fe).fallbackName}get loadedName(){return a(this,Fe).loadedName}get mimetype(){return a(this,Fe).mimetype}get name(){return a(this,Fe).name}get data(){return a(this,Fe).data}clearData(){a(this,Fe).clearData()}get cssFontInfo(){return a(this,Fe).cssFontInfo}get systemFontInfo(){return a(this,Fe).systemFontInfo}get defaultVMetrics(){return a(this,Fe).defaultVMetrics}}Fe=new WeakMap;function H4(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(In)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function V4(n){if(In&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Cg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function iv(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const J0=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,W4=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",dM=M4.bind(null,J0,W4);var Ys,dx;class G4{constructor(){S(this,Ys,new Map);S(this,dx,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};a(this,dx).then(()=>{for(const[r]of a(this,Ys))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){ce("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}a(this,Ys).set(t,r)}removeEventListener(e,t){const i=a(this,Ys).get(t);i==null||i(),a(this,Ys).delete(t)}terminate(){for(const[,e]of a(this,Ys))e==null||e();a(this,Ys).clear()}}Ys=new WeakMap,dx=new WeakMap;const rv={DATA:1,ERROR:2},Mt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pk(){}function Wn(n){if(n instanceof Mo||n instanceof Hy||n instanceof ok||n instanceof Tp||n instanceof cb)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Mo(n.message);case"InvalidPDFException":return new Hy(n.message);case"PasswordException":return new ok(n.message,n.code);case"ResponseException":return new Tp(n.message,n.status,n.missing);case"UnknownErrorException":return new cb(n.message,n.details)}return new cb(n.message,n.toString())}var Rd,rr,hM,fM,pM,Iv;class Rf{constructor(e,t,i){S(this,rr);S(this,Rd,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",k(this,rr,hM).bind(this),{signal:a(this,Rd).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:o,targetName:l,stream:Mt.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Se(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:Mt.CANCEL,streamId:s,reason:Wn(u)}),d.promise}},i)}destroy(){var e;(e=a(this,Rd))==null||e.abort(),v(this,Rd,null)}}Rd=new WeakMap,rr=new WeakSet,hM=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,rr,pM).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===rv.DATA)r.resolve(e.data);else if(e.callback===rv.ERROR)r.reject(Wn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:rv.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:rv.ERROR,callbackId:e.callbackId,reason:Wn(o)})});return}if(e.streamId){k(this,rr,fM).call(this,e);return}t(e.data)},fM=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,l=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Mt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Mt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){Se(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Mt.ERROR,streamId:t,reason:Wn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Mt.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Mt.START_COMPLETE,streamId:t,reason:Wn(u)})})},pM=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case Mt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Wn(e.reason));break;case Mt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Wn(e.reason));break;case Mt.PULL:if(!l){s.postMessage({sourceName:i,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||pk).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Mt.PULL_COMPLETE,streamId:t,reason:Wn(u)})});break;case Mt.ENQUEUE:if(Se(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Mt.CLOSE:if(Se(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),k(this,rr,Iv).call(this,o,t);break;case Mt.ERROR:Se(o,"error should have stream controller"),o.controller.error(Wn(e.reason)),k(this,rr,Iv).call(this,o,t);break;case Mt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Wn(e.reason)),k(this,rr,Iv).call(this,o,t);break;case Mt.CANCEL:if(!l)break;const c=Wn(e.reason);Promise.try(l.onCancel||pk,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Mt.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:Mt.CANCEL_COMPLETE,streamId:t,reason:Wn(u)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Iv=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var um;class mM{constructor({enableHWA:e=!1}){S(this,um,!1);v(this,um,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!a(this,um)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ge("Abstract method `_createCanvas` called.")}}um=new WeakMap;class q4 extends mM{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class gM{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ge("Abstract method `_fetch` called.")}}class mk extends gM{async _fetch(e){const t=await rf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Cg(t)}}class vM{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var Jl,Dd,Qs,Zs,bn,ec,tc,Q,vn,Df,yu,Ov,xu,yM,eS,wu,Mf,Lf,tS,Nf;class X4 extends vM{constructor({docId:t,ownerDocument:i=globalThis.document}){super();S(this,Q);S(this,Jl);S(this,Dd);S(this,Qs);S(this,Zs);S(this,bn);S(this,ec);S(this,tc,0);v(this,Zs,t),v(this,bn,i)}addFilter(t){if(!t)return"none";let i=a(this,Q,vn).get(t);if(i)return i;const[r,s,o]=k(this,Q,Ov).call(this,t),l=t.length===1?r:`${r}${s}${o}`;if(i=a(this,Q,vn).get(l),i)return a(this,Q,vn).set(t,i),i;const c=`g_${a(this,Zs)}_transfer_map_${yt(this,tc)._++}`,u=k(this,Q,xu).call(this,c);a(this,Q,vn).set(t,u),a(this,Q,vn).set(l,u);const d=k(this,Q,wu).call(this,c);return k(this,Q,Lf).call(this,r,s,o,d),u}addHCMFilter(t,i){var y;const r=`${t}-${i}`,s="base";let o=a(this,Q,Df).get(s);if((o==null?void 0:o.key)===r||(o?((y=o.filter)==null||y.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},a(this,Q,Df).set(s,o)),!t||!i))return o.url;const l=k(this,Q,Nf).call(this,t);t=J.makeHexColor(...l);const c=k(this,Q,Nf).call(this,i);if(i=J.makeHexColor(...c),a(this,Q,yu).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const u=new Array(256);for(let m=0;m<=255;m++){const w=m/255;u[m]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const d=u.join(","),h=`g_${a(this,Zs)}_hcm_filter`,f=o.filter=k(this,Q,wu).call(this,h);k(this,Q,Lf).call(this,d,d,d,f),k(this,Q,eS).call(this,f);const p=(m,w)=>{const g=l[m]/255,x=c[m]/255,b=new Array(w+1);for(let A=0;A<=w;A++)b[A]=g+A/w*(x-g);return b.join(",")};return k(this,Q,Lf).call(this,p(0,5),p(1,5),p(2,5),f),o.url=k(this,Q,xu).call(this,h),o.url}addAlphaFilter(t){let i=a(this,Q,vn).get(t);if(i)return i;const[r]=k(this,Q,Ov).call(this,[t]),s=`alpha_${r}`;if(i=a(this,Q,vn).get(s),i)return a(this,Q,vn).set(t,i),i;const o=`g_${a(this,Zs)}_alpha_map_${yt(this,tc)._++}`,l=k(this,Q,xu).call(this,o);a(this,Q,vn).set(t,l),a(this,Q,vn).set(s,l);const c=k(this,Q,wu).call(this,o);return k(this,Q,tS).call(this,r,c),l}addLuminosityFilter(t){let i=a(this,Q,vn).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=k(this,Q,Ov).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=a(this,Q,vn).get(s),i)return a(this,Q,vn).set(t,i),i;const o=`g_${a(this,Zs)}_luminosity_map_${yt(this,tc)._++}`,l=k(this,Q,xu).call(this,o);a(this,Q,vn).set(t,l),a(this,Q,vn).set(s,l);const c=k(this,Q,wu).call(this,o);return k(this,Q,yM).call(this,c),t&&k(this,Q,tS).call(this,r,c),l}addHighlightHCMFilter(t,i,r,s,o){var x;const l=`${i}-${r}-${s}-${o}`;let c=a(this,Q,Df).get(t);if((c==null?void 0:c.key)===l||(c?((x=c.filter)==null||x.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},a(this,Q,Df).set(t,c)),!i||!r))return c.url;const[u,d]=[i,r].map(k(this,Q,Nf).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,y]=[s,o].map(k(this,Q,Nf).bind(this));f<h&&([h,f,p,y]=[f,h,y,p]),a(this,Q,yu).style.color="";const m=(b,A,T)=>{const _=new Array(256),P=(f-h)/T,R=b/255,D=(A-b)/(255*T);let L=0;for(let F=0;F<=T;F++){const j=Math.round(h+F*P),$=R+F*D;for(let N=L;N<=j;N++)_[N]=$;L=j+1}for(let F=L;F<256;F++)_[F]=_[L-1];return _.join(",")},w=`g_${a(this,Zs)}_hcm_${t}_filter`,g=c.filter=k(this,Q,wu).call(this,w);return k(this,Q,eS).call(this,g),k(this,Q,Lf).call(this,m(p[0],y[0],5),m(p[1],y[1],5),m(p[2],y[2],5),g),c.url=k(this,Q,xu).call(this,w),c.url}destroy(t=!1){var i,r,s,o;t&&((i=a(this,ec))!=null&&i.size)||((r=a(this,Qs))==null||r.parentNode.parentNode.remove(),v(this,Qs,null),(s=a(this,Dd))==null||s.clear(),v(this,Dd,null),(o=a(this,ec))==null||o.clear(),v(this,ec,null),v(this,tc,0))}}Jl=new WeakMap,Dd=new WeakMap,Qs=new WeakMap,Zs=new WeakMap,bn=new WeakMap,ec=new WeakMap,tc=new WeakMap,Q=new WeakSet,vn=function(){return a(this,Dd)||v(this,Dd,new Map)},Df=function(){return a(this,ec)||v(this,ec,new Map)},yu=function(){if(!a(this,Qs)){const t=a(this,bn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=a(this,bn).createElementNS(Ds,"svg");r.setAttribute("width",0),r.setAttribute("height",0),v(this,Qs,a(this,bn).createElementNS(Ds,"defs")),t.append(r),r.append(a(this,Qs)),a(this,bn).body.append(t)}return a(this,Qs)},Ov=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[i,r,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let u=0;u<256;u++)o[u]=i[u]/255,l[u]=r[u]/255,c[u]=s[u]/255;return[o.join(","),l.join(","),c.join(",")]},xu=function(t){if(a(this,Jl)===void 0){v(this,Jl,"");const i=a(this,bn).URL;i!==a(this,bn).baseURI&&(Tg(i)?ce('#createUrl: ignore "data:"-URL for performance reasons.'):v(this,Jl,TE(i,"")))}return`url(${a(this,Jl)}#${t})`},yM=function(t){const i=a(this,bn).createElementNS(Ds,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},eS=function(t){const i=a(this,bn).createElementNS(Ds,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},wu=function(t){const i=a(this,bn).createElementNS(Ds,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),a(this,Q,yu).append(i),i},Mf=function(t,i,r){const s=a(this,bn).createElementNS(Ds,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Lf=function(t,i,r,s){const o=a(this,bn).createElementNS(Ds,"feComponentTransfer");s.append(o),k(this,Q,Mf).call(this,o,"feFuncR",t),k(this,Q,Mf).call(this,o,"feFuncG",i),k(this,Q,Mf).call(this,o,"feFuncB",r)},tS=function(t,i){const r=a(this,bn).createElementNS(Ds,"feComponentTransfer");i.append(r),k(this,Q,Mf).call(this,r,"feFuncA",t)},Nf=function(t){return a(this,Q,yu).style.color=t,sf(getComputedStyle(a(this,Q,yu)).getPropertyValue("color"))};class xM{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ge("Abstract method `_fetch` called.")}}class gk extends xM{async _fetch(e){const t=await rf(e,"arraybuffer");return new Uint8Array(t)}}class wM{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ge("Abstract method `_fetch` called.")}}class vk extends wM{async _fetch(e){const t=await rf(e,"arraybuffer");return new Uint8Array(t)}}In&&ce("Please use the `legacy` build in Node.js environments.");async function LE(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class K4 extends vM{}class Y4 extends mM{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class Q4 extends gM{async _fetch(e){return LE(e)}}class Z4 extends xM{async _fetch(e){return LE(e)}}class J4 extends wM{async _fetch(e){return LE(e)}}const hu="__forcedDependency",{floor:yk,ceil:xk}=Math;function sv(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const nS=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Md,va;class e${constructor(e,t){S(this,Md);S(this,va);v(this,Md,e),v(this,va,t)}get length(){return a(this,Md).length}isEmpty(e){return a(this,Md)[e]===nS}minX(e){return a(this,va)[e*4+0]/256}minY(e){return a(this,va)[e*4+1]/256}maxX(e){return(a(this,va)[e*4+2]+1)/256}maxY(e){return(a(this,va)[e*4+3]+1)/256}}Md=new WeakMap,va=new WeakMap;const ov=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Xn,Kn,nc,xr,ic,Js,Le,Ie,eo,Yn,dm,Ld,rc,sc,to,Sn,ss,hm,iS;class t${constructor(e,t,i=!1){S(this,hm);S(this,Xn,{__proto__:null});S(this,Kn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[hu]:[]});S(this,nc,new Map);S(this,xr,[]);S(this,ic,[]);S(this,Js,[[1,0,0,1,0,0]]);S(this,Le,[-1/0,-1/0,1/0,1/0]);S(this,Ie,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,eo,-1);S(this,Yn,new Set);S(this,dm,new Map);S(this,Ld,new Map);S(this,rc);S(this,sc);S(this,to);S(this,Sn);S(this,ss);v(this,rc,e.width),v(this,sc,e.height),k(this,hm,iS).call(this,t),i&&v(this,ss,new Map)}growOperationsCount(e){e>=a(this,Sn).length&&k(this,hm,iS).call(this,e,a(this,Sn))}save(e){return v(this,Xn,{__proto__:a(this,Xn)}),v(this,Kn,{__proto__:a(this,Kn),transform:{__proto__:a(this,Kn).transform},moveText:{__proto__:a(this,Kn).moveText},sameLineText:{__proto__:a(this,Kn).sameLineText},[hu]:{__proto__:a(this,Kn)[hu]}}),v(this,Le,{__proto__:a(this,Le)}),a(this,xr).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(a(this,Xn));if(t===null)return this;v(this,Xn,t),v(this,Kn,Object.getPrototypeOf(a(this,Kn))),v(this,Le,Object.getPrototypeOf(a(this,Le)));const i=a(this,xr).pop();return i!==void 0&&((r=ov(a(this,ss),e))==null||r.dependencies.add(i),a(this,Sn)[e]=a(this,Sn)[i]),this}recordOpenMarker(e){return a(this,xr).push(e),this}getOpenMarker(){return a(this,xr).length===0?null:a(this,xr).at(-1)}recordCloseMarker(e){var i;const t=a(this,xr).pop();return t!==void 0&&((i=ov(a(this,ss),e))==null||i.dependencies.add(t),a(this,Sn)[e]=a(this,Sn)[t]),this}beginMarkedContent(e){return a(this,ic).push(e),this}endMarkedContent(e){var i;const t=a(this,ic).pop();return t!==void 0&&((i=ov(a(this,ss),e))==null||i.dependencies.add(t),a(this,Sn)[e]=a(this,Sn)[t]),this}pushBaseTransform(e){return a(this,Js).push(J.multiplyByDOMMatrix(a(this,Js).at(-1),e.getTransform())),this}popBaseTransform(){return a(this,Js).length>1&&a(this,Js).pop(),this}recordSimpleData(e,t){return a(this,Xn)[e]=t,this}recordIncrementalData(e,t){return a(this,Kn)[e].push(t),this}resetIncrementalData(e,t){return a(this,Kn)[e].length=0,this}recordNamedData(e,t){return a(this,nc).set(e,t),this}recordSimpleDataFromNamed(e,t,i){a(this,Xn)[e]=a(this,nc).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(hu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in a(this,Xn)&&this.recordFutureForcedDependency(t,a(this,Xn)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of a(this,Yn))this.recordFutureForcedDependency(hu,e);return this}resetBBox(e){return a(this,eo)!==e&&(v(this,eo,e),a(this,Ie)[0]=1/0,a(this,Ie)[1]=1/0,a(this,Ie)[2]=-1/0,a(this,Ie)[3]=-1/0),this}recordClipBox(e,t,i,r,s,o){const l=J.multiplyByDOMMatrix(a(this,Js).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];J.axialAlignedBoundingBox([i,s,r,o],l,c);const u=J.intersect(a(this,Le),c);return u?(a(this,Le)[0]=u[0],a(this,Le)[1]=u[1],a(this,Le)[2]=u[2],a(this,Le)[3]=u[3]):(a(this,Le)[0]=a(this,Le)[1]=1/0,a(this,Le)[2]=a(this,Le)[3]=-1/0),this}recordBBox(e,t,i,r,s,o){const l=a(this,Le);if(l[0]===1/0)return this;const c=J.multiplyByDOMMatrix(a(this,Js).at(-1),t.getTransform());if(l[0]===-1/0)return J.axialAlignedBoundingBox([i,s,r,o],c,a(this,Ie)),this;const u=[1/0,1/0,-1/0,-1/0];return J.axialAlignedBoundingBox([i,s,r,o],c,u),a(this,Ie)[0]=Math.min(a(this,Ie)[0],Math.max(u[0],l[0])),a(this,Ie)[1]=Math.min(a(this,Ie)[1],Math.max(u[1],l[1])),a(this,Ie)[2]=Math.max(a(this,Ie)[2],Math.min(u[2],l[2])),a(this,Ie)[3]=Math.max(a(this,Ie)[3],Math.min(u[3],l[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,o=0,l){const c=i.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&a(this,Ld).get(i),u!==!1&&(d=[0,0,0,0],J.axialAlignedBoundingBox(c,i.fontMatrix,d),(r!==1||s!==0||o!==0)&&J.scaleMinMax([r,0,0,-r,s,o],d),u)))return this.recordBBox(e,t,d[0],d[2],d[1],d[3]);if(!l)return this.recordFullPageBBox(e);const h=l();return c&&d&&u===void 0&&(u=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=o-h.actualBoundingBoxAscent&&d[3]>=o+h.actualBoundingBoxDescent,a(this,Ld).set(i,u),u)?this.recordBBox(e,t,d[0],d[2],d[1],d[3]):this.recordBBox(e,t,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,o-h.actualBoundingBoxAscent,o+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return a(this,Ie)[0]=Math.max(0,a(this,Le)[0]),a(this,Ie)[1]=Math.max(0,a(this,Le)[1]),a(this,Ie)[2]=Math.min(a(this,rc),a(this,Le)[2]),a(this,Ie)[3]=Math.min(a(this,sc),a(this,Le)[3]),this}getSimpleIndex(e){return a(this,Xn)[e]}recordDependencies(e,t){const i=a(this,Yn),r=a(this,Xn),s=a(this,Kn);for(const o of t)o in a(this,Xn)?i.add(r[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,t){return a(this,nc).has(t)&&a(this,Yn).add(a(this,nc).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[hu]),a(this,ss)){const i=ov(a(this,ss),e),{dependencies:r}=i;a(this,Yn).forEach(r.add,r),a(this,xr).forEach(r.add,r),a(this,ic).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(a(this,eo)===e){const i=yk(a(this,Ie)[0]*256/a(this,rc)),r=yk(a(this,Ie)[1]*256/a(this,sc)),s=xk(a(this,Ie)[2]*256/a(this,rc)),o=xk(a(this,Ie)[3]*256/a(this,sc));sv(a(this,to),e,i,r,s,o);for(const l of a(this,Yn))l!==e&&sv(a(this,to),l,i,r,s,o);for(const l of a(this,xr))l!==e&&sv(a(this,to),l,i,r,s,o);for(const l of a(this,ic))l!==e&&sv(a(this,to),l,i,r,s,o);t||(a(this,Yn).clear(),v(this,eo,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(a(this,Yn));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return a(this,eo)===e&&(v(this,eo,-1),a(this,Le)[0]=Math.max(a(this,Le)[0],a(this,Ie)[0]),a(this,Le)[1]=Math.max(a(this,Le)[1],a(this,Ie)[1]),a(this,Le)[2]=Math.min(a(this,Le)[2],a(this,Ie)[2]),a(this,Le)[3]=Math.min(a(this,Le)[3],a(this,Ie)[3]),t||a(this,Yn).clear()),this}_takePendingDependencies(){const e=a(this,Yn);return v(this,Yn,new Set),e}_extractOperation(e){const t=a(this,dm).get(e);return a(this,dm).delete(e),t}_pushPendingDependencies(e){for(const t of e)a(this,Yn).add(t)}take(){return a(this,Ld).clear(),new e$(a(this,Sn),a(this,to))}takeDebugMetadata(){return a(this,ss)}}Xn=new WeakMap,Kn=new WeakMap,nc=new WeakMap,xr=new WeakMap,ic=new WeakMap,Js=new WeakMap,Le=new WeakMap,Ie=new WeakMap,eo=new WeakMap,Yn=new WeakMap,dm=new WeakMap,Ld=new WeakMap,rc=new WeakMap,sc=new WeakMap,to=new WeakMap,Sn=new WeakMap,ss=new WeakMap,hm=new WeakSet,iS=function(e,t){const i=new ArrayBuffer(e*4);v(this,to,new Uint8ClampedArray(i)),v(this,Sn,new Uint32Array(i)),t&&t.length>0?(a(this,Sn).set(t),a(this,Sn).fill(nS,t.length)):a(this,Sn).fill(nS)};var He,bt,wr,Nd,Fd;const sA=class sA{constructor(e,t,i){S(this,He);S(this,bt);S(this,wr);S(this,Nd,0);S(this,Fd,0);if(e instanceof sA&&a(e,wr)===!!i)return e;v(this,He,e),v(this,bt,t),v(this,wr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return yt(this,Fd)._++,a(this,He).save(a(this,bt)),this}restore(e){return a(this,Fd)>0&&(a(this,He).restore(a(this,bt)),yt(this,Fd)._--),this}recordOpenMarker(e){return yt(this,Nd)._++,this}getOpenMarker(){return a(this,Nd)>0?a(this,bt):a(this,He).getOpenMarker()}recordCloseMarker(e){return yt(this,Nd)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return a(this,He).pushBaseTransform(e),this}popBaseTransform(){return a(this,He).popBaseTransform(),this}recordSimpleData(e,t){return a(this,He).recordSimpleData(e,a(this,bt)),this}recordIncrementalData(e,t){return a(this,He).recordIncrementalData(e,a(this,bt)),this}resetIncrementalData(e,t){return a(this,He).resetIncrementalData(e,a(this,bt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return a(this,He).recordSimpleDataFromNamed(e,t,a(this,bt)),this}recordFutureForcedDependency(e,t){return a(this,He).recordFutureForcedDependency(e,a(this,bt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return a(this,He).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return a(this,He).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return a(this,wr)||a(this,He).resetBBox(a(this,bt)),this}recordClipBox(e,t,i,r,s,o){return a(this,wr)||a(this,He).recordClipBox(a(this,bt),t,i,r,s,o),this}recordBBox(e,t,i,r,s,o){return a(this,wr)||a(this,He).recordBBox(a(this,bt),t,i,r,s,o),this}recordCharacterBBox(e,t,i,r,s,o,l){return a(this,wr)||a(this,He).recordCharacterBBox(a(this,bt),t,i,r,s,o,l),this}recordFullPageBBox(e){return a(this,wr)||a(this,He).recordFullPageBBox(a(this,bt)),this}getSimpleIndex(e){return a(this,He).getSimpleIndex(e)}recordDependencies(e,t){return a(this,He).recordDependencies(a(this,bt),t),this}recordNamedDependency(e,t){return a(this,He).recordNamedDependency(a(this,bt),t),this}recordOperation(e){return a(this,He).recordOperation(a(this,bt),!0),this}recordShowTextOperation(e){return a(this,He).recordShowTextOperation(a(this,bt),!0),this}bboxToClipBoxDropOperation(e){return a(this,wr)||a(this,He).bboxToClipBoxDropOperation(a(this,bt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};He=new WeakMap,bt=new WeakMap,wr=new WeakMap,Nd=new WeakMap,Fd=new WeakMap;let Gy=sA;const zi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},un={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rS(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class NE{isModifyingCurrentTransform(){return!1}getPattern(){Ge("Abstract method `getPattern` called.")}}class n$ extends NE{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===un.STROKE||r===un.FILL){const o=t.current.getClippedPathBoundingBox(r,ct(e))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",l,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),i=J.transform(i,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),rS(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);s.setTransform(h)}else rS(e,this._bbox),s=this._createGradient(e);return s}}function hb(n,e,t,i,r,s,o,l){const c=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),c[i+1]>c[r+1]&&(f=i,i=r,r=f,f=o,o=l,l=f),c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(c[t]+e.offsetX)*e.scaleX,y=(c[t+1]+e.offsetY)*e.scaleY,m=(c[i]+e.offsetX)*e.scaleX,w=(c[i+1]+e.offsetY)*e.scaleY,g=(c[r]+e.offsetX)*e.scaleX,x=(c[r+1]+e.offsetY)*e.scaleY;if(y>=x)return;const b=u[s],A=u[s+1],T=u[s+2],_=u[o],P=u[o+1],R=u[o+2],D=u[l],L=u[l+1],F=u[l+2],j=Math.round(y),$=Math.round(x);let N,U,O,z,M,I,W,q;for(let B=j;B<=$;B++){if(B<w){const ve=B<y?0:(y-B)/(y-w);N=p-(p-m)*ve,U=b-(b-_)*ve,O=A-(A-P)*ve,z=T-(T-R)*ve}else{let ve;B>x?ve=1:w===x?ve=0:ve=(w-B)/(w-x),N=m-(m-g)*ve,U=_-(_-D)*ve,O=P-(P-L)*ve,z=R-(R-F)*ve}let H;B<y?H=0:B>x?H=1:H=(y-B)/(y-x),M=p-(p-g)*H,I=b-(b-D)*H,W=A-(A-L)*H,q=T-(T-F)*H;const Y=Math.round(Math.min(N,M)),oe=Math.round(Math.max(N,M));let ae=h*B+Y*4;for(let ve=Y;ve<=oe;ve++)H=(N-ve)/(N-M),H<0?H=0:H>1&&(H=1),d[ae++]=U-(U-I)*H|0,d[ae++]=O-(O-W)*H|0,d[ae++]=z-(z-q)*H|0,d[ae++]=255}}function i$(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(i.length/l)-1,u=l-1;for(s=0;s<c;s++){let d=s*l;for(let h=0;h<u;h++,d++)hb(n,t,i[d],i[d+1],i[d+l],r[d],r[d+1],r[d+l]),hb(n,t,i[d+l+1],i[d+1],i[d+l],r[d+l+1],r[d+1],r[d+l])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)hb(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class r$ extends NE{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-l,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,y=d/f,m={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/p,scaleY:1/y},w=h+2*2,g=f+2*2,x=i.getCanvas("mesh",w,g),b=x.context,A=b.createImageData(h,f);if(t){const _=A.data;for(let P=0,R=_.length;P<R;P+=4)_[P]=t[0],_[P+1]=t[1],_[P+2]=t[2],_[P+3]=255}for(const _ of this._figures)i$(A,_,m);return b.putImageData(A,2,2),{canvas:x.canvas,offsetX:l-2*p,offsetY:c-2*y,scaleX:p,scaleY:y}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){rS(e,this._bbox);const s=new Float32Array(2);if(r===un.SHADING)J.singularValueDecompose2dScale(ct(e),s);else if(this.matrix){J.singularValueDecompose2dScale(this.matrix,s);const[l,c]=s;J.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=l,s[1]*=c}else J.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===un.SHADING?null:this._background,t.cachedCanvases);return r!==un.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class s$ extends NE{getPattern(){return"hotpink"}}function o$(n){switch(n[0]){case"RadialAxial":return new n$(n);case"Mesh":return new r$(n);case"Dummy":return new s$}throw new Error(`Unknown IR type: ${n[0]}`)}const wk={COLORED:1,UNCOLORED:2},hx=class hx{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var I,W;const{bbox:i,operatorList:r,paintType:s,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),nw("TilingType: "+o);const h=i[0],f=i[1],p=i[2],y=i[3],m=p-h,w=y-f,g=new Float32Array(2);J.singularValueDecompose2dScale(this.matrix,g);const[x,b]=g;J.singularValueDecompose2dScale(this.baseTransform,g);const A=x*g[0],T=b*g[1];let _=m,P=w,R=!1,D=!1;const L=Math.ceil(u*A),F=Math.ceil(d*T),j=Math.ceil(m*A),$=Math.ceil(w*T);L>=j?_=u:R=!0,F>=$?P=d:D=!0;const N=this.getSizeAndScale(_,this.ctx.canvas.width,A),U=this.getSizeAndScale(P,this.ctx.canvas.height,T),O=e.cachedCanvases.getCanvas("pattern",N.size,U.size),z=O.context,M=c.createCanvasGraphics(z,t);if(M.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(M,s,l),z.translate(-N.scale*h,-U.scale*f),M.transform(0,N.scale,0,0,U.scale,0,0),z.save(),(I=M.dependencyTracker)==null||I.save(),this.clipBbox(M,h,f,p,y),M.baseTransform=ct(M.ctx),M.executeOperatorList(r),M.endDrawing(),(W=M.dependencyTracker)==null||W.restore(),z.restore(),R||D){const q=O.canvas;R&&(_=u),D&&(P=d);const B=this.getSizeAndScale(_,this.ctx.canvas.width,A),H=this.getSizeAndScale(P,this.ctx.canvas.height,T),Y=B.size,oe=H.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",Y,oe),ve=ae.context,Ot=R?Math.floor(m/u):0,kt=D?Math.floor(w/d):0;for(let se=0;se<=Ot;se++)for(let qe=0;qe<=kt;qe++)ve.drawImage(q,Y*se,oe*qe,Y,oe,0,0,Y,oe);return{canvas:ae.canvas,scaleX:B.scale,scaleY:H.scale,offsetX:h,offsetY:f}}return{canvas:O.canvas,scaleX:N.scale,scaleY:U.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,i){const r=Math.max(hx.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,l=s-i;e.ctx.rect(t,i,o,l),J.axialAlignedBoundingBox([t,i,r,s],ct(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case wk.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=l;break;case wk.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new T4(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let o=i;r!==un.SHADING&&(o=J.transform(o,t.baseTransform),this.matrix&&(o=J.transform(o,this.matrix)));const l=this.createPatternCanvas(t,s);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const u=e.createPattern(l.canvas,"repeat");return u.setTransform(c),u}};V(hx,"MAX_PATTERN_SIZE",3e3);let sS=hx;function a$({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const l=tn.isLittleEndian?4278190080:255,[c,u]=o?[s,l]:[l,s],d=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let y=0;y<r;y++){for(const w=e+d;e<w;e++){const g=e<f?n[e]:255;t[p++]=g&128?u:c,t[p++]=g&64?u:c,t[p++]=g&32?u:c,t[p++]=g&16?u:c,t[p++]=g&8?u:c,t[p++]=g&4?u:c,t[p++]=g&2?u:c,t[p++]=g&1?u:c}if(h===0)continue;const m=e<f?n[e++]:255;for(let w=0;w<h;w++)t[p++]=m&1<<7-w?u:c}return{srcPos:e,destPos:p}}const bk=16,Sk=100,l$=15,Ek=10,ei=16,fb=new DOMMatrix,_i=new Float32Array(2),Iu=new Float32Array([1/0,1/0,-1/0,-1/0]);function c$(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,o,l){e.transform(t,i,r,s,o,l),this.__originalTransform(t,i,r,s,o,l)},n.setTransform=function(t,i,r,s,o,l){e.setTransform(t,i,r,s,o,l),this.__originalSetTransform(t,i,r,s,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,l){e.bezierCurveTo(t,i,r,s,o,l),this.__originalBezierCurveTo(t,i,r,s,o,l)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class u${constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function av(n,e,t,i,r,s,o,l,c,u){const[d,h,f,p,y,m]=ct(n);if(h===0&&f===0){const x=o*d+y,b=Math.round(x),A=l*p+m,T=Math.round(A),_=(o+c)*d+y,P=Math.abs(Math.round(_)-b)||1,R=(l+u)*p+m,D=Math.abs(Math.round(R)-T)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),b,T),n.drawImage(e,t,i,r,s,0,0,P,D),n.setTransform(d,h,f,p,y,m),[P,D]}if(d===0&&p===0){const x=l*f+y,b=Math.round(x),A=o*h+m,T=Math.round(A),_=(l+u)*f+y,P=Math.abs(Math.round(_)-b)||1,R=(o+c)*h+m,D=Math.abs(Math.round(R)-T)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,b,T),n.drawImage(e,t,i,r,s,0,0,D,P),n.setTransform(d,h,f,p,y,m),[D,P]}n.drawImage(e,t,i,r,s,o,l,c,u);const w=Math.hypot(d,h),g=Math.hypot(f,p);return[w*c,g*u]}class Ak{constructor(e,t,i){V(this,"alphaIsShape",!1);V(this,"fontSize",0);V(this,"fontSizeScale",1);V(this,"textMatrix",null);V(this,"textMatrixScale",1);V(this,"fontMatrix",D0);V(this,"leading",0);V(this,"x",0);V(this,"y",0);V(this,"lineX",0);V(this,"lineY",0);V(this,"charSpacing",0);V(this,"wordSpacing",0);V(this,"textHScale",1);V(this,"textRenderingMode",nn.FILL);V(this,"textRise",0);V(this,"fillColor","#000000");V(this,"strokeColor","#000000");V(this,"patternFill",!1);V(this,"patternStroke",!1);V(this,"fillAlpha",1);V(this,"strokeAlpha",1);V(this,"lineWidth",1);V(this,"activeSMask",null);V(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Iu.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=un.FILL,t=null){const i=this.minMax.slice();if(e===un.STROKE){t||Ge("Stroke bounding box must include transform."),J.singularValueDecompose2dScale(t,_i);const r=_i[0]*this.lineWidth/2,s=_i[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=J.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Iu,0)}getClippedPathBoundingBox(e=un.FILL,t=null){return J.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Ck(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%ei,s=(t-r)/ei,o=r===0?s:s+1,l=n.createImageData(i,ei);let c=0,u;const d=e.data,h=l.data;let f,p,y,m;if(e.kind===np.GRAYSCALE_1BPP){const w=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),x=g.length,b=i+7>>3,A=4294967295,T=tn.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(y=f<s?ei:r,u=0,p=0;p<y;p++){const _=w-c;let P=0;const R=_>b?i:_*8-7,D=R&-8;let L=0,F=0;for(;P<D;P+=8)F=d[c++],g[u++]=F&128?A:T,g[u++]=F&64?A:T,g[u++]=F&32?A:T,g[u++]=F&16?A:T,g[u++]=F&8?A:T,g[u++]=F&4?A:T,g[u++]=F&2?A:T,g[u++]=F&1?A:T;for(;P<R;P++)L===0&&(F=d[c++],L=128),g[u++]=F&L?A:T,L>>=1}for(;u<x;)g[u++]=0;n.putImageData(l,0,f*ei)}}else if(e.kind===np.RGBA_32BPP){for(p=0,m=i*ei*4,f=0;f<s;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(l,0,p),p+=ei;f<o&&(m=i*r*4,h.set(d.subarray(c,c+m)),n.putImageData(l,0,p))}else if(e.kind===np.RGB_24BPP)for(y=ei,m=i*y,f=0;f<o;f++){for(f>=s&&(y=r,m=i*y),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(l,0,f*ei)}else throw new Error(`bad image kind: ${e.kind}`)}function kk(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%ei,s=(t-r)/ei,o=r===0?s:s+1,l=n.createImageData(i,ei);let c=0;const u=e.data,d=l.data;for(let h=0;h<o;h++){const f=h<s?ei:r;({srcPos:c}=a$({src:u,srcPos:c,dest:d,width:i,height:f,nonBlackColor:0})),n.putImageData(l,0,h*ei)}}function gf(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function lv(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Tk(n,e){if(e)return!0;J.singularValueDecompose2dScale(n,_i);const t=Math.fround(Ir.pixelRatio*Lo.PDF_TO_CSS_UNITS);return _i[0]<=t&&_i[1]<=t}const d$=["butt","round","square"],h$=["miter","round","bevel"],f$={},_k={};var Or,oS,aS,lS;const oA=class oA{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:l=null},c,u,d){S(this,Or);this.ctx=e,this.current=new Ak(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new u$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...ct(this.compositeCtx))}this.ctx.save(),lv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ct(this.ctx)}executeOperatorList(e,t,i,r,s){var g;const o=e.argsArray,l=e.fnArray;let c=t||0;const u=o.length;if(u===c)return c;const d=u-c>Ek&&typeof i=="function",h=d?Date.now()+l$:0;let f=0;const p=this.commonObjs,y=this.objs;let m,w;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(!s||s(c))if(m=l[c],w=o[c]??null,m!==Gh.dependency)w===null?this[m](c):this[m](c,...w);else for(const x of w){(g=this.dependencyTracker)==null||g.recordNamedData(x,c);const b=x.startsWith("g_")?p:y;if(!b.has(x))return b.get(x,i),c}if(c++,c===u)return c;if(d&&++f>Ek){if(Date.now()>h)return i(),c;f=0}}}endDrawing(){k(this,Or,oS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,Or,aS).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=r,u="prescale1",d,h;for(;s>2&&l>1||o>2&&c>1;){let f=l,p=c;s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,l,c,0,0,f,p),e=d.canvas,l=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e,t){var L,F;const i=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,l=this.current.patternFill,c=ct(i);let u,d,h,f;if((t.bitmap||t.data)&&t.count>1){const j=t.bitmap||t.data.buffer;d=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(j),u||(u=new Map,this._cachedBitmapsMap.set(j,u));const $=u.get(d);if($&&!l){const N=Math.round(Math.min(c[0],c[2])+c[4]),U=Math.round(Math.min(c[1],c[3])+c[5]);return(L=this.dependencyTracker)==null||L.recordDependencies(e,zi.transformAndFill),{canvas:$,offsetX:N,offsetY:U}}h=$}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,s),kk(f.context,t));let p=J.transform(c,[1/r,0,0,-1/s,0,0]);p=J.transform(p,[1,0,0,1,0,-s]);const y=Iu.slice();J.axialAlignedBoundingBox([0,0,r,s],p,y);const[m,w,g,x]=y,b=Math.round(g-m)||1,A=Math.round(x-w)||1,T=this.cachedCanvases.getCanvas("fillCanvas",b,A),_=T.context,P=m,R=w;_.translate(-P,-R),_.transform(...p),h||(h=this._scaleImage(f.canvas,Ur(_)),h=h.img,u&&l&&u.set(d,h)),_.imageSmoothingEnabled=Tk(ct(_),t.interpolate),av(_,h,0,0,h.width,h.height,0,0,r,s),_.globalCompositeOperation="source-in";const D=J.transform(Ur(_),[1,0,0,1,-P,-R]);return _.fillStyle=l?o.getPattern(i,this,D,un.FILL,e):o,_.fillRect(0,0,r,s),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,T.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(e,zi.transformAndFill),{canvas:T.canvas,offsetX:Math.round(P),offsetY:Math.round(R)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=d$[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=h$[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,o,l;for(const[c,u]of t)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(l=this.dependencyTracker)==null||l.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),gf(this.suspendedCtx,o),c$(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gf(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],l=r[2]-s,c=r[3]-o;l===0||c===0||(this.genericComposeSMask(t.context,i,l,c,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,l,c,u,d,h){let f=e.canvas,p=c-d,y=u-h;if(o)if(p<0||y<0||p+i>f.width||y+r>f.height){const w=this.cachedCanvases.getCanvas("maskExtension",i,r),g=w.context;g.drawImage(f,-p,-y),g.globalCompositeOperation="destination-atop",g.fillStyle=o,g.fillRect(0,0,i,r),g.globalCompositeOperation="source-over",f=w.canvas,p=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(p,y,i,r),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,y,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const m=new Path2D;m.rect(c,u,i,r),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,y,i,r,c,u,i,r),t.restore()}save(e){var i;this.inSMaskMode&&gf(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gf(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,o,l){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===Gh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const o=i[0]=new Path2D;for(let l=0,c=s.length;l<c;)switch(s[l++]){case tv.moveTo:o.moveTo(s[l++],s[l++]);break;case tv.lineTo:o.lineTo(s[l++],s[l++]);break;case tv.curveTo:o.bezierCurveTo(s[l++],s[l++],s[l++],s[l++],s[l++],s[l++]);break;case tv.closePath:o.closePath();break;default:ce(`Unrecognized drawing path operator: ${s[l-1]}`);break}s=o}J.axialAlignedBoundingBox(r,ct(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var o;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const l=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Ur(r),un.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,zi.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(un.STROKE,ct(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var u,d,h;const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Ur(r),un.FILL,e),f){const p=new Path2D;p.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=p}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(d=this.dependencyTracker)==null||d.recordDependencies(e,zi.fill),l&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,zi.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=f$}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=_k}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:u,path:d}of t)d&&r.addPath(d,new DOMMatrix(o).preMultiplySelf(s).translate(l,c).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||D0,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ce("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=((f=r.systemFontInfo)==null?void 0:f.css)||`"${o}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const u=r.italic?"italic":"normal";let d=i;i<bk?d=bk:i>Sk&&(d=Sk),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${c} ${d}px ${l}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,o){var g,x,b,A;const l=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&nn.FILL_STROKE_MASK,p=!!(d&nn.ADD_TO_PATH_FLAG),y=c.patternFill&&!u.missingFile,m=c.patternStroke&&!u.missingFile;let w;if((u.disableFontFace||p||y||m)&&!u.missingFile&&(w=u.getPathGenerator(this.commonObjs,t)),w&&(u.disableFontFace||y||m)){l.save(),l.translate(i,r),l.scale(h,-h),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,l,u);let T;if(f===nn.FILL||f===nn.FILL_STROKE)if(s){T=l.getTransform(),l.setTransform(...s);const _=k(this,Or,lS).call(this,w,T,s);l.fill(_)}else l.fill(w);if(f===nn.STROKE||f===nn.FILL_STROKE)if(o){T||(T=l.getTransform()),l.setTransform(...o);const{a:_,b:P,c:R,d:D}=T,L=J.inverseTransform(o),F=J.transform([_,P,R,D,0,0],L);J.singularValueDecompose2dScale(F,_i),l.lineWidth*=Math.max(_i[0],_i[1])/h,l.stroke(k(this,Or,lS).call(this,w,T,o))}else l.lineWidth/=h,l.stroke(w);l.restore()}else(f===nn.FILL||f===nn.FILL_STROKE)&&(l.fillText(t,i,r),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,l,u,h,i,r,()=>l.measureText(t))),(f===nn.STROKE||f===nn.FILL_STROKE)&&(this.dependencyTracker&&((b=this.dependencyTracker)==null||b.recordCharacterBBox(e,l,u,h,i,r,()=>l.measureText(t)).recordDependencies(e,zi.stroke)),l.strokeText(t,i,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ct(l),x:i,y:r,fontSize:h,path:w}),(A=this.dependencyTracker)==null||A.recordCharacterBBox(e,l,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return pe(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var R,D,L,F;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,zi.showText).resetBBox(e),this.current.textRenderingMode&nn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(D=this.dependencyTracker)==null||D.recordOperation(e);return}const o=this.ctx,l=i.fontSizeScale,c=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,f=t.length,p=r.vertical,y=p?1:-1,m=r.defaultVMetrics,w=s*i.fontMatrix[0],g=i.textRenderingMode===nn.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),d>0?o.scale(h,-1):o.scale(h,1);let x,b;if(i.patternFill){o.save();const j=i.fillColor.getPattern(o,this,Ur(o),un.FILL,e);x=ct(o),o.restore(),o.fillStyle=j}if(i.patternStroke){o.save();const j=i.strokeColor.getPattern(o,this,Ur(o),un.STROKE,e);b=ct(o),o.restore(),o.strokeStyle=j}let A=i.lineWidth;const T=i.textMatrixScale;if(T===0||A===0){const j=i.textRenderingMode&nn.FILL_STROKE_MASK;(j===nn.STROKE||j===nn.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=T;if(l!==1&&(o.scale(l,l),A/=l),o.lineWidth=A,r.isInvalidPDFjsFont){const j=[];let $=0;for(const U of t)j.push(U.unicode),$+=U.width;const N=j.join("");if(o.fillText(N,0,0),this.dependencyTracker!==null){const U=o.measureText(N);this.dependencyTracker.recordBBox(e,this.ctx,-U.actualBoundingBoxLeft,U.actualBoundingBoxRight,-U.actualBoundingBoxAscent,U.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=$*w*h,o.restore(),this.compose();return}let _=0,P;for(P=0;P<f;++P){const j=t[P];if(typeof j=="number"){_+=y*j*s/1e3;continue}let $=!1;const N=(j.isSpace?u:0)+c,U=j.fontChar,O=j.accent;let z,M,I=j.width;if(p){const B=j.vmetric||m,H=-(j.vmetric?B[1]:I*.5)*w,Y=B[2]*w;I=B?-B[0]:I,z=H/l,M=(_+Y)/l}else z=_/l,M=0;let W;if(r.remeasure&&I>0){W=o.measureText(U);const B=W.width*1e3/s*l;if(I<B&&this.isFontSubpixelAAEnabled){const H=I/B;$=!0,o.save(),o.scale(H,1),z/=H}else I!==B&&(z+=(I-B)/2e3*s/l)}if(this.contentVisible&&(j.isInFont||r.missingFile)){if(g&&!O)o.fillText(U,z,M),(L=this.dependencyTracker)==null||L.recordCharacterBBox(e,o,W?{bbox:null}:r,s/l,z,M,()=>W??o.measureText(U));else if(this.paintChar(e,U,z,M,x,b),O){const B=z+s*O.offset.x/l,H=M-s*O.offset.y/l;this.paintChar(e,O.fontChar,B,H,x,b)}}const q=p?I*w-N*d:I*w+N*d;_+=q,$&&o.restore()}p?i.y-=_:i.x+=_*h,o.restore(),this.compose(),(F=this.dependencyTracker)==null||F.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,o=r.fontSize,l=r.fontDirection,c=s.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*l,f=r.fontMatrix||D0,p=t.length,y=r.textRenderingMode===nn.INVISIBLE;let m,w,g,x;if(y||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,l);const b=this.dependencyTracker;for(this.dependencyTracker=b?new Gy(b,e):null,m=0;m<p;++m){if(w=t[m],typeof w=="number"){x=c*w*o/1e3,this.ctx.translate(x,0),r.x+=x*h;continue}const A=(w.isSpace?d:0)+u,T=s.charProcOperatorList[w.operatorListId];T?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...f),this.executeOperatorList(T),this.restore()):ce(`Type3 character "${w.operatorListId}" is not available.`);const _=[w.width,0];J.applyTransform(_,f),g=_[0]*o+A,i.translate(g,0),r.x+=g*h}i.restore(),b&&(this.dependencyTracker=b)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,o,l){var u;const c=new Path2D;c.rect(r,s,o-r,l-s),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,o,s,l).recordClipBox(e,this.ctx,r,o,s,l),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||ct(this.ctx),s={createCanvasGraphics:(o,l)=>new oA(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Gy(this.dependencyTracker,l,!0):null)};i=new sS(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=o$(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Ur(i),un.SHADING,e);const s=Ur(i);if(s){const{width:l,height:c}=i.canvas,u=Iu.slice();J.axialAlignedBoundingBox([0,0,l,c],s,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,zi.transform).recordDependencies(e,zi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ge("Should not call beginInlineImage")}beginImageData(){Ge("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=ct(this.ctx),i)){J.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,o,l,c]=i,u=new Path2D;u.rect(s,o,l-s,c-o),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,l,o,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var b;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||nw("TODO: Support non-isolated groups."),t.knockout&&ce("Knockout groups not supported.");const r=ct(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Iu.slice();J.axialAlignedBoundingBox(t.bbox,ct(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=J.intersect(s,o)||[0,0,0,0];const l=Math.floor(s[0]),c=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-l,1),d=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-l,-c),p.transform(...r);let y=new Path2D;const[m,w,g,x]=t.bbox;if(y.rect(m,w,g-m,x-w),t.matrix){const A=new Path2D;A.addPath(y,new DOMMatrix(t.matrix)),y=A}p.clip(y),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(l,c),i.save()),gf(i,p),this.ctx=p,(b=this.dependencyTracker)==null||b.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=ct(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const l=Iu.slice();J.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,r,s,o){if(k(this,Or,oS).call(this),lv(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const l=i[2]-i[0],c=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=l,i[3]=c,J.singularValueDecompose2dScale(ct(this.ctx),_i);const{viewportScale:u}=this,d=Math.ceil(l*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(_i[0],0,0,-_i[1],0,c*_i[1]),lv(this.ctx)}else{lv(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],l,c),this.ctx.clip(u)}}this.current=new Ak(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,Or,aS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var l;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),(l=this.dependencyTracker)==null||l.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,o,l){var h,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const u=ct(c);c.transform(i,r,s,o,0,0);const d=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let y=0,m=l.length;y<m;y+=2){const w=J.transform(u,[i,r,s,o,l[y],l[y+1]]);c.drawImage(d.canvas,w[4],w[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,w[4],w[4]+d.canvas.width,w[5],w[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,l,c;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,zi.transformAndFill);for(const u of t){const{data:d,width:h,height:f,transform:p}=u,y=this.cachedCanvases.getCanvas("maskCanvas",h,f),m=y.context;m.save();const w=this.getObject(e,d,u);kk(m,w),m.globalCompositeOperation="source-in",m.fillStyle=s?r.getPattern(m,this,Ur(i),un.FILL,e):r,m.fillRect(0,0,h,f),m.restore(),i.save(),i.transform(...p),i.scale(1,-1),av(i,y.canvas,0,0,h,f,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,i,0,h,0,f),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){ce("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){ce("Dependent image isn't ready yet");return}const l=o.width,c=o.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[i,0,0,r,s[d],s[d+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(e,o,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/r);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;Ck(h,t),l=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(l,Ur(s));s.imageSmoothingEnabled=Tk(ct(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,zi.imageXObject).recordOperation(e),av(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var o,l,c;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,d=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;Ck(f,t),s=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),av(r,s,u.x,u.y,u.w,u.h,0,-1,1,1),(l=this.dependencyTracker)==null||l.recordBBox(e,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,zi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var o,l;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===_k?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(l=this.dependencyTracker)==null||l.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ct(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,l;if(i===0&&r===0){const c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)o=l=1/c;else{const d=c*e;o=l=d<1?1/d:1}else if(e===0)o=1/c,l=1/u;else{const d=c*e,h=u*e;o=d<1?1/d:1,l=h<1?1/h:1}}else{const c=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)o=d/c,l=u/c;else{const h=e*c;o=d>h?d/h:1,l=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(r||1)*s,i.stroke(e);return}const l=i.getLineDash();t&&i.save(),i.scale(s,o),fb.a=1/s,fb.d=1/o;const c=new Path2D;if(c.addPath(e,fb),l.length>0){const u=Math.max(s,o);i.setLineDash(l.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(c),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Or=new WeakSet,oS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},aS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},lS=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let Yu=oA;for(const n in Gh)Yu.prototype[n]!==void 0&&(Yu.prototype[Gh[n]]=Yu.prototype[n]);var Id,Od,fm,jd,jv;const ju=class ju{constructor(e){S(this,jd);S(this,Id);S(this,Od);S(this,fm);v(this,Id,e),v(this,Od,new DataView(a(this,Id))),v(this,fm,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const u of ju.strings){const d=t.encode(e[u]);i[u]=d,r+=4+d.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),l=new DataView(s);let c=0;for(const u of ju.strings){const d=i[u],h=d.length;l.setUint32(c,h),o.set(d,c+4),c+=4+h}return Se(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return k(this,jd,jv).call(this,0)}get fontWeight(){return k(this,jd,jv).call(this,1)}get italicAngle(){return k(this,jd,jv).call(this,2)}};Id=new WeakMap,Od=new WeakMap,fm=new WeakMap,jd=new WeakSet,jv=function(e){Se(e<ju.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=a(this,Od).getUint32(t)+4;const i=a(this,Od).getUint32(t);return a(this,fm).decode(new Uint8Array(a(this,Id),t+4,i))},V(ju,"strings",["fontFamily","fontWeight","italicAngle"]);let qy=ju;var ya,os,oc,ac,Ff;const Bu=class Bu{constructor(e){S(this,ac);S(this,ya);S(this,os);S(this,oc);v(this,ya,e),v(this,os,new DataView(a(this,ya))),v(this,oc,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const f of Bu.strings){const p=t.encode(e[f]);i[f]=p,r+=4+p.length}r+=4;let s,o,l=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),l+=4+s.length+4+o.length);const c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const f of Bu.strings){const p=i[f],y=p.length;r+=4+y,d.setUint32(h,y),u.set(p,h+4),h+=4+y}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length,d.setUint32(h,o.length),u.set(o,h+4),h+=4+o.length),Se(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return a(this,os).getUint8(0)!==0}get css(){return k(this,ac,Ff).call(this,0)}get loadedName(){return k(this,ac,Ff).call(this,1)}get baseFontName(){return k(this,ac,Ff).call(this,2)}get src(){return k(this,ac,Ff).call(this,3)}get style(){let e=1;e+=4+a(this,os).getUint32(e);const t=a(this,os).getUint32(e),i=a(this,oc).decode(new Uint8Array(a(this,ya),e+4,t));e+=4+t;const r=a(this,os).getUint32(e),s=a(this,oc).decode(new Uint8Array(a(this,ya),e+4,r));return{style:i,weight:s}}};ya=new WeakMap,os=new WeakMap,oc=new WeakMap,ac=new WeakSet,Ff=function(e){Se(e<Bu.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=a(this,os).getUint32(t)+4;const i=a(this,os).getUint32(t);return a(this,oc).decode(new Uint8Array(a(this,ya),t+4,i))},V(Bu,"strings",["css","loadedName","baseFontName","src"]);let Xy=Bu;var Bd,zd,$d,Ud,hi,as,pm,Oe,At,dr,Bv,If;const de=class de{constructor({data:e,extra:t}){S(this,At);S(this,as);S(this,pm);S(this,Oe);v(this,as,e),v(this,pm,new TextDecoder),v(this,Oe,new DataView(a(this,as))),t&&Object.assign(this,t)}get black(){return k(this,At,dr).call(this,0)}get bold(){return k(this,At,dr).call(this,1)}get disableFontFace(){return k(this,At,dr).call(this,2)}get fontExtraProperties(){return k(this,At,dr).call(this,3)}get isInvalidPDFjsFont(){return k(this,At,dr).call(this,4)}get isType3Font(){return k(this,At,dr).call(this,5)}get italic(){return k(this,At,dr).call(this,6)}get missingFile(){return k(this,At,dr).call(this,7)}get remeasure(){return k(this,At,dr).call(this,8)}get vertical(){return k(this,At,dr).call(this,9)}get ascent(){return k(this,At,Bv).call(this,0)}get defaultWidth(){return k(this,At,Bv).call(this,1)}get descent(){return k(this,At,Bv).call(this,2)}get bbox(){let e=a(de,zd);if(a(this,Oe).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(a(this,Oe).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=a(de,$d);if(a(this,Oe).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(a(this,Oe).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=a(de,Ud);if(a(this,Oe).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(a(this,Oe).getInt16(e,!0)),e+=2;return i}get fallbackName(){return k(this,At,If).call(this,0)}get loadedName(){return k(this,At,If).call(this,1)}get mimetype(){return k(this,At,If).call(this,2)}get name(){return k(this,At,If).call(this,3)}get data(){let e=a(de,hi);const t=a(this,Oe).getUint32(e);e+=4+t;const i=a(this,Oe).getUint32(e);e+=4+i;const r=a(this,Oe).getUint32(e);e+=4+r;const s=a(this,Oe).getUint32(e);if(s!==0)return new Uint8Array(a(this,as),e+4,s)}clearData(){let e=a(de,hi);const t=a(this,Oe).getUint32(e);e+=4+t;const i=a(this,Oe).getUint32(e);e+=4+i;const r=a(this,Oe).getUint32(e);e+=4+r;const s=a(this,Oe).getUint32(e);new Uint8Array(a(this,as),e+4,s).fill(0),a(this,Oe).setUint32(e,0)}get cssFontInfo(){let e=a(de,hi);const t=a(this,Oe).getUint32(e);e+=4+t;const i=a(this,Oe).getUint32(e);e+=4+i;const r=a(this,Oe).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(a(this,as),e+4,r)),new qy(s.buffer)}get systemFontInfo(){let e=a(de,hi);const t=a(this,Oe).getUint32(e);e+=4+t;const i=a(this,Oe).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(a(this,as),e+4,i)),new Xy(r.buffer)}static write(e){const t=e.systemFontInfo?Xy.write(e.systemFontInfo):null,i=e.cssFontInfo?qy.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const m of de.strings)s[m]=r.encode(e[m]),o+=4+s[m].length;const l=a(de,hi)+4+o+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(l),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=de.bools.length;let p=0,y=0;for(let m=0;m<f;m++){const w=e[de.bools[m]];p|=(w===void 0?0:w?2:1)<<y,y+=2,(y===8||m===f-1)&&(d.setUint8(h++,p),p=0,y=0)}Se(h===a(de,Bd),"FontInfo.write: Boolean properties offset mismatch");for(const m of de.numbers)d.setFloat64(h,e[m]),h+=8;if(Se(h===a(de,zd),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const m of e.bbox)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(Se(h===a(de,$d),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const m of e.fontMatrix)d.setFloat64(h,m,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(Se(h===a(de,Ud),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const m of e.defaultVMetrics)d.setInt16(h,m,!0),h+=2}else d.setUint8(h++,0),h+=3*2;Se(h===a(de,hi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(a(de,hi),0),h+=4;for(const m of de.strings){const w=s[m],g=w.length;d.setUint32(h,g),u.set(w,h+4),h+=4+g}if(d.setUint32(a(de,hi),h-a(de,hi)-4),!t)d.setUint32(h,0),h+=4;else{const m=t.byteLength;d.setUint32(h,m),Se(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),h+4),h+=4+m}if(!i)d.setUint32(h,0),h+=4;else{const m=i.byteLength;d.setUint32(h,m),Se(h+4+m<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+m}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),Se(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};Bd=new WeakMap,zd=new WeakMap,$d=new WeakMap,Ud=new WeakMap,hi=new WeakMap,as=new WeakMap,pm=new WeakMap,Oe=new WeakMap,At=new WeakSet,dr=function(e){Se(e<de.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=a(this,Oe).getUint8(t)>>i&3;return r===0?void 0:r===2},Bv=function(e){return Se(e<de.numbers.length,"Invalid number index"),a(this,Oe).getFloat64(a(de,Bd)+e*8)},If=function(e){Se(e<de.strings.length,"Invalid string index");let t=a(de,hi)+4;for(let s=0;s<e;s++)t+=a(this,Oe).getUint32(t)+4;const i=a(this,Oe).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(a(this,as),t+4,i)),a(this,pm).decode(r)},V(de,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),V(de,"numbers",["ascent","defaultWidth","descent"]),V(de,"strings",["fallbackName","loadedName","mimetype","name"]),S(de,Bd,Math.ceil(de.bools.length*2/8)),S(de,zd,a(de,Bd)+de.numbers.length*8),S(de,$d,a(de,zd)+1+2*4),S(de,Ud,a(de,$d)+1+8*6),S(de,hi,a(de,Ud)+1+2*3);let cS=de;var mm,gm;class Ht{static get workerPort(){return a(this,mm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");v(this,mm,e)}static get workerSrc(){return a(this,gm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");v(this,gm,e)}}mm=new WeakMap,gm=new WeakMap,S(Ht,mm,null),S(Ht,gm,"");var Hd,vm;class p${constructor({parsedData:e,rawData:t}){S(this,Hd);S(this,vm);v(this,Hd,e),v(this,vm,t)}getRaw(){return a(this,vm)}get(e){return a(this,Hd).get(e)??null}[Symbol.iterator](){return a(this,Hd).entries()}}Hd=new WeakMap,vm=new WeakMap;const bu=Symbol("INTERNAL");var ym,xm,wm,Vd;class m${constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){S(this,ym,!1);S(this,xm,!1);S(this,wm,!1);S(this,Vd,!0);v(this,ym,!!(e&ki.DISPLAY)),v(this,xm,!!(e&ki.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(a(this,wm))return a(this,Vd);if(!a(this,Vd))return!1;const{print:e,view:t}=this.usage;return a(this,ym)?(t==null?void 0:t.viewState)!=="OFF":a(this,xm)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==bu&&Ge("Internal method `_setVisible` called."),v(this,wm,i),v(this,Vd,t)}}ym=new WeakMap,xm=new WeakMap,wm=new WeakMap,Vd=new WeakMap;var xa,je,Wd,Gd,bm,uS;class g${constructor(e,t=ki.DISPLAY){S(this,bm);S(this,xa,null);S(this,je,new Map);S(this,Wd,null);S(this,Gd,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,v(this,Gd,e.order);for(const i of e.groups)a(this,je).set(i.id,new m$(t,i));if(e.baseState==="OFF")for(const i of a(this,je).values())i._setVisible(bu,!1);for(const i of e.on)a(this,je).get(i)._setVisible(bu,!0);for(const i of e.off)a(this,je).get(i)._setVisible(bu,!1);v(this,Wd,this.getHash())}}isVisible(e){if(a(this,je).size===0)return!0;if(!e)return nw("Optional content group not defined."),!0;if(e.type==="OCG")return a(this,je).has(e.id)?a(this,je).get(e.id).visible:(ce(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,bm,uS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!a(this,je).has(t))return ce(`Optional content group not found: ${t}`),!0;if(a(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!a(this,je).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!a(this,je).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!a(this,je).has(t))return ce(`Optional content group not found: ${t}`),!0;if(!a(this,je).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!a(this,je).has(t))return ce(`Optional content group not found: ${t}`),!0;if(a(this,je).get(t).visible)return!1}return!0}return ce(`Unknown optional content policy ${e.policy}.`),!0}return ce(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=a(this,je).get(e);if(!r){ce(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==e&&((s=a(this,je).get(l))==null||s._setVisible(bu,!1,!0));r._setVisible(bu,!!t,!0),v(this,xa,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=a(this,je).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}v(this,xa,null)}get hasInitialVisibility(){return a(this,Wd)===null||this.getHash()===a(this,Wd)}getOrder(){return a(this,je).size?a(this,Gd)?a(this,Gd).slice():[...a(this,je).keys()]:null}getGroup(e){return a(this,je).get(e)||null}getHash(){if(a(this,xa)!==null)return a(this,xa);const e=new lM;for(const[t,i]of a(this,je))e.update(`${t}:${i.visible}`);return v(this,xa,e.hexdigest())}[Symbol.iterator](){return a(this,je).entries()}}xa=new WeakMap,je=new WeakMap,Wd=new WeakMap,Gd=new WeakMap,bm=new WeakSet,uS=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=k(this,bm,uS).call(this,s);else if(a(this,je).has(s))o=a(this,je).get(s).visible;else return ce(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class v${constructor(e,{disableRange:t=!1,disableStream:i=!1}){Se(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Se(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Se(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new y$(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new x$(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class y${constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=rw(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x${constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function w$(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=l(t);return d=unescape(d),d=c(d),d=u(d),s(d)}if(t=o(n),t){const d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=l(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Cg(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,w,g]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[w,g]}const y=[];for(let m=0;m<h.length&&m in h;++m){let[w,g]=h[m];g=l(g),w&&(g=unescape(g),m===0&&(g=c(g))),y.push(g)}return y.join("")}function l(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),y=d.slice(h+1).replace(/^[^']*'/,"");return r(f,y)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,y){if(p==="q"||p==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,w){return String.fromCharCode(parseInt(w,16))}),r(f,y);try{y=atob(y)}catch{}return r(f,y)})}return""}function bM(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function sw(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function SM({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function EM(n){const e=n.get("Content-Disposition");if(e){let t=w$(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(rw(t))return t}return null}function Pg(n,e){return new Tp(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function AM(n){return n===200||n===206}function CM(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function kM(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ce(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class b${constructor(e){V(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=bM(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Se(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new S$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new E$(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class S${constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,CM(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=sw(s.url),!AM(s.status))throw Pg(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:l,suggestedLength:c}=SM({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=EM(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:kM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class E${constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,CM(s,this._withCredentials,this._abortController)).then(l=>{const c=sw(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!AM(l.status))throw Pg(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:kM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const pb=200,mb=206;function A$(n){const e=n.response;return typeof e!="string"?e:Cg(e).buffer}class C${constructor({url:e,httpHeaders:t,withCredentials:i}){V(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=bM(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=mb):r.expectedStatus=pb,t.responseType="arraybuffer",Se(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||pb;if(!(s===pb&&i.expectedStatus===mb)&&s!==i.expectedStatus){i.onError(r.status);return}const l=A$(r);if(s===mb){const c=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?i.onDone({begin:parseInt(u[1],10),chunk:l}):(ce('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class k${constructor(e){this._source=e,this._manager=new C$(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Se(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T$(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new _$(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class T${constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=sw(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...u]=l.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=SM({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=EM(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Pg(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _${constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=sw((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Pg(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const P$=/^[a-z][a-z0-9\-+.]+:/i;function R$(n){if(P$.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class D${constructor(e){this.source=e,this.url=R$(e.url),Se(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Se(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new M$(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new L$(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class M${constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Pg(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class L${constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const vf=Symbol("INITIAL_DATA");var fi,Sm,dS;class TM{constructor(){S(this,Sm);S(this,fi,Object.create(null))}get(e,t=null){if(t){const r=k(this,Sm,dS).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=a(this,fi)[e];if(!i||i.data===vf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=a(this,fi)[e];return!!t&&t.data!==vf}delete(e){const t=a(this,fi)[e];return!t||t.data===vf?!1:(delete a(this,fi)[e],!0)}resolve(e,t=null){const i=k(this,Sm,dS).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in a(this,fi)){const{data:i}=a(this,fi)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}v(this,fi,Object.create(null))}*[Symbol.iterator](){for(const e in a(this,fi)){const{data:t}=a(this,fi)[e];t!==vf&&(yield[e,t])}}}fi=new WeakMap,Sm=new WeakSet,dS=function(e){var t;return(t=a(this,fi))[e]||(t[e]={...Promise.withResolvers(),data:vf})};const N$=1e5,Pk=30;var aT,wa,Qn,Em,Am,lc,no,Cm,km,cc,qd,Xd,ba,Kd,Tm,Yd,uc,_m,Pm,Et,Qd,dc,Rm,Sa,Zd,Fo,_M,PM,hS,Ni,zv,fS,RM,DM;let Dp=(Et=class{constructor({textContentSource:e,container:t,viewport:i}){S(this,Fo);S(this,wa,Promise.withResolvers());S(this,Qn,null);S(this,Em,!1);S(this,Am,!!((aT=globalThis.FontInspector)!=null&&aT.enabled));S(this,lc,null);S(this,no,null);S(this,Cm,0);S(this,km,0);S(this,cc,null);S(this,qd,null);S(this,Xd,0);S(this,ba,0);S(this,Kd,Object.create(null));S(this,Tm,[]);S(this,Yd,null);S(this,uc,[]);S(this,_m,new WeakMap);S(this,Pm,null);var c;if(e instanceof ReadableStream)v(this,Yd,e);else if(typeof e=="object")v(this,Yd,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');v(this,Qn,v(this,qd,t)),v(this,ba,i.scale*Ir.pixelRatio),v(this,Xd,i.rotation),v(this,no,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:l}=i.rawDims;v(this,Pm,[1,0,0,-1,-o,l+s]),v(this,km,r),v(this,Cm,s),k(c=Et,Ni,RM).call(c),cl(t,i),a(this,wa).promise.finally(()=>{a(Et,Zd).delete(this),v(this,no,null),v(this,Kd,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=tn.platform;return pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{a(this,cc).read().then(({value:t,done:i})=>{if(i){a(this,wa).resolve();return}a(this,lc)??v(this,lc,t.lang),Object.assign(a(this,Kd),t.styles),k(this,Fo,_M).call(this,t.items),e()},a(this,wa).reject)};return v(this,cc,a(this,Yd).getReader()),a(Et,Zd).add(this),e(),a(this,wa).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Ir.pixelRatio,r=e.rotation;if(r!==a(this,Xd)&&(t==null||t(),v(this,Xd,r),cl(a(this,qd),{rotation:r})),i!==a(this,ba)){t==null||t(),v(this,ba,i);const o={div:null,properties:null,ctx:k(s=Et,Ni,zv).call(s,a(this,lc))};for(const l of a(this,uc))o.properties=a(this,_m).get(l),o.div=l,k(this,Fo,hS).call(this,o)}}cancel(){var t;const e=new Mo("TextLayer task cancelled.");(t=a(this,cc))==null||t.cancel(e).catch(()=>{}),v(this,cc,null),a(this,wa).reject(e)}get textDivs(){return a(this,uc)}get textContentItemsStr(){return a(this,Tm)}static cleanup(){if(!(a(this,Zd).size>0)){a(this,Qd).clear();for(const{canvas:e}of a(this,dc).values())e.remove();a(this,dc).clear()}}},wa=new WeakMap,Qn=new WeakMap,Em=new WeakMap,Am=new WeakMap,lc=new WeakMap,no=new WeakMap,Cm=new WeakMap,km=new WeakMap,cc=new WeakMap,qd=new WeakMap,Xd=new WeakMap,ba=new WeakMap,Kd=new WeakMap,Tm=new WeakMap,Yd=new WeakMap,uc=new WeakMap,_m=new WeakMap,Pm=new WeakMap,Qd=new WeakMap,dc=new WeakMap,Rm=new WeakMap,Sa=new WeakMap,Zd=new WeakMap,Fo=new WeakSet,_M=function(e){var r,s;if(a(this,Em))return;(s=a(this,no)).ctx??(s.ctx=k(r=Et,Ni,zv).call(r,a(this,lc)));const t=a(this,uc),i=a(this,Tm);for(const o of e){if(t.length>N$){ce("Ignoring additional textDivs for performance reasons."),v(this,Em,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const l=a(this,Qn);v(this,Qn,document.createElement("span")),a(this,Qn).classList.add("markedContent"),o.id&&a(this,Qn).setAttribute("id",`${o.id}`),l.append(a(this,Qn))}else o.type==="endMarkedContent"&&v(this,Qn,a(this,Qn).parentNode);continue}i.push(o.str),k(this,Fo,PM).call(this,o)}},PM=function(e){var m;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};a(this,uc).push(t);const r=J.transform(a(this,Pm),e.transform);let s=Math.atan2(r[1],r[0]);const o=a(this,Kd)[e.fontName];o.vertical&&(s+=Math.PI/2);let l=a(this,Am)&&o.fontSubstitution||o.fontFamily;l=Et.fontFamilyMap.get(l)||l;const c=Math.hypot(r[2],r[3]),u=c*k(m=Et,Ni,DM).call(m,l,o,a(this,lc));let d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=t.style;a(this,Qn)===a(this,qd)?(p.left=`${(100*d/a(this,km)).toFixed(2)}%`,p.top=`${(100*h/a(this,Cm)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(a(Et,Sa)*c).toFixed(2)}px)`,p.fontFamily=l,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,a(this,Am)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);w!==g&&Math.max(w,g)/Math.min(w,g)>1.5&&(y=!0)}if(y&&(i.canvasWidth=o.vertical?e.height:e.width),a(this,_m).set(t,i),a(this,no).div=t,a(this,no).properties=i,k(this,Fo,hS).call(this,a(this,no)),i.hasText&&a(this,Qn).append(t),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),a(this,Qn).append(w)}},hS=function(e){var l;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let o="";if(a(Et,Sa)>1&&(o=`scale(${1/a(Et,Sa)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:d}=i;k(l=Et,Ni,fS).call(l,r,d*a(this,ba),c);const{width:h}=r.measureText(t.textContent);h>0&&(o=`scaleX(${u*a(this,ba)/h}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Ni=new WeakSet,zv=function(e=null){let t=a(this,dc).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),a(this,dc).set(e,t),a(this,Rm).set(t,{size:0,family:""})}return t},fS=function(e,t,i){const r=a(this,Rm).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},RM=function(){if(a(this,Sa)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),v(this,Sa,e.getBoundingClientRect().height),e.remove()},DM=function(e,t,i){const r=a(this,Qd).get(e);if(r)return r;const s=k(this,Ni,zv).call(this,i);s.canvas.width=s.canvas.height=Pk,k(this,Ni,fS).call(this,s,Pk,e);const o=s.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return l?u=l/(l+c):(tn.platform.isFirefox&&ce("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),a(this,Qd).set(e,u),u},S(Et,Ni),S(Et,Qd,new Map),S(Et,dc,new Map),S(Et,Rm,new WeakMap),S(Et,Sa,null),S(Et,Zd,new Set),Et);const F$=100;function FE(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new pS,{docId:t}=e,i=n.url?H4(n.url):null,r=n.data?V4(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof IE?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let d=n.worker instanceof qh?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Tg(n.docBaseUrl)?n.docBaseUrl:null,p=iv(n.cMapUrl),y=n.cMapPacked!==!1,m=n.CMapReaderFactory||(In?Q4:mk),w=iv(n.iccUrl),g=iv(n.standardFontDataUrl),x=n.StandardFontDataFactory||(In?Z4:gk),b=iv(n.wasmUrl),A=n.WasmFactory||(In?J4:vk),T=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!In,D=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!In&&(tn.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,F=typeof n.disableFontFace=="boolean"?n.disableFontFace:In,j=n.fontExtraProperties===!0,$=n.enableXfa===!0,N=n.ownerDocument||globalThis.document,U=n.disableRange===!0,O=n.disableStream===!0,z=n.disableAutoFetch===!0,M=n.pdfBug===!0,I=n.CanvasFactory||(In?Y4:q4),W=n.FilterFactory||(In?K4:X4),q=n.enableHWA===!0,B=n.useWasm!==!1,H=c?c.length:n.length??NaN,Y=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!In&&!F,oe=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===mk&&x===gk&&A===vk&&p&&g&&b&&Af(p,document.baseURI)&&Af(g,document.baseURI)&&Af(b,document.baseURI)),ae=null;A4(h);const ve={canvasFactory:new I({ownerDocument:N,enableHWA:q}),filterFactory:new W({docId:t,ownerDocument:N}),cMapReaderFactory:oe?null:new m({baseUrl:p,isCompressed:y}),standardFontDataFactory:oe?null:new x({baseUrl:g}),wasmFactory:oe?null:new A({baseUrl:b})};d||(d=qh.create({verbosity:h,port:Ht.workerPort}),e._worker=d);const Ot={docId:t,apiVersion:"5.4.296",data:r,password:l,disableAutoFetch:z,rangeChunkSize:u,length:H,docBaseUrl:f,enableXfa:$,evaluatorOptions:{maxImageSize:_,disableFontFace:F,ignoreErrors:T,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:D,canvasMaxAreaInBytes:L,fontExtraProperties:j,useSystemFonts:Y,useWasm:B,useWorkerFetch:oe,cMapUrl:p,iccUrl:w,standardFontDataUrl:g,wasmUrl:b}},kt={ownerDocument:N,pdfBug:M,styleElement:ae,loadingParams:{disableAutoFetch:z,enableXfa:$}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const se=d.messageHandler.sendWithPromise("GetDocRequest",Ot,r?[r.buffer]:null);let qe;if(c)qe=new v$(c,{disableRange:U,disableStream:O});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const jt=Af(i)?b$:In?D$:k$;qe=new jt({url:i,length:H,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:U,disableStream:O})}return se.then(jt=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ye=new Rf(t,jt,d.port),Pe=new j$(ye,e,qe,kt,ve,q);e._transport=Pe,ye.send("Ready",null)})}).catch(e._capability.reject),e}var fx;const px=class px{constructor(){V(this,"_capability",Promise.withResolvers());V(this,"_transport",null);V(this,"_worker",null);V(this,"docId",`d${yt(px,fx)._++}`);V(this,"destroyed",!1);V(this,"onPassword",null);V(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};fx=new WeakMap,S(px,fx,0);let pS=px;var hc,Dm,Mm,Lm,Nm,lT;let IE=(lT=class{constructor(e,t,i=!1,r=null){S(this,hc,Promise.withResolvers());S(this,Dm,[]);S(this,Mm,[]);S(this,Lm,[]);S(this,Nm,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){a(this,Nm).push(e)}addProgressListener(e){a(this,Lm).push(e)}addProgressiveReadListener(e){a(this,Mm).push(e)}addProgressiveDoneListener(e){a(this,Dm).push(e)}onDataRange(e,t){for(const i of a(this,Nm))i(e,t)}onDataProgress(e,t){a(this,hc).promise.then(()=>{for(const i of a(this,Lm))i(e,t)})}onDataProgressiveRead(e){a(this,hc).promise.then(()=>{for(const t of a(this,Mm))t(e)})}onDataProgressiveDone(){a(this,hc).promise.then(()=>{for(const e of a(this,Dm))e()})}transportReady(){a(this,hc).resolve()}requestDataRange(e,t){Ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},hc=new WeakMap,Dm=new WeakMap,Mm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,lT);class I${constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var io,fc,Of;class O${constructor(e,t,i,r=!1){S(this,fc);S(this,io,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new lk:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new TM,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new kg({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=ws.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:y=null}){var D,L,F;(D=this._stats)==null||D.time("Overall");const m=this._transport.getRenderingIntent(r,s,h,f),{renderingIntent:w,cacheKey:g}=m;v(this,io,!1),c||(c=this._transport.getOptionalContentConfig(w));let x=this._intentStates.get(g);x||(x=Object.create(null),this._intentStates.set(g,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const b=!!(w&ki.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(m));const A=!!(this._pdfBug&&((F=globalThis.StepperManager)!=null&&F.enabled)),T=!this.recordedBBoxes&&(p||A),_=j=>{var $,N;if(x.renderTasks.delete(P),T){const U=($=P.gfx)==null?void 0:$.dependencyTracker.take();U&&(P.stepper&&P.stepper.setOperatorBBoxes(U,P.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=U))}b&&v(this,io,!0),k(this,fc,Of).call(this),j?(P.capability.reject(j),this._abortOperatorList({intentState:x,reason:j instanceof Error?j:new Error(j)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new mS({callback:_,params:{canvas:t,canvasContext:e,dependencyTracker:T?new t$(t,x.operatorList.length,A):null,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:y});(x.renderTasks||(x.renderTasks=new Set)).add(P);const R=P.task;return Promise.all([x.displayReadyCapability.promise,c]).then(([j,$])=>{var N;if(this.destroyed){_();return}if((N=this._stats)==null||N.time("Rendering"),!($.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:j,optionalContentConfig:$}),P.operatorListChanged()}).catch(_),R}getOperatorList({intent:e="display",annotationMode:t=ws.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function s(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_p.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:c,done:u}){if(u){i(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),s()},r)}const o=t.getReader(),l={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),v(this,io,!1),Promise.all(e)}cleanup(e=!1){v(this,io,!0);const t=k(this,fc,Of).call(this);return e&&t&&this._stats&&(this._stats=new lk),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&k(this,fc,Of).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),u=this._intentStates.get(t);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();k(this,fc,Of).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof iw){let r=F$;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Mo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}io=new WeakMap,fc=new WeakSet,Of=function(){if(!a(this,io)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),v(this,io,!1),!0};var Ea,br,ro,pc,mx,mc,gc,Bn,$v,MM,LM,jf,Jd,Uv;const nt=class nt{constructor({name:e=null,port:t=null,verbosity:i=C4()}={}){S(this,Bn);S(this,Ea,Promise.withResolvers());S(this,br,null);S(this,ro,null);S(this,pc,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(a(nt,gc).has(t))throw new Error("Cannot use more than one PDFWorker per port.");a(nt,gc).set(t,this),k(this,Bn,MM).call(this,t)}else k(this,Bn,LM).call(this)}get promise(){return a(this,Ea).promise}get port(){return a(this,ro)}get messageHandler(){return a(this,br)}destroy(){var e,t;this.destroyed=!0,(e=a(this,pc))==null||e.terminate(),v(this,pc,null),a(nt,gc).delete(a(this,ro)),v(this,ro,null),(t=a(this,br))==null||t.destroy(),v(this,br,null)}static create(e){const t=a(this,gc).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nt(e)}static get workerSrc(){if(Ht.workerSrc)return Ht.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pe(this,"_setupFakeWorkerGlobal",(async()=>a(this,Jd,Uv)?a(this,Jd,Uv):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ea=new WeakMap,br=new WeakMap,ro=new WeakMap,pc=new WeakMap,mx=new WeakMap,mc=new WeakMap,gc=new WeakMap,Bn=new WeakSet,$v=function(){a(this,Ea).resolve(),a(this,br).send("configure",{verbosity:this.verbosity})},MM=function(e){v(this,ro,e),v(this,br,new Rf("main","worker",e)),a(this,br).on("ready",()=>{}),k(this,Bn,$v).call(this)},LM=function(){if(a(nt,mc)||a(nt,Jd,Uv)){k(this,Bn,jf).call(this);return}let{workerSrc:e}=nt;try{nt._isSameOrigin(window.location,e)||(e=nt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Rf("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?a(this,Ea).reject(new Error("Worker was destroyed")):k(this,Bn,jf).call(this)},s=new AbortController;t.addEventListener("error",()=>{a(this,pc)||r()},{signal:s.signal}),i.on("test",l=>{if(s.abort(),this.destroyed||!l){r();return}v(this,br,i),v(this,ro,t),v(this,pc,t),k(this,Bn,$v).call(this)}),i.on("ready",l=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{k(this,Bn,jf).call(this)}});const o=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};o();return}catch{nw("The worker has been disabled.")}k(this,Bn,jf).call(this)},jf=function(){a(nt,mc)||(ce("Setting up fake worker."),v(nt,mc,!0)),nt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){a(this,Ea).reject(new Error("Worker was destroyed"));return}const t=new G4;v(this,ro,t);const i=`fake${yt(nt,mx)._++}`,r=new Rf(i+"_worker",i,t);e.setup(r,t),v(this,br,new Rf(i,i+"_worker",t)),k(this,Bn,$v).call(this)}).catch(e=>{a(this,Ea).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Jd=new WeakSet,Uv=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(nt,Jd),S(nt,mx,0),S(nt,mc,!1),S(nt,gc,new WeakMap),In&&(v(nt,mc,!0),Ht.workerSrc||(Ht.workerSrc="./pdf.worker.mjs")),nt._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},nt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},nt.fromPort=e=>{if(N4("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nt.create(e)};let qh=nt;var so,ls,eh,th,oo,vc,Bf;class j${constructor(e,t,i,r,s,o){S(this,vc);S(this,so,new Map);S(this,ls,new Map);S(this,eh,new Map);S(this,th,new Map);S(this,oo,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new TM,this.fontLoader=new $4({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return pe(this,"annotationStorage",new ME)}getRenderingIntent(e,t=ws.ENABLE,i=null,r=!1,s=!1){let o=ki.DISPLAY,l=Z0;switch(e){case"any":o=ki.ANY;break;case"display":break;case"print":o=ki.PRINT;break;default:ce(`getRenderingIntent - invalid intent: ${e}`)}const c=o&ki.PRINT&&i instanceof uM?i:this.annotationStorage;switch(t){case ws.DISABLE:o+=ki.ANNOTATIONS_DISABLE;break;case ws.ENABLE:break;case ws.ENABLE_FORMS:o+=ki.ANNOTATIONS_FORMS;break;case ws.ENABLE_STORAGE:o+=ki.ANNOTATIONS_STORAGE,l=c.serializable;break;default:ce(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=ki.IS_EDITING),s&&(o+=ki.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[o,l.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:l,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=a(this,oo))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of a(this,ls).values())e.push(r._destroy());a(this,ls).clear(),a(this,eh).clear(),a(this,th).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),a(this,so).clear(),this.filterFactory.destroy(),Dp.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Mo("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Se(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Se(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{Se(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:l}){if(l){r.close();return}Se(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new I$(i,this))}),e.on("DocException",i=>{t._capability.reject(Wn(i))}),e.on("PasswordRequest",i=>{v(this,oo,Promise.withResolvers());try{if(!t.onPassword)throw Wn(i);const r=s=>{s instanceof Error?a(this,oo).reject(s):a(this,oo).resolve({password:s})};t.onPassword(r,i.code)}catch(r){a(this,oo).reject(r)}return a(this,oo).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;a(this,ls).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const h=s.error;ce(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const l=new cS(s),c=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,u=new U4(l,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=s;Se(d,"The imageRef must be defined.");for(const h of a(this,ls).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===d)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var c;if(this.destroyed)return;const l=a(this,ls).get(r);if(!l.objs.has(i)){if(l._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":l.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&ce("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=a(this,eh).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&a(this,th).set(s.refStr,e);const o=new O$(t,s,this,this._params.pdfBug);return a(this,ls).set(t,o),o});return a(this,eh).set(t,r),r}getPageIndex(e){return J0(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,vc,Bf).call(this,"GetFieldObjects")}hasJSActions(){return k(this,vc,Bf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return k(this,vc,Bf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,vc,Bf).call(this,"GetOptionalContentConfig").then(t=>new g$(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=a(this,so).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new p$(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return a(this,so).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of a(this,ls).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),a(this,so).clear(),this.filterFactory.destroy(!0),Dp.cleanup()}}cachedPageNumber(e){if(!J0(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,th).get(t)??null}}so=new WeakMap,ls=new WeakMap,eh=new WeakMap,th=new WeakMap,oo=new WeakMap,vc=new WeakSet,Bf=function(e,t=null){const i=a(this,so).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return a(this,so).set(e,r),r};var Aa;class B${constructor(e){S(this,Aa,null);V(this,"onContinue",null);V(this,"onError",null);v(this,Aa,e)}get promise(){return a(this,Aa).capability.promise}cancel(e=0){a(this,Aa).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=a(this,Aa).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=a(this,Aa);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Aa=new WeakMap;var Ca,yc;const Cl=class Cl{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:y=null}){S(this,Ca,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new B$(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=y}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,u;if(this.cancelled)return;if(this._canvas){if(a(Cl,yc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a(Cl,yc).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Yu(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),a(this,Ca)&&(window.cancelAnimationFrame(a(this,Ca)),v(this,Ca,null)),a(Cl,yc).delete(this._canvas),e||(e=new iw(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?v(this,Ca,window.requestAnimationFrame(()=>{v(this,Ca,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),a(Cl,yc).delete(this._canvas),this.callback())))}};Ca=new WeakMap,yc=new WeakMap,S(Cl,yc,new WeakSet);let mS=Cl;const eu="5.4.296",NM="f56dc8601";var pi,xc,nh,$t,Fm,ih,ao,Im,ka,Sr,Om,Be,gS,vS,yS,xl,FM,Uo;const Gn=class Gn{constructor({editor:e=null,uiManager:t=null}){S(this,Be);S(this,pi,null);S(this,xc,null);S(this,nh);S(this,$t,null);S(this,Fm,!1);S(this,ih,!1);S(this,ao,null);S(this,Im);S(this,ka,null);S(this,Sr,null);var i,r;e?(v(this,ih,!1),v(this,ao,e)):v(this,ih,!0),v(this,Sr,(e==null?void 0:e._uiManager)||t),v(this,Im,a(this,Sr)._eventBus),v(this,nh,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=a(this,Sr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),a(Gn,Om)||v(Gn,Om,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return pe(this,"_keyboardManager",new _g([[["Escape","mac+Escape"],Gn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gn.prototype._moveToPrevious],[["Home","mac+Home"],Gn.prototype._moveToBeginning],[["End","mac+End"],Gn.prototype._moveToEnd]]))}renderButton(){const e=v(this,pi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",a(this,ao)&&(e.ariaControls=`${a(this,ao).id}_colorpicker_dropdown`);const t=a(this,Sr)._signal;e.addEventListener("click",k(this,Be,xl).bind(this),{signal:t}),e.addEventListener("keydown",k(this,Be,yS).bind(this),{signal:t});const i=v(this,xc,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=a(this,nh),e.append(i),e}renderMainDropdown(){const e=v(this,$t,k(this,Be,gS).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===a(this,pi)){k(this,Be,xl).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,Be,vS).call(this,t,e)}_moveToNext(e){var t,i;if(!a(this,Be,Uo)){k(this,Be,xl).call(this,e);return}if(e.target===a(this,pi)){(t=a(this,$t).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=a(this,$t))==null?void 0:t.firstChild)||e.target===a(this,pi)){a(this,Be,Uo)&&this._hideDropdownFromKeyboard();return}a(this,Be,Uo)||k(this,Be,xl).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!a(this,Be,Uo)){k(this,Be,xl).call(this,e);return}(t=a(this,$t).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!a(this,Be,Uo)){k(this,Be,xl).call(this,e);return}(t=a(this,$t).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=a(this,$t))==null||e.classList.add("hidden"),a(this,pi).ariaExpanded="false",(t=a(this,ka))==null||t.abort(),v(this,ka,null)}_hideDropdownFromKeyboard(){var e;if(!a(this,ih)){if(!a(this,Be,Uo)){(e=a(this,ao))==null||e.unselect();return}this.hideDropdown(),a(this,pi).focus({preventScroll:!0,focusVisible:a(this,Fm)})}}updateColor(e){if(a(this,xc)&&(a(this,xc).style.backgroundColor=e),!a(this,$t))return;const t=a(this,Sr).highlightColors.values();for(const i of a(this,$t).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=a(this,pi))==null||e.remove(),v(this,pi,null),v(this,xc,null),(t=a(this,$t))==null||t.remove(),v(this,$t,null)}};pi=new WeakMap,xc=new WeakMap,nh=new WeakMap,$t=new WeakMap,Fm=new WeakMap,ih=new WeakMap,ao=new WeakMap,Im=new WeakMap,ka=new WeakMap,Sr=new WeakMap,Om=new WeakMap,Be=new WeakSet,gS=function(){const e=document.createElement("div"),t=a(this,Sr)._signal;e.addEventListener("contextmenu",Ii,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),a(this,ao)&&(e.id=`${a(this,ao).id}_colorpicker_dropdown`);for(const[i,r]of a(this,Sr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",a(Gn,Om)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===a(this,nh),s.addEventListener("click",k(this,Be,vS).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",k(this,Be,yS).bind(this),{signal:t}),e},vS=function(e,t){t.stopPropagation(),a(this,Im).dispatch("switchannotationeditorparams",{source:this,type:be.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},yS=function(e){Gn._keyboardManager.exec(this,e)},xl=function(e){if(a(this,Be,Uo)){this.hideDropdown();return}if(v(this,Fm,e.detail===0),a(this,ka)||(v(this,ka,new AbortController),window.addEventListener("pointerdown",k(this,Be,FM).bind(this),{signal:a(this,Sr).combinedSignal(a(this,ka))})),a(this,pi).ariaExpanded="true",a(this,$t)){a(this,$t).classList.remove("hidden");return}const t=v(this,$t,k(this,Be,gS).call(this));a(this,pi).append(t)},FM=function(e){var t;(t=a(this,$t))!=null&&t.contains(e.target)||this.hideDropdown()},Uo=function(){return a(this,$t)&&!a(this,$t).classList.contains("hidden")},S(Gn,Om,null);let Mp=Gn;var cs,jm,rh,Bm;const kl=class kl{constructor(e){S(this,cs,null);S(this,jm,null);S(this,rh,null);v(this,jm,e),v(this,rh,e._uiManager),a(kl,Bm)||v(kl,Bm,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(a(this,cs))return a(this,cs);const{editorType:e,colorType:t,colorValue:i}=a(this,jm),r=v(this,cs,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",a(kl,Bm)[e]),r.addEventListener("input",()=>{a(this,rh).updateParams(t,r.value)},{signal:a(this,rh)._signal}),r}update(e){a(this,cs)&&(a(this,cs).value=e)}destroy(){var e;(e=a(this,cs))==null||e.remove(),v(this,cs,null)}hideDropdown(){}};cs=new WeakMap,jm=new WeakMap,rh=new WeakMap,Bm=new WeakMap,S(kl,Bm,null);let Ky=kl;function Rk(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function yf(n){return Math.max(0,Math.min(255,255*n))}class Dk{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=yf(e),[e,e,e]}static G_HTML([e]){const t=Rk(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(yf)}static RGB_HTML(e){return`#${e.map(Rk).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[yf(1-Math.min(1,e+r)),yf(1-Math.min(1,i+r)),yf(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,l=Math.min(r,s,o);return["CMYK",r,s,o,l]}}class z${create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ge("Abstract method `_createSVG` called.")}}class Lp extends z${_createSVG(e){return document.createElementNS(Ds,e)}}const $$=9,tu=new WeakSet,U$=new Date().getTimezoneOffset()*60*1e3;class Mk{static create(e){switch(e.data.annotationType){case Tt.LINK:return new OE(e);case Tt.TEXT:return new V$(e);case Tt.WIDGET:switch(e.data.fieldType){case"Tx":return new W$(e);case"Btn":return e.data.radioButton?new jM(e):e.data.checkBox?new q$(e):new X$(e);case"Ch":return new K$(e);case"Sig":return new G$(e)}return new lu(e);case Tt.POPUP:return new wS(e);case Tt.FREETEXT:return new HM(e);case Tt.LINE:return new Q$(e);case Tt.SQUARE:return new Z$(e);case Tt.CIRCLE:return new J$(e);case Tt.POLYLINE:return new VM(e);case Tt.CARET:return new tU(e);case Tt.INK:return new jE(e);case Tt.POLYGON:return new eU(e);case Tt.HIGHLIGHT:return new WM(e);case Tt.UNDERLINE:return new nU(e);case Tt.SQUIGGLY:return new iU(e);case Tt.STRIKEOUT:return new rU(e);case Tt.STAMP:return new GM(e);case Tt.FILEATTACHMENT:return new sU(e);default:return new pt(e)}}}var wc,sh,Yi,zm,xS;const aA=class aA{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){S(this,zm);S(this,wc,null);S(this,sh,!1);S(this,Yi,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return aA._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var l;const e=(l=this.annotationStorage)==null?void 0:l.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],s=t[c+2]):t[c+1]===o&&(s=Math.max(s,t[c+2]));return[s,o]}if((i==null?void 0:i.length)>=1){for(const c of i)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>o?(o=c[u+1],s=c[u]):c[u+1]===o&&(s=Math.max(s,c[u]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${kp}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${kp}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=a(this,Yi))==null?void 0:e.popup)||this.popup)==null||t.remove(),v(this,Yi,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(a(this,wc)||v(this,wc,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&k(this,zm,xS).call(this,t);let r=((s=a(this,Yi))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=a(this,Yi).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),v(this,Yi,null),this.popup=null))}resetEdited(){var e;a(this,wc)&&(k(this,zm,xS).call(this,a(this,wc).rect),(e=a(this,Yi))==null||e.popup.resetEdited(),v(this,wc,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof lu)&&!(this instanceof OE)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof wS){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(m>0||w>0){const x=`calc(${m}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;o.borderRadius=x}else if(this instanceof jM){const x=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=x}switch(t.borderStyle.style){case gu.SOLID:o.borderStyle="solid";break;case gu.DASHED:o.borderStyle="dashed";break;case gu.BEVELED:ce("Unimplemented border style: beveled");break;case gu.INSET:ce("Unimplemented border style: inset");break;case gu.UNDERLINE:o.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(v(this,sh,!0),o.borderColor=J.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):o.borderWidth=0}const u=J.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:y}=t;return t.hasOwnCanvas||y===0?(o.width=`${100*l/d}%`,o.height=`${100*c/h}%`):this.setRotation(y,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],l=s.slice(1);r.target.style[i]=Dk[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:Dk[`${o}_rgb`](l)})};return pe(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const l={detail:{[r]:s},target:e};o(l),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,w,g,x]=e.subarray(2,6);if(r===m&&s===w&&t===g&&i===x)return}const{style:o}=this.container;let l;if(a(this,sh)){const{borderColor:m,borderWidth:w}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const c=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),y=`clippath_${this.data.id}`;p.setAttribute("id",y),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,w=e.length;m<w;m+=8){const g=e[m],x=e[m+1],b=e[m+2],A=e[m+3],T=d.createElement("rect"),_=(b-t)/c,P=(s-x)/u,R=(g-b)/c,D=(x-A)/u;T.setAttribute("x",_),T.setAttribute("y",P),T.setAttribute("width",R),T.setAttribute("height",D),p.append(T),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${P}" width="${R}" height="${D}"/>`)}a(this,sh)&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate);const s=v(this,Yi,new wS({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(a(this,Yi)||this.popup||this.data.popupRef)}get extraPopupElement(){return a(this,Yi)}render(){Ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:l}of r){if(s===-1||o===t)continue;const c=typeof l=="string"?l:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!tu.has(u)){ce(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:c,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&tu.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};wc=new WeakMap,sh=new WeakMap,Yi=new WeakMap,zm=new WeakSet,xS=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-l)/s}%`,t.top=`${100*(o-e[3]+c)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let pt=aA;class H$ extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Ri,wl,IM,OM;class OE extends pt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});S(this,Ri);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(k(this,Ri,IM).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(k(this,Ri,OM).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&k(this,Ri,wl).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),k(this,Ri,wl).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),k(this,Ri,wl).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),k(this,Ri,wl).call(this),!this._fieldObjects){ce('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var h;r==null||r();const{fields:s,refs:o,include:l}=i,c=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const y=this._fieldObjects[p]||[];for(const{id:m}of y)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const y of p)f.has(y.id)===l&&c.push(y)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${p}"]`);if(y){if(!tu.has(y)){ce(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Ri=new WeakSet,wl=function(){this.container.setAttribute("data-internal-link","")},IM=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,s),!1},k(this,Ri,wl).call(this)},OM=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),k(this,Ri,wl).call(this)};class V$ extends pt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class lu extends pt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return tn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var l;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,l;for(const[c,u]of i)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,u,r),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":J.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||$$,s=e.style;let o;const l=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l),d=Math.round(u/(lb*r))||1,h=u/d;o=Math.min(r,c(h/lb))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(r,c(u/lb))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=J.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class W$ extends lu{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),tu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,y=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",w=>{const g=this.data.defaultFieldValue??"";i.value=d.userValue=g,d.formattedValue=null});let m=w=>{const{formattedValue:g}=d;g!=null&&(w.target.value=g),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{var b;if(d.focused)return;const{target:x}=g;if(y&&(x.type=f,p&&(x.step=p)),d.userValue){const A=d.userValue;if(y)if(f==="time"){const T=new Date(A),_=[T.getHours(),T.getMinutes(),T.getSeconds()];x.value=_.map(P=>P.toString().padStart(2,"0")).join(":")}else x.value=new Date(A-U$).toISOString().split(f==="date"?"T":".",1)[0];else x.value=A}d.lastCommittedValue=x.value,d.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const x={value(b){d.userValue=b.detail.value??"",y||e.setValue(t,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:A}=b.detail;d.formattedValue=A,A!=null&&b.target!==document.activeElement&&(b.target.value=A);const T={formattedValue:A};y&&(T.value=A),e.setValue(t,T)},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var P;const{charLimit:A}=b.detail,{target:T}=b;if(A===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",A);let _=d.userValue;!_||_.length<=A||(_=_.slice(0,A),T.value=d.userValue=_,e.setValue(t,{value:_}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(x,g)}),i.addEventListener("keydown",g=>{var A;d.commitKey=1;let x=-1;if(g.key==="Escape"?x=0:g.key==="Enter"&&!this.data.multiLine?x=2:g.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:b}=g.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:x,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const w=m;m=null,i.addEventListener("blur",g=>{var A,T;if(!d.focused||!g.relatedTarget)return;(A=this.data.actions)!=null&&A.Blur||(d.focused=!1);const{target:x}=g;let{value:b}=x;if(y){if(b&&f==="time"){const _=b.split(":").map(P=>parseInt(P,10));b=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),x.step=""}else b.includes("T")||(b=`${b}T00:00`),b=new Date(b).valueOf();x.type="text"}d.userValue=b,d.lastCommittedValue!==b&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),w(g)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",g=>{var D;d.lastCommittedValue=null;const{data:x,target:b}=g,{value:A,selectionStart:T,selectionEnd:_}=b;let P=T,R=_;switch(g.inputType){case"deleteWordBackward":{const L=A.substring(0,T).match(/\w*[^\w]*$/);L&&(P-=L[0].length);break}case"deleteWordForward":{const L=A.substring(T).match(/^[^\w]*\w*/);L&&(R+=L[0].length);break}case"deleteContentBackward":T===_&&(P-=1);break;case"deleteContentForward":T===_&&(R+=1);break}g.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:x||"",willCommit:!1,selStart:P,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(m&&i.addEventListener("blur",m),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class G$ extends lu{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class q$ extends lu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return tu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,i)){const d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue||"Off";o.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jM extends lu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(tu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const u of this._getElementsByName(l,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:c})}),s.addEventListener("resetform",o=>{const l=t.defaultFieldValue;o.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",l=>{const c={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class X$ extends OE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class K$ extends lu{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");tu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let o=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),o=()=>{d.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const l=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,y=>y.selected).map(y=>y[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=l(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,y=new Set(Array.isArray(p)?p:[p]);for(const m of r.options)m.selected=y.has(m.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,y=f.detail.remove;p[y].selected=!1,r.remove(y),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(f){const{index:p,displayValue:y,exportValue:m}=f.detail.insert,w=r.children[p],g=document.createElement("option");g.textContent=y,g.value=m,w?w.before(g):r.append(g),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const y of p){const{displayValue:m,exportValue:w}=y,g=document.createElement("option");g.textContent=m,g.value=w,r.append(g)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:l(!0),items:u(f)}),c=l(!1)},indices(f){const p=new Set(f.detail.indices);for(const y of f.target.options)y.selected=p.has(y.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var p;const h=l(!0),f=l(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var $m,bS;class wS extends pt{constructor(t){const{data:i,elements:r,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&pt._hasPopupData(i)});S(this,$m);if(this.elements=r,o&&pt._hasPopupData(i)){const l=this.popup=k(this,$m,bS).call(this);for(const c of r)c.popup=l}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=k(this,$m,bS).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${PE}${s}`).join(",")),this.container}}$m=new WeakSet,bS=function(){return new Y$({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var mi,Ta,gx,vx,oh,ah,St,us,_a,bc,lh,ch,ds,gi,lo,co,qt,uo,Pa,Um,ho,uh,Sc,Ra,En,Da,ge,Hv,SS,ES,AS,Vv,CS,BM,zM,$M,UM,Wv,Gv,kS;class Y${constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:l,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){S(this,ge);S(this,mi,null);S(this,Ta,k(this,ge,$M).bind(this));S(this,gx,k(this,ge,kS).bind(this));S(this,vx,k(this,ge,Gv).bind(this));S(this,oh,k(this,ge,Wv).bind(this));S(this,ah,null);S(this,St,null);S(this,us,null);S(this,_a,null);S(this,bc,null);S(this,lh,null);S(this,ch,null);S(this,ds,!1);S(this,gi,null);S(this,lo,null);S(this,co,null);S(this,qt,null);S(this,uo,null);S(this,Pa,null);S(this,Um,null);S(this,ho,null);S(this,uh,null);S(this,Sc,null);S(this,Ra,!1);S(this,En,null);S(this,Da,null);v(this,St,e),v(this,uh,r),v(this,us,o),v(this,ho,l),v(this,lh,c),v(this,ah,t),v(this,Um,u),v(this,ch,d),v(this,bc,i),v(this,mi,f),v(this,En,i[0]),v(this,_a,Pp.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(k(this,ge,Hv).call(this),a(this,St).hidden=!0,h&&k(this,ge,Wv).call(this))}renderCommentButton(){if(a(this,qt)||(a(this,uo)||k(this,ge,SS).call(this),!a(this,uo)))return;const{signal:e}=v(this,lo,new AbortController),t=!!a(this,En).extraPopupElement,i=()=>{a(this,mi).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{a(this,mi).toggleCommentPopup(this,!1,!0,!t)},s=()=>{a(this,mi).toggleCommentPopup(this,!1,!1)};if(t){v(this,qt,a(this,En).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",a(this,Ta),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=v(this,qt,document.createElement("button"));o.className="annotationCommentButton";const l=a(this,En).container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,ge,AS).call(this),k(this,ge,ES).call(this),o.addEventListener("keydown",a(this,Ta),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),l.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=a(this,En).commentData;return e?a(this,lh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=a(this,qt))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=a(this,En).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return a(this,qt)}get comment(){return a(this,Da)||v(this,Da,a(this,En).commentText),a(this,Da)}set comment(e){e!==this.comment&&(a(this,En).commentText=v(this,Da,e))}get parentBoundingClientRect(){return a(this,En).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){a(this,qt)&&(a(this,qt).classList.toggle("selected",e),a(this,qt).ariaExpanded=t)}setSelectedCommentButton(e){a(this,qt).classList.toggle("selected",e)}get commentPopupPosition(){if(a(this,Pa))return a(this,Pa);const{x:e,y:t,height:i}=a(this,qt).getBoundingClientRect(),{x:r,y:s,width:o,height:l}=a(this,En).layer.getBoundingClientRect();return[(e-r)/o,(t+i-s)/l]}set commentPopupPosition(e){v(this,Pa,e)}hasDefaultPopupPosition(){return a(this,Pa)===null}get commentButtonPosition(){return a(this,uo)}get commentButtonWidth(){return a(this,qt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=a(this,Pa)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:s,y:o,width:l,height:c}=r;a(this,mi).showDialog(null,this,s+t*l,o+i*c,{...e,parentDimensions:r})}render(){var i,r;if(a(this,gi))return;const e=v(this,gi,document.createElement("div"));if(e.className="popup",a(this,ah)){const s=e.style.outlineColor=J.makeHexColor(...a(this,ah));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=a(this,uh))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=a(this,uh)}if(e.append(t),a(this,_a)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:a(this,_a).valueOf()})),s.dateTime=a(this,_a).toISOString(),t.append(s)}DE({html:a(this,ge,Vv)||a(this,us).str,dir:(r=a(this,us))==null?void 0:r.dir,className:"popupContent"},e),a(this,St).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(a(this,mi)){i?(this.remove(),v(this,Da,null)):t&&(t.deleted?this.remove():(k(this,ge,AS).call(this),v(this,Da,t.text))),e&&(v(this,uo,null),k(this,ge,SS).call(this),k(this,ge,ES).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}k(this,ge,Hv).call(this),a(this,Sc)||v(this,Sc,{contentsObj:a(this,us),richText:a(this,ho)}),e&&v(this,co,null),t&&t.text&&(v(this,ho,k(this,ge,zM).call(this,t.text)),v(this,_a,Pp.toDateObject(t.date)),v(this,us,null)),(r=a(this,gi))==null||r.remove(),v(this,gi,null)}resetEdited(){var e;a(this,Sc)&&({contentsObj:yt(this,us)._,richText:yt(this,ho)._}=a(this,Sc),v(this,Sc,null),(e=a(this,gi))==null||e.remove(),v(this,gi,null),v(this,co,null))}remove(){var e,t,i;if((e=a(this,lo))==null||e.abort(),v(this,lo,null),(t=a(this,gi))==null||t.remove(),v(this,gi,null),v(this,Ra,!1),v(this,ds,!1),(i=a(this,qt))==null||i.remove(),v(this,qt,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){v(this,Ra,this.isVisible),a(this,Ra)&&(a(this,St).hidden=!0)}maybeShow(){a(this,mi)||(k(this,ge,Hv).call(this),a(this,Ra)&&(a(this,gi)||k(this,ge,Gv).call(this),v(this,Ra,!1),a(this,St).hidden=!1))}get isVisible(){return a(this,mi)?!1:a(this,St).hidden===!1}}mi=new WeakMap,Ta=new WeakMap,gx=new WeakMap,vx=new WeakMap,oh=new WeakMap,ah=new WeakMap,St=new WeakMap,us=new WeakMap,_a=new WeakMap,bc=new WeakMap,lh=new WeakMap,ch=new WeakMap,ds=new WeakMap,gi=new WeakMap,lo=new WeakMap,co=new WeakMap,qt=new WeakMap,uo=new WeakMap,Pa=new WeakMap,Um=new WeakMap,ho=new WeakMap,uh=new WeakMap,Sc=new WeakMap,Ra=new WeakMap,En=new WeakMap,Da=new WeakMap,ge=new WeakSet,Hv=function(){var t;if(a(this,lo))return;v(this,lo,new AbortController);const{signal:e}=a(this,lo);for(const i of this.trigger)i.addEventListener("click",a(this,oh),{signal:e}),i.addEventListener("pointerenter",a(this,vx),{signal:e}),i.addEventListener("pointerleave",a(this,gx),{signal:e}),i.classList.add("popupTriggerArea");for(const i of a(this,bc))(t=i.container)==null||t.addEventListener("keydown",a(this,Ta),{signal:e})},SS=function(){const e=a(this,bc).find(t=>t.hasCommentButton);e&&v(this,uo,e._normalizePoint(e.commentButtonPosition))},ES=function(){if(a(this,En).extraPopupElement&&!a(this,En).editor)return;this.renderCommentButton();const[e,t]=a(this,uo),{style:i}=a(this,qt);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},AS=function(){a(this,En).extraPopupElement||(this.renderCommentButton(),a(this,qt).style.backgroundColor=this.commentButtonColor||"")},Vv=function(){const e=a(this,ho),t=a(this,us);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&a(this,ho).html||null},CS=function(){var e,t,i;return((i=(t=(e=a(this,ge,Vv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},BM=function(){var e,t,i;return((i=(t=(e=a(this,ge,Vv))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},zM=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:a(this,ge,BM),fontSize:a(this,ge,CS)?`calc(${a(this,ge,CS)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},$M=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&a(this,ds))&&k(this,ge,Wv).call(this)},UM=function(){if(a(this,co)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=a(this,lh);let o=!!a(this,ch),l=o?a(this,ch):a(this,Um);for(const y of a(this,bc))if(!l||J.intersect(y.data.rect,l)!==null){l=y.data.rect,o=!0;break}const c=J.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),d=o?l[2]-l[0]+5:0,h=c[0]+d,f=c[1];v(this,co,[100*(h-r)/t,100*(f-s)/i]);const{style:p}=a(this,St);p.left=`${a(this,co)[0]}%`,p.top=`${a(this,co)[1]}%`},Wv=function(){if(a(this,mi)){a(this,mi).toggleCommentPopup(this,!1);return}v(this,ds,!a(this,ds)),a(this,ds)?(k(this,ge,Gv).call(this),a(this,St).addEventListener("click",a(this,oh)),a(this,St).addEventListener("keydown",a(this,Ta))):(k(this,ge,kS).call(this),a(this,St).removeEventListener("click",a(this,oh)),a(this,St).removeEventListener("keydown",a(this,Ta)))},Gv=function(){a(this,gi)||this.render(),this.isVisible?a(this,ds)&&a(this,St).classList.add("focused"):(k(this,ge,UM).call(this),a(this,St).hidden=!1,a(this,St).style.zIndex=parseInt(a(this,St).style.zIndex)+1e3)},kS=function(){a(this,St).classList.remove("focused"),!(a(this,ds)||!this.isVisible)&&(a(this,St).hidden=!0,a(this,St).style.zIndex=parseInt(a(this,St).style.zIndex)-1e3)};class HM extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Hm;class Q$ extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Hm,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=v(this,Hm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Hm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hm=new WeakMap;var Vm;class Z$ extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Vm,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,l=v(this,Vm,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",i-o),l.setAttribute("height",r-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vm=new WeakMap;var Wm;class J$ extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Wm,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,l=v(this,Wm,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",r/2),l.setAttribute("rx",i/2-o/2),l.setAttribute("ry",r/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Wm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wm=new WeakMap;var Gm;class VM extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Gm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:o,height:l}=this;if(!i)return this.container;const c=this.svgFactory.create(o,l,!0);let u=[];for(let h=0,f=i.length;h<f;h+=2){const p=i[h]-t[0],y=t[3]-i[h+1];u.push(`${p},${y}`)}u=u.join(" ");const d=v(this,Gm,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return a(this,Gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gm=new WeakMap;class eU extends VM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tU extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var qm,Ec,Xm,TS;class jE extends pt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Xm);S(this,qm,null);S(this,Ec,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:l,width:c,height:u}=k(this,Xm,TS).call(this,i,t),d=this.svgFactory.create(c,u,!0),h=v(this,qm,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",l);for(let f=0,p=r.length;f<p;f++){const y=this.svgFactory.createElement(this.svgElementName);a(this,Ec).push(y),y.setAttribute("points",r[f].join(",")),h.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,o=a(this,qm);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let l=0,c=a(this,Ec).length;l<c;l++)a(this,Ec)[l].setAttribute("points",r[l].join(","));if(s){const{transform:l,width:c,height:u}=k(this,Xm,TS).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return a(this,Ec)}addHighlightArea(){this.container.classList.add("highlightArea")}}qm=new WeakMap,Ec=new WeakMap,Xm=new WeakSet,TS=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class WM extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class nU extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class iU extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class rU extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class GM extends pt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Km,Ym,_S;class sU extends pt{constructor(t){var r;super(t,{isRenderable:!0});S(this,Ym);S(this,Km,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",k(this,Ym,_S).bind(this)),v(this,Km,r);const{isMac:s}=tn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&k(this,Ym,_S).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return a(this,Km)}addHighlightArea(){this.container.classList.add("highlightArea")}}Km=new WeakMap,Ym=new WeakSet,_S=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var dh,Ac,hh,Ma,Qm,Cc,hl,PS,RS,fh;let BE=(fh=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:l,commentManager:c,linkService:u,annotationStorage:d}){S(this,hl);S(this,dh,null);S(this,Ac,null);S(this,hh,null);S(this,Ma,new Map);S(this,Qm,null);S(this,Cc,null);this.div=e,v(this,dh,t),v(this,Ac,i),v(this,Qm,l||null),v(this,Cc,u||null),v(this,hh,d||new ME),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return a(this,Ma).size>0}async render(e){var o,l,c;const{annotations:t}=e,i=this.div;cl(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:a(this,Cc),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Lp,annotationStorage:a(this,hh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===Tt.POPUP;if(d){const p=r.get(u.id);if(!p)continue;s.elements=p}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;s.data=u;const h=Mk.create(s);if(!h.isRenderable)continue;if(!d&&u.popupRef){const p=r.get(u.popupRef);p?p.push(h):r.set(u.popupRef,[h])}const f=h.render();u.hidden&&(f.style.visibility="hidden"),await k(this,hl,PS).call(this,f,u.id,s.elements),(l=(o=h.extraPopupElement)==null?void 0:o.popup)==null||l.renderCommentButton(),h._isEditable&&(a(this,Ma).set(h.data.id,h),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(h))}k(this,hl,RS).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:a(this,Cc),svgFactory:new Lp,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=fh._defaultBorderStyle),t.data=i;const r=Mk.create(t);if(!r.isRenderable)continue;const s=r.render();await k(this,hl,PS).call(this,s,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,cl(t,{rotation:e.rotation}),k(this,hl,RS).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(a(this,Ma).values())}getEditableAnnotation(e){return a(this,Ma).get(e)}addFakeAnnotation(e){var l;const{div:t}=this,{id:i,rotation:r}=e,s=new H$({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:a(this,Cc),annotationStorage:a(this,hh)}),o=s.render();return t.append(o),(l=a(this,dh))==null||l.moveElementInDOM(t,o,o,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return pe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:gu.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},dh=new WeakMap,Ac=new WeakMap,hh=new WeakMap,Ma=new WeakMap,Qm=new WeakMap,Cc=new WeakMap,hl=new WeakSet,PS=async function(e,t,i){var l,c;const r=e.firstChild||e,s=r.id=`${PE}${t}`,o=await((l=a(this,Qm))==null?void 0:l.getAriaAttributes(s));if(o)for(const[u,d]of o)r.setAttribute(u,d);i?i.at(-1).container.after(e):(this.div.append(e),(c=a(this,dh))==null||c.moveElementInDOM(this.div,e,r,!1))},RS=function(){var t;if(!a(this,Ac))return;const e=this.div;for(const[i,r]of a(this,Ac)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):s.append(r);const l=a(this,Ma).get(i);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),l._hasNoCanvas=!1):l.canvas=r)}a(this,Ac).clear()},fh);const cv=/\r\n?|\n/g;var vi,Zm,kc,yi,It,qM,XM,KM,qv,Ao,Xv,Kv,YM,MS,QM;const Je=class Je extends Ye{constructor(t){super({...t,name:"freeTextEditor"});S(this,It);S(this,vi,"");S(this,Zm,`${this.id}-editor`);S(this,kc,null);S(this,yi);V(this,"_colorPicker",null);this.color=t.color||Je._defaultColor||Ye._defaultLineColor,v(this,yi,t.fontSize||Je._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Je.prototype,i=o=>o.isEmpty(),r=ul.TRANSLATE_SMALL,s=ul.TRANSLATE_BIG;return pe(this,"_keyboardManager",new _g([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Ye.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case be.FREETEXT_SIZE:Je._defaultFontSize=i;break;case be.FREETEXT_COLOR:Je._defaultColor=i;break}}updateParams(t,i){switch(t){case be.FREETEXT_SIZE:k(this,It,qM).call(this,i);break;case be.FREETEXT_COLOR:k(this,It,XM).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[be.FREETEXT_SIZE,Je._defaultFontSize],[be.FREETEXT_COLOR,Je._defaultColor||Ye._defaultLineColor]]}get propertiesToUpdate(){return[[be.FREETEXT_SIZE,a(this,yi)],[be.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Ky(this)),[["colorPicker",this._colorPicker]]}get colorType(){return be.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Je._internalPadding*t,-(Je._internalPadding+a(this,yi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),v(this,kc,new AbortController);const t=this._uiManager.combinedSignal(a(this,kc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",a(this,Zm)),this._isDraggable=!0,(t=a(this,kc))==null||t.abort(),v(this,kc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=a(this,vi),i=v(this,vi,k(this,It,KM).call(this).trimEnd());if(t===i)return;const r=s=>{if(v(this,vi,s),!s){this.remove();return}k(this,It,Kv).call(this),this._uiManager.rebuild(this),k(this,It,qv).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),k(this,It,qv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Je._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",a(this,Zm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${a(this,yi)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=t+(l[0]-f)/d,m=i+this.height-(l[1]-p)/h;break;case 90:y=t+(l[0]-f)/d,m=i-(l[1]-p)/h,[c,u]=[u,-c];break;case 180:y=t-this.width+(l[0]-f)/d,m=i-(l[1]-p)/h,[c,u]=[-c,-u];break;case 270:y=t+(l[0]-f-this.height*h)/d,m=i+(l[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(y*s,m*o,c,u)}else this._moveAfterPaste(t,i);k(this,It,Kv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var y,m,w;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=k(y=Je,Ao,MS).call(y,i.getData("text")||"").replaceAll(cv,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:u}=l,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(cv,"")),g!==this.editorDiv){let x=d;for(const b of this.editorDiv.childNodes){if(b===g){x=h;continue}x.push(k(m=Je,Ao,Xv).call(m,b))}}d.push(c.nodeValue.slice(0,u).replaceAll(cv,""))}else if(c===this.editorDiv){let g=d,x=0;for(const b of this.editorDiv.childNodes)x++===u&&(g=h),g.push(k(w=Je,Ao,Xv).call(w,b))}v(this,vi,`${d.join(`
`)}${s}${h.join(`
`)}`),k(this,It,Kv).call(this);const f=new Range;let p=Math.sumPrecise(d.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(p<=x){f.setStart(g,p),f.setEnd(g,p);break}p-=x}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Je._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var l;let s=null;if(t instanceof HM){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:y,contentsObj:m,creationDate:w,modificationDate:g},textContent:x,textPosition:b,parent:{page:{pageNumber:A}}}=t;if(!x||x.length===0)return null;s=t={annotationType:le.FREETEXT,color:Array.from(u),fontSize:c,value:x.join(`
`),position:b,pageIndex:A-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:y,creationDate:w,modificationDate:g}}const o=await super.deserialize(t,i,r);return v(o,yi,t.fontSize),o.color=J.makeHexColor(...t.color),v(o,vi,k(l=Je,Ao,MS).call(l,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:a(this,yi),value:k(this,It,YM).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!k(this,It,QM).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${a(this,yi)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of a(this,vi).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),i.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:a(this,vi)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};vi=new WeakMap,Zm=new WeakMap,kc=new WeakMap,yi=new WeakMap,It=new WeakSet,qM=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-a(this,yi))*this.parentScale),v(this,yi,s),k(this,It,qv).call(this)},r=a(this,yi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},XM=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},KM=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(k(r=Je,Ao,Xv).call(r,s)),i=s);return t.join(`
`)},qv=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},Ao=new WeakSet,Xv=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(cv,"")},Kv=function(){if(this.editorDiv.replaceChildren(),!!a(this,vi))for(const t of a(this,vi).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},YM=function(){return a(this,vi).replaceAll(""," ")},MS=function(t){return t.replaceAll(" ","")},QM=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o},S(Je,Ao),V(Je,"_freeTextDefaultContent",""),V(Je,"_internalPadding",0),V(Je,"_defaultColor",null),V(Je,"_defaultFontSize",10),V(Je,"_type","freetext"),V(Je,"_editorType",le.FREETEXT);let DS=Je;class Z{toSVGPath(){Ge("Abstract method `toSVGPath` must be implemented.")}get box(){Ge("Abstract getter `box` must be implemented.")}serialize(e,t){Ge("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l]*r,o[l+1]=i+e[l+1]*s;return o}static _rescaleAndSwap(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)o[l]=t+e[l+1]*r,o[l+1]=i+e[l]*s;return o}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,o){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}V(Z,"PRECISION",1e-4);var xi,Er,ph,mh,hs,xe,Tc,_c,Jm,eg,gh,vh,La,tg,yx,xx,Wt,zf,ZM,JM,eL,tL,nL,iL;const Os=class Os{constructor({x:e,y:t},i,r,s,o,l=0){S(this,Wt);S(this,xi);S(this,Er,[]);S(this,ph);S(this,mh);S(this,hs,[]);S(this,xe,new Float32Array(18));S(this,Tc);S(this,_c);S(this,Jm);S(this,eg);S(this,gh);S(this,vh);S(this,La,[]);v(this,xi,i),v(this,vh,s*r),v(this,mh,o),a(this,xe).set([NaN,NaN,NaN,NaN,e,t],6),v(this,ph,l),v(this,eg,a(Os,tg)*r),v(this,Jm,a(Os,xx)*r),v(this,gh,r),a(this,La).push(e,t)}isEmpty(){return isNaN(a(this,xe)[8])}add({x:e,y:t}){var D;v(this,Tc,e),v(this,_c,t);const[i,r,s,o]=a(this,xi);let[l,c,u,d]=a(this,xe).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<a(this,Jm))return!1;const y=p-a(this,eg),m=y/p,w=m*h,g=m*f;let x=l,b=c;l=u,c=d,u+=w,d+=g,(D=a(this,La))==null||D.push(e,t);const A=-g/y,T=w/y,_=A*a(this,vh),P=T*a(this,vh);return a(this,xe).set(a(this,xe).subarray(2,8),0),a(this,xe).set([u+_,d+P],4),a(this,xe).set(a(this,xe).subarray(14,18),12),a(this,xe).set([u-_,d-P],16),isNaN(a(this,xe)[6])?(a(this,hs).length===0&&(a(this,xe).set([l+_,c+P],2),a(this,hs).push(NaN,NaN,NaN,NaN,(l+_-i)/s,(c+P-r)/o),a(this,xe).set([l-_,c-P],14),a(this,Er).push(NaN,NaN,NaN,NaN,(l-_-i)/s,(c-P-r)/o)),a(this,xe).set([x,b,l,c,u,d],6),!this.isEmpty()):(a(this,xe).set([x,b,l,c,u,d],6),Math.abs(Math.atan2(b-c,x-l)-Math.atan2(g,w))<Math.PI/2?([l,c,u,d]=a(this,xe).subarray(2,6),a(this,hs).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/s,((c+d)/2-r)/o),[l,c,x,b]=a(this,xe).subarray(14,18),a(this,Er).push(NaN,NaN,NaN,NaN,((x+l)/2-i)/s,((b+c)/2-r)/o),!0):([x,b,l,c,u,d]=a(this,xe).subarray(0,6),a(this,hs).push(((x+5*l)/6-i)/s,((b+5*c)/6-r)/o,((5*l+u)/6-i)/s,((5*c+d)/6-r)/o,((l+u)/2-i)/s,((c+d)/2-r)/o),[u,d,l,c,x,b]=a(this,xe).subarray(12,18),a(this,Er).push(((x+5*l)/6-i)/s,((b+5*c)/6-r)/o,((5*l+u)/6-i)/s,((5*c+d)/6-r)/o,((l+u)/2-i)/s,((c+d)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=a(this,hs),t=a(this,Er);if(isNaN(a(this,xe)[6])&&!this.isEmpty())return k(this,Wt,ZM).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);k(this,Wt,eL).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return k(this,Wt,JM).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,o){return new rL(e,t,i,r,s,o)}getOutlines(){var h;const e=a(this,hs),t=a(this,Er),i=a(this,xe),[r,s,o,l]=a(this,xi),c=new Float32Array((((h=a(this,La))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(a(this,La)[f]-r)/o,c[f+1]=(a(this,La)[f+1]-s)/l;if(c[c.length-2]=(a(this,Tc)-r)/o,c[c.length-1]=(a(this,_c)-s)/l,isNaN(i[6])&&!this.isEmpty())return k(this,Wt,tL).call(this,c);const u=new Float32Array(a(this,hs).length+24+a(this,Er).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=k(this,Wt,iL).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return k(this,Wt,nL).call(this,u,d),this.newFreeDrawOutline(u,c,a(this,xi),a(this,gh),a(this,ph),a(this,mh))}};xi=new WeakMap,Er=new WeakMap,ph=new WeakMap,mh=new WeakMap,hs=new WeakMap,xe=new WeakMap,Tc=new WeakMap,_c=new WeakMap,Jm=new WeakMap,eg=new WeakMap,gh=new WeakMap,vh=new WeakMap,La=new WeakMap,tg=new WeakMap,yx=new WeakMap,xx=new WeakMap,Wt=new WeakSet,zf=function(){const e=a(this,xe).subarray(4,6),t=a(this,xe).subarray(16,18),[i,r,s,o]=a(this,xi);return[(a(this,Tc)+(e[0]-t[0])/2-i)/s,(a(this,_c)+(e[1]-t[1])/2-r)/o,(a(this,Tc)+(t[0]-e[0])/2-i)/s,(a(this,_c)+(t[1]-e[1])/2-r)/o]},ZM=function(){const[e,t,i,r]=a(this,xi),[s,o,l,c]=k(this,Wt,zf).call(this);return`M${(a(this,xe)[2]-e)/i} ${(a(this,xe)[3]-t)/r} L${(a(this,xe)[4]-e)/i} ${(a(this,xe)[5]-t)/r} L${s} ${o} L${l} ${c} L${(a(this,xe)[16]-e)/i} ${(a(this,xe)[17]-t)/r} L${(a(this,xe)[14]-e)/i} ${(a(this,xe)[15]-t)/r} Z`},JM=function(e){const t=a(this,Er);e.push(`L${t[4]} ${t[5]} Z`)},eL=function(e){const[t,i,r,s]=a(this,xi),o=a(this,xe).subarray(4,6),l=a(this,xe).subarray(16,18),[c,u,d,h]=k(this,Wt,zf).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${c} ${u} L${d} ${h} L${(l[0]-t)/r} ${(l[1]-i)/s}`)},tL=function(e){const t=a(this,xe),[i,r,s,o]=a(this,xi),[l,c,u,d]=k(this,Wt,zf).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(h,e,a(this,xi),a(this,gh),a(this,ph),a(this,mh))},nL=function(e,t){const i=a(this,Er);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},iL=function(e,t){const i=a(this,xe).subarray(4,6),r=a(this,xe).subarray(16,18),[s,o,l,c]=a(this,xi),[u,d,h,f]=k(this,Wt,zf).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-o)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-s)/l,(r[1]-o)/c],t),t+=24},S(Os,tg,8),S(Os,yx,2),S(Os,xx,a(Os,tg)+a(Os,yx));let Yy=Os;var yh,Pc,fo,ng,wi,ig,Pt,wx,sL;class rL extends Z{constructor(t,i,r,s,o,l){super();S(this,wx);S(this,yh);S(this,Pc,new Float32Array(4));S(this,fo);S(this,ng);S(this,wi);S(this,ig);S(this,Pt);v(this,Pt,t),v(this,wi,i),v(this,yh,r),v(this,ig,s),v(this,fo,o),v(this,ng,l),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,wx,sL).call(this,l);const[c,u,d,h]=a(this,Pc);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-c)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/d,i[f+1]=(i[f+1]-u)/h}toSVGPath(){const t=[`M${a(this,Pt)[4]} ${a(this,Pt)[5]}`];for(let i=6,r=a(this,Pt).length;i<r;i+=6){if(isNaN(a(this,Pt)[i])){t.push(`L${a(this,Pt)[i+4]} ${a(this,Pt)[i+5]}`);continue}t.push(`C${a(this,Pt)[i]} ${a(this,Pt)[i+1]} ${a(this,Pt)[i+2]} ${a(this,Pt)[i+3]} ${a(this,Pt)[i+4]} ${a(this,Pt)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const l=r-t,c=s-i;let u,d;switch(o){case 0:u=Z._rescale(a(this,Pt),t,s,l,-c),d=Z._rescale(a(this,wi),t,s,l,-c);break;case 90:u=Z._rescaleAndSwap(a(this,Pt),t,i,l,c),d=Z._rescaleAndSwap(a(this,wi),t,i,l,c);break;case 180:u=Z._rescale(a(this,Pt),r,i,-l,c),d=Z._rescale(a(this,wi),r,i,-l,c);break;case 270:u=Z._rescaleAndSwap(a(this,Pt),r,s,-l,-c),d=Z._rescaleAndSwap(a(this,wi),r,s,-l,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return a(this,Pc)}newOutliner(t,i,r,s,o,l=0){return new Yy(t,i,r,s,o,l)}getNewOutline(t,i){const[r,s,o,l]=a(this,Pc),[c,u,d,h]=a(this,yh),f=o*d,p=l*h,y=r*d+c,m=s*h+u,w=this.newOutliner({x:a(this,wi)[0]*f+y,y:a(this,wi)[1]*p+m},a(this,yh),a(this,ig),t,a(this,ng),i??a(this,fo));for(let g=2;g<a(this,wi).length;g+=2)w.add({x:a(this,wi)[g]*f+y,y:a(this,wi)[g+1]*p+m});return w.getOutlines()}}yh=new WeakMap,Pc=new WeakMap,fo=new WeakMap,ng=new WeakMap,wi=new WeakMap,ig=new WeakMap,Pt=new WeakMap,wx=new WeakSet,sL=function(t){const i=a(this,Pt);let r=i[4],s=i[5];const o=[r,s,r,s];let l=r,c=s,u=r,d=s;const h=t?Math.max:Math.min,f=new Float32Array(4);for(let y=6,m=i.length;y<m;y+=6){const w=i[y+4],g=i[y+5];isNaN(i[y])?(J.pointBoundingBox(w,g,o),c>g?(l=w,c=g):c===g&&(l=h(l,w)),d<g?(u=w,d=g):d===g&&(u=h(u,w))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,J.bezierBoundingBox(r,s,...i.slice(y,y+6),f),J.rectBoundingBox(f[0],f[1],f[2],f[3],o),c>f[1]?(l=f[0],c=f[1]):c===f[1]&&(l=h(l,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),r=w,s=g}const p=a(this,Pc);p[0]=o[0]-a(this,fo),p[1]=o[1]-a(this,fo),p[2]=o[2]-o[0]+2*a(this,fo),p[3]=o[3]-o[1]+2*a(this,fo),this.firstPoint=[l,c],this.lastPoint=[u,d]};var rg,sg,og,Na,Ar,$n,oL,Yv,aL,lL,NS;class LS{constructor(e,t=0,i=0,r=!0){S(this,$n);S(this,rg);S(this,sg);S(this,og);S(this,Na,[]);S(this,Ar,[]);const s=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:g,width:x,height:b}of e){const A=Math.floor((w-t)/l)*l,T=Math.ceil((w+x+t)/l)*l,_=Math.floor((g-t)/l)*l,P=Math.ceil((g+b+t)/l)*l,R=[A,_,P,!0],D=[T,_,P,!1];a(this,Na).push(R,D),J.rectBoundingBox(A,_,T,P,s)}const c=s[2]-s[0]+2*i,u=s[3]-s[1]+2*i,d=s[0]-i,h=s[1]-i;let f=r?-1/0:1/0,p=1/0;const y=a(this,Na).at(r?-1:-2),m=[y[0],y[2]];for(const w of a(this,Na)){const[g,x,b,A]=w;!A&&r?x<p?(p=x,f=g):x===p&&(f=Math.max(f,g)):A&&!r&&(x<p?(p=x,f=g):x===p&&(f=Math.min(f,g))),w[0]=(g-d)/c,w[1]=(x-h)/u,w[2]=(b-h)/u}v(this,rg,new Float32Array([d,h,c,u])),v(this,sg,[f,p]),v(this,og,m)}getOutlines(){a(this,Na).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of a(this,Na))t[3]?(e.push(...k(this,$n,NS).call(this,t)),k(this,$n,aL).call(this,t)):(k(this,$n,lL).call(this,t),e.push(...k(this,$n,NS).call(this,t)));return k(this,$n,oL).call(this,e)}}rg=new WeakMap,sg=new WeakMap,og=new WeakMap,Na=new WeakMap,Ar=new WeakMap,$n=new WeakSet,oL=function(e){const t=[],i=new Set;for(const o of e){const[l,c,u]=o;t.push([l,c,o],[l,u,o])}t.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=t.length;o<l;o+=2){const c=t[o][2],u=t[o+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[l,c,u,d,h]=o;i.delete(o);let f=l,p=c;for(s=[l,u],r.push(s);;){let y;if(i.has(d))y=d;else if(i.has(h))y=h;else break;i.delete(y),[l,c,u,d,h]=y,f!==l&&(s.push(f,p,l,p===c?c:u),f=l),p=p===c?u:c}s.push(f,p)}return new oU(r,a(this,rg),a(this,sg),a(this,og))},Yv=function(e){const t=a(this,Ar);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},aL=function([,e,t]){const i=k(this,$n,Yv).call(this,e);a(this,Ar).splice(i,0,[e,t])},lL=function([,e,t]){const i=k(this,$n,Yv).call(this,e);for(let r=i;r<a(this,Ar).length;r++){const[s,o]=a(this,Ar)[r];if(s!==e)break;if(s===e&&o===t){a(this,Ar).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=a(this,Ar)[r];if(s!==e)break;if(s===e&&o===t){a(this,Ar).splice(r,1);return}}},NS=function(e){const[t,i,r]=e,s=[[t,i,r]],o=k(this,$n,Yv).call(this,r);for(let l=0;l<o;l++){const[c,u]=a(this,Ar)[l];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=c,p>u&&s.push([t,u,p])}}}return s};var ag,xh;class oU extends Z{constructor(t,i,r,s){super();S(this,ag);S(this,xh);v(this,xh,t),v(this,ag,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of a(this,xh)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const l=i[o],c=i[o+1];l===r?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),r=l)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const l=[],c=r-t,u=s-i;for(const d of a(this,xh)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*c,h[f+1]=s-d[f+1]*u;l.push(h)}return l}get box(){return a(this,ag)}get classNamesForOutlining(){return["highlightOutline"]}}ag=new WeakMap,xh=new WeakMap;class FS extends Yy{newFreeDrawOutline(e,t,i,r,s,o){return new aU(e,t,i,r,s,o)}}class aU extends rL{newOutliner(e,t,i,r,s,o=0){return new FS(e,t,i,r,s,o)}}var wh,lg,po,Rc,cg,Zn,ug,dg,Dc,bi,Si,an,bh,Sh,An,Eh,Qi,hg,me,IS,Qv,cL,uL,dL,OS,bl,tr,Su,hL,Zv,Jv,fL,pL,mL,gL,vL;const _e=class _e extends Ye{constructor(t){super({...t,name:"highlightEditor"});S(this,me);S(this,wh,null);S(this,lg,0);S(this,po);S(this,Rc,null);S(this,cg,null);S(this,Zn,null);S(this,ug,null);S(this,dg,0);S(this,Dc,null);S(this,bi,null);S(this,Si,null);S(this,an,!1);S(this,bh,null);S(this,Sh,null);S(this,An,null);S(this,Eh,"");S(this,Qi);S(this,hg,"");this.color=t.color||_e._defaultColor,v(this,Qi,t.thickness||_e._defaultThickness),this.opacity=t.opacity||_e._defaultOpacity,v(this,po,t.boxes||null),v(this,hg,t.methodOfCreation||""),v(this,Eh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(v(this,an,!0),k(this,me,Qv).call(this,t),k(this,me,bl).call(this)):a(this,po)&&(v(this,wh,t.anchorNode),v(this,lg,t.anchorOffset),v(this,ug,t.focusNode),v(this,dg,t.focusOffset),k(this,me,IS).call(this),k(this,me,bl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=_e.prototype;return pe(this,"_keyboardManager",new _g([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:a(this,an)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:a(this,Qi),methodOfCreation:a(this,hg)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Ye.initialize(t,i),_e._defaultColor||(_e._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case be.HIGHLIGHT_COLOR:_e._defaultColor=i;break;case be.HIGHLIGHT_THICKNESS:_e._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return a(this,Sh)}get commentButtonPosition(){return a(this,bh)}updateParams(t,i){switch(t){case be.HIGHLIGHT_COLOR:k(this,me,cL).call(this,i);break;case be.HIGHLIGHT_THICKNESS:k(this,me,uL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,_e._defaultColor],[be.HIGHLIGHT_THICKNESS,_e._defaultThickness]]}get propertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,this.color||_e._defaultColor],[be.HIGHLIGHT_THICKNESS,a(this,Qi)||_e._defaultThickness],[be.HIGHLIGHT_FREE,a(this,an)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(a(this,Si),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=a(this,cg))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",v(this,cg,new Mp({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,me,Jv).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,k(this,me,Jv).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){k(this,me,OS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,me,bl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?k(this,me,OS).call(this):t&&(k(this,me,bl).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,l;const{drawLayer:i}=this.parent;let r;a(this,an)?(t=(t-this.rotation+360)%360,r=k(s=_e,tr,Su).call(s,a(this,bi).box,t)):r=k(o=_e,tr,Su).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(a(this,Si),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(a(this,An),{bbox:k(l=_e,tr,Su).call(l,a(this,Zn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();a(this,Eh)&&(t.setAttribute("aria-label",a(this,Eh)),t.setAttribute("role","mark")),a(this,an)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,me,hL).bind(this),{signal:this._uiManager._signal});const i=v(this,Dc,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=a(this,Rc),this.setDims(this.width,this.height),jD(this,a(this,Dc),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,An),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(a(this,An),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,me,Zv).call(this,!0);break;case 1:case 3:k(this,me,Zv).call(this,!1);break}}select(){var t;super.select(),a(this,An)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,An),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),a(this,An)&&((t=this.parent)==null||t.drawLayer.updateProperties(a(this,An),{rootClass:{selected:!1}}),a(this,an)||k(this,me,Zv).call(this,!1))}get _mustFixPosition(){return!a(this,an)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(a(this,Si),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(a(this,An),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:l,y:c,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=y=>{h.abort(),k(this,tr,gL).call(this,t,y)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ht,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ii,{signal:f}),r.addEventListener("pointermove",k(this,tr,mL).bind(this,t),{signal:f}),this._freeHighlight=new FS({x:s,y:o},[l,c,u,d],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var m,w,g,x;let s=null;if(t instanceof WM){const{data:{quadPoints:b,rect:A,rotation:T,id:_,color:P,opacity:R,popupRef:D,richText:L,contentsObj:F,creationDate:j,modificationDate:$},parent:{page:{pageNumber:N}}}=t;s=t={annotationType:le.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:b,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:T,annotationElementId:_,id:_,deleted:!1,popupRef:D,richText:L,comment:(F==null?void 0:F.str)||null,creationDate:j,modificationDate:$}}else if(t instanceof jE){const{data:{inkLists:b,rect:A,rotation:T,id:_,color:P,borderStyle:{rawWidth:R},popupRef:D,richText:L,contentsObj:F,creationDate:j,modificationDate:$},parent:{page:{pageNumber:N}}}=t;s=t={annotationType:le.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:b,boxes:null,pageIndex:N-1,rect:A.slice(0),rotation:T,annotationElementId:_,id:_,deleted:!1,popupRef:D,richText:L,comment:(F==null?void 0:F.str)||null,creationDate:j,modificationDate:$}}const{color:o,quadPoints:l,inkLists:c,opacity:u}=t,d=await super.deserialize(t,i,r);d.color=J.makeHexColor(...o),d.opacity=u||1,c&&v(d,Qi,t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,f]=d.pageDimensions,[p,y]=d.pageTranslation;if(l){const b=v(d,po,[]);for(let A=0;A<l.length;A+=8)b.push({x:(l[A]-p)/h,y:1-(l[A+1]-y)/f,width:(l[A+2]-l[A])/h,height:(l[A+1]-l[A+5])/f});k(m=d,me,IS).call(m),k(w=d,me,bl).call(w),d.rotate(d.rotation)}else if(c){v(d,an,!0);const b=c[0],A={x:b[0]-p,y:f-(b[1]-y)},T=new FS(A,[0,0,h,f],1,a(d,Qi)/2,!0,.001);for(let R=0,D=b.length;R<D;R+=2)A.x=b[R]-p,A.y=f-(b[R+1]-y),T.add(A);const{id:_,clipPathId:P}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);k(g=d,me,Qv).call(g,{highlightOutlines:T.getOutlines(),highlightId:_,clipPathId:P}),k(x=d,me,bl).call(x),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:a(this,Qi),quadPoints:k(this,me,fL).call(this),outlines:k(this,me,pL).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!k(this,me,vL).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};wh=new WeakMap,lg=new WeakMap,po=new WeakMap,Rc=new WeakMap,cg=new WeakMap,Zn=new WeakMap,ug=new WeakMap,dg=new WeakMap,Dc=new WeakMap,bi=new WeakMap,Si=new WeakMap,an=new WeakMap,bh=new WeakMap,Sh=new WeakMap,An=new WeakMap,Eh=new WeakMap,Qi=new WeakMap,hg=new WeakMap,me=new WeakSet,IS=function(){const t=new LS(a(this,po),.001);v(this,bi,t.getOutlines()),[this.x,this.y,this.width,this.height]=a(this,bi).box;const i=new LS(a(this,po),.0025,.001,this._uiManager.direction==="ltr");v(this,Zn,i.getOutlines());const{firstPoint:r}=a(this,bi);v(this,bh,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=a(this,Zn);v(this,Sh,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Qv=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var f,p;if(v(this,bi,t),v(this,Zn,t.getNewOutline(a(this,Qi)/2+1.5,.0025)),i>=0)v(this,Si,i),v(this,Rc,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),v(this,An,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:a(this,Zn).box,path:{d:a(this,Zn).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(a(this,Si),{bbox:k(f=_e,tr,Su).call(f,a(this,bi).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(a(this,An),{bbox:k(p=_e,tr,Su).call(p,a(this,Zn).box,y),path:{d:a(this,Zn).toSVGPath()}})}const[o,l,c,u]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=u;break;case 90:{const[y,m]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*m/y,this.height=u*y/m;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=u;break;case 270:{const[y,m]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*m/y,this.height=u*y/m;break}}const{firstPoint:d}=t;v(this,bh,[(d[0]-o)/c,(d[1]-l)/u]);const{lastPoint:h}=a(this,Zn);v(this,Sh,[(h[0]-o)/c,(h[1]-l)/u])},cL=function(t){const i=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,_e._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},uL=function(t){const i=a(this,Qi),r=s=>{v(this,Qi,s),k(this,me,dL).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},dL=function(t){a(this,an)&&(k(this,me,Qv).call(this,{highlightOutlines:a(this,bi).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},OS=function(){a(this,Si)===null||!this.parent||(this.parent.drawLayer.remove(a(this,Si)),v(this,Si,null),this.parent.drawLayer.remove(a(this,An)),v(this,An,null))},bl=function(t=this.parent){a(this,Si)===null&&({id:yt(this,Si)._,clipPathId:yt(this,Rc)._}=t.drawLayer.draw({bbox:a(this,bi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:a(this,an)},path:{d:a(this,bi).toSVGPath()}},!1,!0),v(this,An,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:a(this,an)},bbox:a(this,Zn).box,path:{d:a(this,Zn).toSVGPath()}},a(this,an))),a(this,Dc)&&(a(this,Dc).style.clipPath=a(this,Rc)))},tr=new WeakSet,Su=function([t,i,r,s],o){switch(o){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},hL=function(t){_e._keyboardManager.exec(this,t)},Zv=function(t){if(!a(this,wh))return;const i=window.getSelection();t?i.setPosition(a(this,wh),a(this,lg)):i.setPosition(a(this,ug),a(this,dg))},Jv=function(){return a(this,an)?this.rotation:0},fL=function(){if(a(this,an))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=a(this,po),l=new Float32Array(o.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+r,y=(1-d)*i+s;l[c]=l[c+4]=p,l[c+1]=l[c+3]=y,l[c+2]=l[c+6]=p+h*t,l[c+5]=l[c+7]=y-f*i,c+=8}return l},pL=function(t){return a(this,bi).serialize(t,k(this,me,Jv).call(this))},mL=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},gL=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},vL=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},S(_e,tr),V(_e,"_defaultColor",null),V(_e,"_defaultOpacity",1),V(_e,"_defaultThickness",12),V(_e,"_type","highlight"),V(_e,"_editorType",le.HIGHLIGHT),V(_e,"_freeHighlightId",-1),V(_e,"_freeHighlight",null),V(_e,"_freeHighlightClipId","");let Qy=_e;var Mc;class yL{constructor(){S(this,Mc,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){a(this,Mc)[e]=t}toSVGProperties(){const e=a(this,Mc);return v(this,Mc,Object.create(null)),{root:e}}reset(){v(this,Mc,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ge("Not implemented")}}Mc=new WeakMap;var Ei,Ah,Xt,Lc,Nc,Fa,Ia,Oa,Fc,ke,jS,BS,zS,$f,xL,ey,Uf,Eu;const te=class te extends Ye{constructor(t){super(t);S(this,ke);S(this,Ei,null);S(this,Ah);V(this,"_colorPicker",null);V(this,"_drawId",null);v(this,Ah,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(k(this,ke,jS).call(this,t),k(this,ke,$f).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,o]of Object.entries(i))r.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Ge("Not implemented")}static get typesMap(){Ge("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(a(te,Xt).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,o=s[i],l=c=>{var d;s.updateProperty(i,c);const u=a(this,Ei).updateProperty(i,c);u&&k(this,ke,Uf).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,r),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ei).getPathResizingSVGProperties(k(this,ke,ey).call(this)),{bbox:k(this,ke,Eu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ei).getPathResizedSVGProperties(k(this,ke,ey).call(this)),{bbox:k(this,ke,Eu).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:k(this,ke,Eu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(a(this,Ei).getPathTranslatedSVGProperties(k(this,ke,ey).call(this),this.parentDimensions),{bbox:k(this,ke,Eu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,a(this,Ah)&&(v(this,Ah,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){k(this,ke,zS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,ke,$f).call(this),k(this,ke,Uf).call(this,a(this,Ei).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),k(this,ke,zS).call(this)):t&&(this._uiManager.addShouldRescale(this),k(this,ke,$f).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties({bbox:k(this,ke,Eu).call(this)},a(this,Ei).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,ke,Uf).call(this,a(this,Ei).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,o){Ge("Not implemented")}static startDrawing(t,i,r,s){var w;const{target:o,offsetX:l,offsetY:c,pointerId:u,pointerType:d}=s;if(a(te,Ia)&&a(te,Ia)!==d)return;const{viewport:{rotation:h}}=t,{width:f,height:p}=o.getBoundingClientRect(),y=v(te,Lc,new AbortController),m=t.combinedSignal(y);if(a(te,Fa)||v(te,Fa,u),a(te,Ia)??v(te,Ia,d),window.addEventListener("pointerup",g=>{var x;a(te,Fa)===g.pointerId?this._endDraw(g):(x=a(te,Oa))==null||x.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var x;a(te,Fa)===g.pointerId?this._currentParent.endDrawingSession():(x=a(te,Oa))==null||x.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{a(te,Ia)===g.pointerType&&((a(te,Oa)||v(te,Oa,new Set)).add(g.pointerId),a(te,Xt).isCancellable()&&(a(te,Xt).removeLastElement(),a(te,Xt).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ii,{signal:m}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),o.addEventListener("touchmove",g=>{g.timeStamp===a(te,Fc)&&ht(g)},{signal:m}),t.toggleDrawing(),(w=i._editorUndoBar)==null||w.hide(),a(te,Xt)){t.drawLayer.updateProperties(this._currentDrawId,a(te,Xt).startNew(l,c,f,p,h));return}i.updateUIForDefaultProperties(this),v(te,Xt,this.createDrawerInstance(l,c,f,p,h)),v(te,Nc,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(a(te,Nc).toSVGProperties(),a(te,Xt).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(v(te,Fc,-1),!a(te,Xt))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(a(te,Fa)===s){if(((o=a(te,Oa))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,a(te,Xt).add(i,r)),v(te,Fc,t.timeStamp),ht(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,v(te,Xt,null),v(te,Nc,null),v(te,Ia,null),v(te,Fc,NaN)),a(te,Lc)&&(a(te,Lc).abort(),v(te,Lc,null),v(te,Fa,NaN),v(te,Oa,null))}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,a(te,Xt).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=a(te,Xt),s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:be.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(be.DRAW_STEP),!a(te,Xt).isEmpty()){const{pageDimensions:[r,s],scale:o}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:a(te,Xt).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:a(te,Nc),mustBeCommitted:!t});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,o,l){Ge("Not implemented")}static async deserialize(t,i,r){var h,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=i.viewport,u=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,i,r);return d.createDrawingOptions(t),k(h=d,ke,jS).call(h,{drawOutlines:u}),k(f=d,ke,$f).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return a(this,Ei).serialize([i,r,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ei=new WeakMap,Ah=new WeakMap,Xt=new WeakMap,Lc=new WeakMap,Nc=new WeakMap,Fa=new WeakMap,Ia=new WeakMap,Oa=new WeakMap,Fc=new WeakMap,ke=new WeakSet,jS=function({drawOutlines:t,drawId:i,drawingOptions:r}){v(this,Ei,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=k(this,ke,BS).call(this,t,this.parent),k(this,ke,Uf).call(this,t.box)},BS=function(t,i){const{id:r}=i.drawLayer.draw(te._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},zS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},$f=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,ke,BS).call(this,a(this,Ei),t)}},xL=function([t,i,r,s]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[i,1-t,r*(l/o),s*(o/l)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(l/o),s*(o/l)];default:return[t,i,r,s]}},ey=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-i,t,r*(o/l),s*(l/o)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(o/l),s*(l/o)];default:return[t,i,r,s]}},Uf=function(t){[this.x,this.y,this.width,this.height]=k(this,ke,xL).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Eu=function(){const{x:t,y:i,width:r,height:s,rotation:o,parentRotation:l,parentDimensions:[c,u]}=this;switch((o*4+l)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(c/u),s*(u/c),r*(c/u)];case 5:return[1-i,t,r*(c/u),s*(u/c)];case 6:return[1-t-s*(u/c),1-i,s*(u/c),r*(c/u)];case 7:return[i-r*(c/u),1-t-s*(u/c),r*(c/u),s*(u/c)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(u/c),i,s*(u/c),r*(c/u)];case 13:return[1-i-r*(c/u),t-s*(u/c),r*(c/u),s*(u/c)];case 14:return[1-t,1-i-r*(c/u),s*(u/c),r*(c/u)];case 15:return[i,1-t,r*(c/u),s*(u/c)];default:return[t,i,r,s]}},V(te,"_currentDrawId",-1),V(te,"_currentParent",null),S(te,Xt,null),S(te,Lc,null),S(te,Nc,null),S(te,Fa,NaN),S(te,Ia,null),S(te,Oa,null),S(te,Fc,NaN),V(te,"_INNER_MARGIN",3);let Zy=te;var fs,Kt,Yt,Ic,Ch,Ln,ln,Zi,Oc,jc,Bc,kh,ty;class lU{constructor(e,t,i,r,s,o){S(this,kh);S(this,fs,new Float64Array(6));S(this,Kt);S(this,Yt);S(this,Ic);S(this,Ch);S(this,Ln);S(this,ln,"");S(this,Zi,0);S(this,Oc,new Rg);S(this,jc);S(this,Bc);v(this,jc,i),v(this,Bc,r),v(this,Ic,s),v(this,Ch,o),[e,t]=k(this,kh,ty).call(this,e,t);const l=v(this,Kt,[NaN,NaN,NaN,NaN,e,t]);v(this,Ln,[e,t]),v(this,Yt,[{line:l,points:a(this,Ln)}]),a(this,fs).set(l,0)}updateProperty(e,t){e==="stroke-width"&&v(this,Ch,t)}isEmpty(){return!a(this,Yt)||a(this,Yt).length===0}isCancellable(){return a(this,Ln).length<=10}add(e,t){[e,t]=k(this,kh,ty).call(this,e,t);const[i,r,s,o]=a(this,fs).subarray(2,6),l=e-s,c=t-o;return Math.hypot(a(this,jc)*l,a(this,Bc)*c)<=2?null:(a(this,Ln).push(e,t),isNaN(i)?(a(this,fs).set([s,o,e,t],2),a(this,Kt).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(a(this,fs)[0])&&a(this,Kt).splice(6,6),a(this,fs).set([i,r,s,o,e,t],0),a(this,Kt).push(...Z.createBezierPoints(i,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(a(this,Ln).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){v(this,jc,i),v(this,Bc,r),v(this,Ic,s),[e,t]=k(this,kh,ty).call(this,e,t);const o=v(this,Kt,[NaN,NaN,NaN,NaN,e,t]);v(this,Ln,[e,t]);const l=a(this,Yt).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),a(this,Yt).push({line:o,points:a(this,Ln)}),a(this,fs).set(o,0),v(this,Zi,0),this.toSVGPath(),null}getLastElement(){return a(this,Yt).at(-1)}setLastElement(e){return a(this,Yt)?(a(this,Yt).push(e),v(this,Kt,e.line),v(this,Ln,e.points),v(this,Zi,0),{path:{d:this.toSVGPath()}}):a(this,Oc).setLastElement(e)}removeLastElement(){if(!a(this,Yt))return a(this,Oc).removeLastElement();a(this,Yt).pop(),v(this,ln,"");for(let e=0,t=a(this,Yt).length;e<t;e++){const{line:i,points:r}=a(this,Yt)[e];v(this,Kt,i),v(this,Ln,r),v(this,Zi,0),this.toSVGPath()}return{path:{d:a(this,ln)}}}toSVGPath(){const e=Z.svgRound(a(this,Kt)[4]),t=Z.svgRound(a(this,Kt)[5]);if(a(this,Ln).length===2)return v(this,ln,`${a(this,ln)} M ${e} ${t} Z`),a(this,ln);if(a(this,Ln).length<=6){const r=a(this,ln).lastIndexOf("M");v(this,ln,`${a(this,ln).slice(0,r)} M ${e} ${t}`),v(this,Zi,6)}if(a(this,Ln).length===4){const r=Z.svgRound(a(this,Kt)[10]),s=Z.svgRound(a(this,Kt)[11]);return v(this,ln,`${a(this,ln)} L ${r} ${s}`),v(this,Zi,12),a(this,ln)}const i=[];a(this,Zi)===0&&(i.push(`M ${e} ${t}`),v(this,Zi,6));for(let r=a(this,Zi),s=a(this,Kt).length;r<s;r+=6){const[o,l,c,u,d,h]=a(this,Kt).slice(r,r+6).map(Z.svgRound);i.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}return v(this,ln,a(this,ln)+i.join(" ")),v(this,Zi,a(this,Kt).length),a(this,ln)}getOutlines(e,t,i,r){const s=a(this,Yt).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),a(this,Oc).build(a(this,Yt),e,t,i,a(this,Ic),a(this,Ch),r),v(this,fs,null),v(this,Kt,null),v(this,Yt,null),v(this,ln,null),a(this,Oc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}fs=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,Ic=new WeakMap,Ch=new WeakMap,Ln=new WeakMap,ln=new WeakMap,Zi=new WeakMap,Oc=new WeakMap,jc=new WeakMap,Bc=new WeakMap,kh=new WeakSet,ty=function(e,t){return Z._normalizePoint(e,t,a(this,jc),a(this,Bc),a(this,Ic))};var Nn,fg,pg,Ai,ps,ms,Th,_h,zc,dn,Ls,wL,bL,SL;class Rg extends Z{constructor(){super(...arguments);S(this,dn);S(this,Nn);S(this,fg,0);S(this,pg);S(this,Ai);S(this,ps);S(this,ms);S(this,Th);S(this,_h);S(this,zc)}build(t,i,r,s,o,l,c){v(this,ps,i),v(this,ms,r),v(this,Th,s),v(this,_h,o),v(this,zc,l),v(this,pg,c??0),v(this,Ai,t),k(this,dn,bL).call(this)}get thickness(){return a(this,zc)}setLastElement(t){return a(this,Ai).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return a(this,Ai).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of a(this,Ai)){if(t.push(`M${Z.svgRound(i[4])} ${Z.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Z.svgRound(i[10])} ${Z.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[o,l,c,u,d,h]=i.subarray(r,r+6).map(Z.svgRound);t.push(`C${o} ${l} ${c} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,i,r,s],o){const l=[],c=[],[u,d,h,f]=k(this,dn,wL).call(this);let p,y,m,w,g,x,b,A,T;switch(a(this,_h)){case 0:T=Z._rescale,p=t,y=i+s,m=r,w=-s,g=t+u*r,x=i+(1-d-f)*s,b=t+(u+h)*r,A=i+(1-d)*s;break;case 90:T=Z._rescaleAndSwap,p=t,y=i,m=r,w=s,g=t+d*r,x=i+u*s,b=t+(d+f)*r,A=i+(u+h)*s;break;case 180:T=Z._rescale,p=t+r,y=i,m=-r,w=s,g=t+(1-u-h)*r,x=i+d*s,b=t+(1-u)*r,A=i+(d+f)*s;break;case 270:T=Z._rescaleAndSwap,p=t+r,y=i+s,m=-r,w=-s,g=t+(1-d-f)*r,x=i+(1-u-h)*s,b=t+(1-d)*r,A=i+(1-u)*s;break}for(const{line:_,points:P}of a(this,Ai))l.push(T(_,p,y,m,w,o?new Array(_.length):null)),c.push(T(P,p,y,m,w,o?new Array(P.length):null));return{lines:l,points:c,rect:[g,x,b,A]}}static deserialize(t,i,r,s,o,{paths:{lines:l,points:c},rotation:u,thickness:d}){const h=[];let f,p,y,m,w;switch(u){case 0:w=Z._rescale,f=-t/r,p=i/s+1,y=1/r,m=-1/s;break;case 90:w=Z._rescaleAndSwap,f=-i/s,p=-t/r,y=1/s,m=1/r;break;case 180:w=Z._rescale,f=t/r+1,p=-i/s,y=-1/r,m=1/s;break;case 270:w=Z._rescaleAndSwap,f=i/s+1,p=t/r+1,y=-1/s,m=-1/r;break}if(!l){l=[];for(const x of c){const b=x.length;if(b===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(b===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const A=new Float32Array(3*(b-2));l.push(A);let[T,_,P,R]=x.subarray(0,4);A.set([NaN,NaN,NaN,NaN,T,_],0);for(let D=4;D<b;D+=2){const L=x[D],F=x[D+1];A.set(Z.createBezierPoints(T,_,P,R,L,F),(D-2)*3),[T,_,P,R]=[P,R,L,F]}}}for(let x=0,b=l.length;x<b;x++)h.push({line:w(l[x].map(A=>A??NaN),f,p,y,m),points:w(c[x].map(A=>A??NaN),f,p,y,m)});const g=new this.prototype.constructor;return g.build(h,r,s,1,u,d,o),g}get box(){return a(this,Nn)}updateProperty(t,i){return t==="stroke-width"?k(this,dn,SL).call(this,i):null}updateParentDimensions([t,i],r){const[s,o]=k(this,dn,Ls).call(this);v(this,ps,t),v(this,ms,i),v(this,Th,r);const[l,c]=k(this,dn,Ls).call(this),u=l-s,d=c-o,h=a(this,Nn);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return v(this,fg,t),{path:{transform:this.rotationTransform}}}get viewBox(){return a(this,Nn).map(Z.svgRound).join(" ")}get defaultProperties(){const[t,i]=a(this,Nn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=a(this,Nn);let r=0,s=0,o=0,l=0,c=0,u=0;switch(a(this,fg)){case 90:s=i/t,o=-t/i,c=t;break;case 180:r=-1,l=-1,c=t,u=i;break;case 270:s=-i/t,o=t/i,u=i;break;default:return""}return`matrix(${r} ${s} ${o} ${l} ${Z.svgRound(c)} ${Z.svgRound(u)})`}getPathResizingSVGProperties([t,i,r,s]){const[o,l]=k(this,dn,Ls).call(this),[c,u,d,h]=a(this,Nn);if(Math.abs(d-o)<=Z.PRECISION||Math.abs(h-l)<=Z.PRECISION){const w=t+r/2-(c+d/2),g=i+s/2-(u+h/2);return{path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(i)}`,transform:`${this.rotationTransform} translate(${w} ${g})`}}}const f=(r-2*o)/(d-2*o),p=(s-2*l)/(h-2*l),y=d/r,m=h/s;return{path:{"transform-origin":`${Z.svgRound(c)} ${Z.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${Z.svgRound(o)} ${Z.svgRound(l)}) scale(${f} ${p}) translate(${Z.svgRound(-o)} ${Z.svgRound(-l)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[o,l]=k(this,dn,Ls).call(this),c=a(this,Nn),[u,d,h,f]=c;if(c[0]=t,c[1]=i,c[2]=r,c[3]=s,Math.abs(h-o)<=Z.PRECISION||Math.abs(f-l)<=Z.PRECISION){const g=t+r/2-(u+h/2),x=i+s/2-(d+f/2);for(const{line:b,points:A}of a(this,Ai))Z._translate(b,g,x,b),Z._translate(A,g,x,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*o)/(h-2*o),y=(s-2*l)/(f-2*l),m=-p*(u+o)+t+o,w=-y*(d+l)+i+l;if(p!==1||y!==1||m!==0||w!==0)for(const{line:g,points:x}of a(this,Ai))Z._rescale(g,m,w,p,y,g),Z._rescale(x,m,w,p,y,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,o]=r,l=a(this,Nn),c=t-l[0],u=i-l[1];if(a(this,ps)===s&&a(this,ms)===o)for(const{line:d,points:h}of a(this,Ai))Z._translate(d,c,u,d),Z._translate(h,c,u,h);else{const d=a(this,ps)/s,h=a(this,ms)/o;v(this,ps,s),v(this,ms,o);for(const{line:f,points:p}of a(this,Ai))Z._rescale(f,c,u,d,h,f),Z._rescale(p,c,u,d,h,p);l[2]*=d,l[3]*=h}return l[0]=t,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Z.svgRound(t)} ${Z.svgRound(i)}`}}}get defaultSVGProperties(){const t=a(this,Nn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Z.svgRound(t[0])} ${Z.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Nn=new WeakMap,fg=new WeakMap,pg=new WeakMap,Ai=new WeakMap,ps=new WeakMap,ms=new WeakMap,Th=new WeakMap,_h=new WeakMap,zc=new WeakMap,dn=new WeakSet,Ls=function(t=a(this,zc)){const i=a(this,pg)+t/2*a(this,Th);return a(this,_h)%180===0?[i/a(this,ps),i/a(this,ms)]:[i/a(this,ms),i/a(this,ps)]},wL=function(){const[t,i,r,s]=a(this,Nn),[o,l]=k(this,dn,Ls).call(this,0);return[t+o,i+l,r-2*o,s-2*l]},bL=function(){const t=v(this,Nn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of a(this,Ai)){if(s.length<=12){for(let c=4,u=s.length;c<u;c+=6)J.pointBoundingBox(s[c],s[c+1],t);continue}let o=s[4],l=s[5];for(let c=6,u=s.length;c<u;c+=6){const[d,h,f,p,y,m]=s.subarray(c,c+6);J.bezierBoundingBox(o,l,d,h,f,p,y,m,t),o=y,l=m}}const[i,r]=k(this,dn,Ls).call(this);t[0]=Cn(t[0]-i,0,1),t[1]=Cn(t[1]-r,0,1),t[2]=Cn(t[2]+i,0,1),t[3]=Cn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},SL=function(t){const[i,r]=k(this,dn,Ls).call(this);v(this,zc,t);const[s,o]=k(this,dn,Ls).call(this),[l,c]=[s-i,o-r],u=a(this,Nn);return u[0]-=l,u[1]-=c,u[2]+=2*l,u[3]+=2*c,u};class ow extends yL{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ye._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new ow(this._viewParameters);return e.updateAll(this),e}}var bx,EL;const zu=class zu extends Zy{constructor(t){super({...t,name:"inkEditor"});S(this,bx);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Ye.initialize(t,i),this._defaultDrawingOptions=new ow(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return pe(this,"typesMap",new Map([[be.INK_THICKNESS,"stroke-width"],[be.INK_COLOR,"stroke"],[be.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,o){return new lU(t,i,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,o,l){return Rg.deserialize(t,i,r,s,o,l)}static async deserialize(t,i,r){let s=null;if(t instanceof jE){const{data:{inkLists:l,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:y,richText:m,contentsObj:w,creationDate:g,modificationDate:x},parent:{page:{pageNumber:b}}}=t;s=t={annotationType:le.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:l},boxes:null,pageIndex:b-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:y,richText:m,comment:(w==null?void 0:w.str)||null,creationDate:g,modificationDate:x}}const o=await super.deserialize(t,i,r);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Ky(this)),[["colorPicker",this._colorPicker]]}get colorType(){return be.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=zu.getDefaultDrawingOptions({stroke:J.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Ye._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:i,points:r}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!k(this,bx,EL).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};bx=new WeakSet,EL=function(t){const{color:i,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==i[c])||t.thickness!==r||t.opacity!==s||t.pageIndex!==o},V(zu,"_type","ink"),V(zu,"_editorType",le.INK),V(zu,"_defaultDrawingOptions",null);let $S=zu;class US extends Rg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const uv=8,xf=3;var $c,Re,HS,Cr,AL,CL,VS,ny,kL,TL,_L,WS,GS,PL;class bs{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,o,l,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${i} ${r} ${h}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:y,actualBoundingBoxAscent:m,actualBoundingBoxDescent:w,fontBoundingBoxAscent:g,fontBoundingBoxDescent:x,width:b}=d.measureText(e),A=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(y)||0,b)*A),_=Math.ceil(Math.max(Math.abs(m)+Math.abs(w)||h,Math.abs(g)+Math.abs(x)||h)*A);u=new OffscreenCanvas(T,_),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,T,_),d.fillStyle="black",d.fillText(e,T*(A-1)/2,_*(3-A)/2);const P=k(this,Re,WS).call(this,d.getImageData(0,0,T,_).data),R=k(this,Re,_L).call(this,P),D=k(this,Re,GS).call(this,R),L=k(this,Re,VS).call(this,P,T,_,D);return this.processDrawnLines({lines:{curves:L,width:T,height:_},pageWidth:s,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[o,l,c]=k(this,Re,PL).call(this,e),[u,d]=k(this,Re,TL).call(this,o,l,c,Math.hypot(l,c)*a(this,$c).sigmaSFactor,a(this,$c).sigmaR,a(this,$c).kernelSize),h=k(this,Re,GS).call(this,d),f=k(this,Re,VS).call(this,u,l,c,h);return this.processDrawnLines({lines:{curves:f,width:l,height:c},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:o,areContours:l}){r%180!==0&&([t,i]=[i,t]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(t/u,i/d),y=p/t,m=p/i,w=[];for(const{points:x}of c){const b=o?k(this,Re,kL).call(this,x):x;if(!b)continue;w.push(b);const A=b.length,T=new Float32Array(A),_=new Float32Array(3*(A===2?2:A-2));if(f.push({line:_,points:T}),A===2){T[0]=b[0]*y,T[1]=b[1]*m,_.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[P,R,D,L]=b;P*=y,R*=m,D*=y,L*=m,T.set([P,R,D,L],0),_.set([NaN,NaN,NaN,NaN,P,R],0);for(let F=4;F<A;F+=2){const j=T[F]=b[F]*y,$=T[F+1]=b[F+1]*m;_.set(Z.createBezierPoints(P,R,D,L,j,$),(F-2)*3),[P,R,D,L]=[D,L,j,$]}}if(f.length===0)return null;const g=l?new US:new Rg;return g.build(f,t,i,1,r,l?0:h,s),{outline:g,newCurves:w,areContours:l,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let o=1/0,l=-1/0,c=0;for(const b of e){c+=b.length;for(let A=2,T=b.length;A<T;A++){const _=b[A]-b[A-2];o=Math.min(o,_),l=Math.max(l,_)}}let u;o>=-128&&l<=127?u=Int8Array:o>=-32768&&l<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=uv+xf*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=s,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const b of e)f[p++]=b.length-2,f[p++]=b[0],f[p++]=b[1];const y=new CompressionStream("deflate-raw"),m=y.writable.getWriter();await m.ready,m.write(f);const w=u.prototype.constructor;for(const b of e){const A=new w(b.length-2);for(let T=2,_=b.length;T<_;T++)A[T-2]=b[T]-b[T-2];m.write(A)}m.close();const g=await new Response(y.readable).arrayBuffer(),x=new Uint8Array(g);return kD(x)}static async decompressSignature(e){try{const t=L4(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,l=0;for await(const b of i)o||(o=new Uint8Array(new Uint32Array(b.buffer,0,4)[0])),o.set(b,l),l+=b.length;const c=new Uint32Array(o.buffer,0,o.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],y=c[6],m=c[7],w=[],g=(uv+xf*y)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(m){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(o.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(o.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(o.buffer,g);break}l=0;for(let b=0;b<y;b++){const A=c[xf*b+uv],T=new Float32Array(A+2);w.push(T);for(let _=0;_<xf-1;_++)T[_]=c[xf*b+uv+_+1];for(let _=0;_<A;_++)T[_+2]=T[_]+x[l++]}return{areContours:f,thickness:p,outlines:w,width:d,height:h}}catch(t){return ce(`decompressSignature: ${t}`),null}}}$c=new WeakMap,Re=new WeakSet,HS=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},Cr=new WeakMap,AL=function(e,t,i,r,s,o,l){const c=k(this,Re,HS).call(this,i,r,s,o);for(let u=0;u<8;u++){const d=(-u+c-l+16)%8,h=a(this,Cr)[2*d],f=a(this,Cr)[2*d+1];if(e[(i+h)*t+(r+f)]!==0)return d}return-1},CL=function(e,t,i,r,s,o,l){const c=k(this,Re,HS).call(this,i,r,s,o);for(let u=0;u<8;u++){const d=(u+c+l+16)%8,h=a(this,Cr)[2*d],f=a(this,Cr)[2*d+1];if(e[(i+h)*t+(r+f)]!==0)return d}return-1},VS=function(e,t,i,r){const s=e.length,o=new Int32Array(s);for(let d=0;d<s;d++)o[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)o[d*t]=o[d*t+t-1]=0;for(let d=0;d<t;d++)o[d]=o[t*i-1-d]=0;let l=1,c;const u=[];for(let d=1;d<i-1;d++){c=1;for(let h=1;h<t-1;h++){const f=d*t+h,p=o[f];if(p===0)continue;let y=d,m=h;if(p===1&&o[f-1]===0)l+=1,m-=1;else if(p>=1&&o[f+1]===0)l+=1,m+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const w=[h,d],g=m===h+1,x={isHole:g,points:w,id:l,parent:0};u.push(x);let b;for(const F of u)if(F.id===c){b=F;break}b?b.isHole?x.parent=g?b.parent:c:x.parent=g?c:b.parent:x.parent=g?c:0;const A=k(this,Re,AL).call(this,o,t,d,h,y,m,0);if(A===-1){o[f]=-l,o[f]!==1&&(c=Math.abs(o[f]));continue}let T=a(this,Cr)[2*A],_=a(this,Cr)[2*A+1];const P=d+T,R=h+_;y=P,m=R;let D=d,L=h;for(;;){const F=k(this,Re,CL).call(this,o,t,D,L,y,m,1);T=a(this,Cr)[2*F],_=a(this,Cr)[2*F+1];const j=D+T,$=L+_;w.push($,j);const N=D*t+L;if(o[N+1]===0?o[N]=-l:o[N]===1&&(o[N]=l),j===d&&$===h&&D===P&&L===R){o[f]!==1&&(c=Math.abs(o[f]));break}else y=D,m=L,D=j,L=$}}}return u},ny=function(e,t,i,r){if(i-t<=4){for(let P=t;P<i-2;P+=2)r.push(e[P],e[P+1]);return}const s=e[t],o=e[t+1],l=e[i-4]-s,c=e[i-3]-o,u=Math.hypot(l,c),d=l/u,h=c/u,f=d*o-h*s,p=c/l,y=1/u,m=Math.atan(p),w=Math.cos(m),g=Math.sin(m),x=y*(Math.abs(w)+Math.abs(g)),b=y*(1-x+x**2),A=Math.max(Math.atan(Math.abs(g+w)*b),Math.atan(Math.abs(g-w)*b));let T=0,_=t;for(let P=t+2;P<i-2;P+=2){const R=Math.abs(f-d*e[P+1]+h*e[P]);R>T&&(_=P,T=R)}T>(u*A)**2?(k(this,Re,ny).call(this,e,t,_+2,r),k(this,Re,ny).call(this,e,_,i,r)):r.push(s,o)},kL=function(e){const t=[],i=e.length;return k(this,Re,ny).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},TL=function(e,t,i,r,s,o){const l=new Float32Array(o**2),c=-2*r**2,u=o>>1;for(let m=0;m<o;m++){const w=(m-u)**2;for(let g=0;g<o;g++)l[m*o+g]=Math.exp((w+(g-u)**2)/c)}const d=new Float32Array(256),h=-2*s**2;for(let m=0;m<256;m++)d[m]=Math.exp(m**2/h);const f=e.length,p=new Uint8Array(f),y=new Uint32Array(256);for(let m=0;m<i;m++)for(let w=0;w<t;w++){const g=m*t+w,x=e[g];let b=0,A=0;for(let _=0;_<o;_++){const P=m+_-u;if(!(P<0||P>=i))for(let R=0;R<o;R++){const D=w+R-u;if(D<0||D>=t)continue;const L=e[P*t+D],F=l[_*o+R]*d[Math.abs(L-x)];b+=L*F,A+=F}}const T=p[g]=Math.round(b/A);y[T]++}return[p,y]},_L=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},WS=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let l=0,c=i.length;l<c;l++){const u=i[l]=e[l<<2];r=Math.max(r,u),s=Math.min(s,u)}const o=255/(r-s);for(let l=0,c=i.length;l<c;l++)i[l]=(i[l]-s)*o;return i},GS=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(c=>c!==0);let o=s,l=s;for(t=s;t<256;t++){const c=e[t];c>i&&(t-o>r&&(r=t-o,l=t-1),i=c,o=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},PL=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=a(this,$c);let o=i,l=r;if(i>s||r>s){let f=i,p=r,y=Math.log2(Math.max(i,r)/s);const m=Math.floor(y);y=y===m?m-1:m;for(let g=0;g<y;g++){o=Math.ceil(f/2),l=Math.ceil(p/2);const x=new OffscreenCanvas(o,l);x.getContext("2d").drawImage(e,0,0,f,p,0,0,o,l),f=o,p=l,e!==t&&e.close(),e=x.transferToImageBitmap()}const w=Math.min(s/o,s/l);o=Math.round(o*w),l=Math.round(l*w)}const u=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,o,l),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,o,l);const d=u.getImageData(0,0,o,l).data;return[k(this,Re,WS).call(this,d),o,l]},S(bs,Re),S(bs,$c,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(bs,Cr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class zE extends yL{constructor(){super(),super.updateProperties({fill:Ye._defaultLineColor,"stroke-width":0})}clone(){const e=new zE;return e.updateAll(this),e}}class $E extends ow{constructor(e){super(e),super.updateProperties({stroke:Ye._defaultLineColor,"stroke-width":1})}clone(){const e=new $E(this._viewParameters);return e.updateAll(this),e}}var ja,gs,Ba,Uc;const ai=class ai extends Zy{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,ja,!1);S(this,gs,null);S(this,Ba,null);S(this,Uc,null);this._willKeepAspectRatio=!0,v(this,Ba,t.signatureData||null),v(this,gs,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Ye.initialize(t,i),this._defaultDrawingOptions=new zE,this._defaultDrawnSignatureOptions=new $E(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return pe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!a(this,gs)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(a(this,Ba)){const{lines:s,mustSmooth:o,areContours:l,description:c,uuid:u,heightInPage:d}=a(this,Ba),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,y=bs.processDrawnLines({lines:s,pageWidth:h,pageHeight:f,rotation:p,innerMargin:ai._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(y,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:a(this,gs)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){v(this,Uc,t),this.addEditToolbar()}getUuid(){return a(this,Uc)}get description(){return a(this,gs)}set description(t){v(this,gs,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:o}=a(this,Ba),l=Math.max(s,o),c=bs.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:r,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:o,y:l}=this,{outline:c}=v(this,Ba,t);v(this,ja,c instanceof US),this.description=r;let u;a(this,ja)?u=ai.getDefaultDrawingOptions():(u=ai._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return bs.process(t,i,r,s,ai._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:o}=this.parent.viewport;return bs.extractContoursFromText(t,i,r,s,o,ai._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return bs.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:ai._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=ai.getDefaultDrawingOptions():(this._drawingOptions=ai._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:a(this,ja),color:[0,0,0],thickness:a(this,ja)?0:s});return this.addComment(o),t?(o.paths={lines:i,points:r},o.uuid=a(this,Uc),o.isCopy=!0):o.lines=i,a(this,gs)&&(o.accessibilityData={type:"Figure",alt:a(this,gs)}),o}static deserializeDraw(t,i,r,s,o,l){return l.areContours?US.deserialize(t,i,r,s,o,l):Rg.deserialize(t,i,r,s,o,l)}static async deserialize(t,i,r){var o;const s=await super.deserialize(t,i,r);return v(s,ja,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",v(s,Uc,t.uuid),s}};ja=new WeakMap,gs=new WeakMap,Ba=new WeakMap,Uc=new WeakMap,V(ai,"_type","signature"),V(ai,"_editorType",le.SIGNATURE),V(ai,"_defaultDrawingOptions",null);let qS=ai;var rt,Qt,za,mo,$a,Ph,go,Hc,vs,Ci,Rh,Te,Hf,Vf,iy,ry,sy,KS,oy,RL;class XS extends Ye{constructor(t){super({...t,name:"stampEditor"});S(this,Te);S(this,rt,null);S(this,Qt,null);S(this,za,null);S(this,mo,null);S(this,$a,null);S(this,Ph,"");S(this,go,null);S(this,Hc,!1);S(this,vs,null);S(this,Ci,!1);S(this,Rh,!1);v(this,mo,t.bitmapUrl),v(this,$a,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Ye.initialize(t,i)}static isHandlingMimeForPasting(t){return Vy.includes(t)}static paste(t,i){i.pasteEditor({mode:le.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;a(this,Qt)&&(v(this,rt,null),this._uiManager.imageManager.deleteId(a(this,Qt)),(t=a(this,go))==null||t.remove(),v(this,go,null),a(this,vs)&&(clearTimeout(a(this,vs)),v(this,vs,null))),super.remove()}rebuild(){if(!this.parent){a(this,Qt)&&k(this,Te,iy).call(this);return}super.rebuild(),this.div!==null&&(a(this,Qt)&&a(this,go)===null&&k(this,Te,iy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(a(this,za)||a(this,rt)||a(this,mo)||a(this,$a)||a(this,Qt)||a(this,Hc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),a(this,Hc)||(a(this,rt)?k(this,Te,ry).call(this):k(this,Te,iy).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(v(this,Qt,r),s&&v(this,rt,s),v(this,Hc,!1),k(this,Te,ry).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;a(this,vs)!==null&&clearTimeout(a(this,vs)),v(this,vs,setTimeout(()=>{v(this,vs,null),k(this,Te,KS).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:o}=a(this,rt),l=new Ir;let c=a(this,rt),u=s,d=o,h=null;if(i){if(s>i||o>i){const P=Math.min(i/s,i/o);u=Math.floor(s*P),d=Math.floor(o*P)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*l.sx),y=h.height=Math.ceil(d*l.sy);a(this,Ci)||(c=k(this,Te,sy).call(this,p,y));const m=h.getContext("2d");m.filter=this._uiManager.hcmFilter;let w="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":I4.isDarkMode&&(w="#8f8f9d",g="#42414d");const x=15,b=x*l.sx,A=x*l.sy,T=new OffscreenCanvas(b*2,A*2),_=T.getContext("2d");_.fillStyle=w,_.fillRect(0,0,b*2,A*2),_.fillStyle=g,_.fillRect(0,0,b,A),_.fillRect(b,A,b,A),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,p,y),m.drawImage(c,0,0,c.width,c.height,0,0,p,y)}let f=null;if(r){let p,y;if(l.symmetric&&c.width<t&&c.height<t)p=c.width,y=c.height;else if(c=a(this,rt),s>t||o>t){const g=Math.min(t/s,t/o);p=Math.floor(s*g),y=Math.floor(o*g),a(this,Ci)||(c=k(this,Te,sy).call(this,p,y))}const w=new OffscreenCanvas(p,y).getContext("2d",{willReadFrequently:!0});w.drawImage(c,0,0,c.width,c.height,0,0,p,y),f={width:p,height:y,data:w.getImageData(0,0,p,y).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(t,i,r){var w;let s=null,o=!1;if(t instanceof GM){const{data:{rect:g,rotation:x,id:b,structParent:A,popupRef:T,richText:_,contentsObj:P,creationDate:R,modificationDate:D},container:L,parent:{page:{pageNumber:F}},canvas:j}=t;let $,N;j?(delete t.canvas,{id:$,bitmap:N}=r.imageManager.getFromCanvas(L.id,j),j.remove()):(o=!0,t._hasNoCanvas=!0);const U=((w=await i._structTree.getAriaAttributes(`${PE}${b}`))==null?void 0:w.get("aria-label"))||"";s=t={annotationType:le.STAMP,bitmapId:$,bitmap:N,pageIndex:F-1,rect:g.slice(0),rotation:x,annotationElementId:b,id:b,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:A,popupRef:T,richText:_,comment:(P==null?void 0:P.str)||null,creationDate:R,modificationDate:D}}const l=await super.deserialize(t,i,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=t;o?(r.addMissingCanvas(t.id,l),v(l,Hc,!0)):h&&r.imageManager.isValidId(h)?(v(l,Qt,h),u&&v(l,rt,u)):v(l,mo,d),v(l,Ci,f);const[y,m]=l.pageDimensions;return l.width=(c[2]-c[0])/y,l.height=(c[3]-c[1])/m,p&&(l.altTextData=p),l._initialData=s,t.comment&&l.setCommentData(t),v(l,Rh,!!s),l}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:a(this,Qt),isSvg:a(this,Ci)});if(this.addComment(r),t)return r.bitmapUrl=k(this,Te,oy).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=k(this,Te,RL).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const l=a(this,Ci)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(a(this,Qt)))i.stamps.set(a(this,Qt),{area:l,serialized:r}),r.bitmap=k(this,Te,oy).call(this,!1);else if(a(this,Ci)){const c=i.stamps.get(a(this,Qt));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=k(this,Te,oy).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}rt=new WeakMap,Qt=new WeakMap,za=new WeakMap,mo=new WeakMap,$a=new WeakMap,Ph=new WeakMap,go=new WeakMap,Hc=new WeakMap,vs=new WeakMap,Ci=new WeakMap,Rh=new WeakMap,Te=new WeakSet,Hf=function(t,i=!1){if(!t){this.remove();return}v(this,rt,t.bitmap),i||(v(this,Qt,t.id),v(this,Ci,t.isSvg)),t.file&&v(this,Ph,t.file.name),k(this,Te,ry).call(this)},Vf=function(){if(v(this,za,null),this._uiManager.enableWaiting(!1),!!a(this,go)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,rt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&a(this,rt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},iy=function(){if(a(this,Qt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(a(this,Qt)).then(r=>k(this,Te,Hf).call(this,r,!0)).finally(()=>k(this,Te,Vf).call(this));return}if(a(this,mo)){const r=a(this,mo);v(this,mo,null),this._uiManager.enableWaiting(!0),v(this,za,this._uiManager.imageManager.getFromUrl(r).then(s=>k(this,Te,Hf).call(this,s)).finally(()=>k(this,Te,Vf).call(this)));return}if(a(this,$a)){const r=a(this,$a);v(this,$a,null),this._uiManager.enableWaiting(!0),v(this,za,this._uiManager.imageManager.getFromFile(r).then(s=>k(this,Te,Hf).call(this,s)).finally(()=>k(this,Te,Vf).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Vy.join(",");const i=this._uiManager._signal;v(this,za,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,Te,Hf).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>k(this,Te,Vf).call(this))),t.click()},ry=function(){var u;const{div:t}=this;let{width:i,height:r}=a(this,rt);const[s,o]=this.pageDimensions,l=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>l*s||r>l*o){const d=Math.min(l*s/i,l*o/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const c=v(this,go,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/s,this.height=r/o,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,Te,KS).call(this),a(this,Rh)||(this.parent.addUndoableEditor(this),v(this,Rh,!0)),this._reportTelemetry({action:"inserted_image"}),a(this,Ph)&&this.div.setAttribute("aria-description",a(this,Ph)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},sy=function(t,i){const{width:r,height:s}=a(this,rt);let o=r,l=s,c=a(this,rt);for(;o>2*t||l>2*i;){const u=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const h=new OffscreenCanvas(o,l);h.getContext("2d").drawImage(c,0,0,u,d,0,0,o,l),c=h.transferToImageBitmap()}return c},KS=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,o=new Ir,l=Math.ceil(r*t*o.sx),c=Math.ceil(s*i*o.sy),u=a(this,go);if(!u||u.width===l&&u.height===c)return;u.width=l,u.height=c;const d=a(this,Ci)?a(this,rt):k(this,Te,sy).call(this,l,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,l,c)},oy=function(t){if(t){if(a(this,Ci)){const s=this._uiManager.imageManager.getSvgUrl(a(this,Qt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=a(this,rt),i.getContext("2d").drawImage(a(this,rt),0,0),i.toDataURL()}if(a(this,Ci)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*Lo.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*Lo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(a(this,rt),0,0,a(this,rt).width,a(this,rt).height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(a(this,rt))},RL=function(t){var l;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,o=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},V(XS,"_type","stamp"),V(XS,"_editorType",le.STAMP);var Vc,Dh,Ua,Ha,vo,Jn,Va,Mh,Lh,kr,yo,Zt,xo,Wa,Nh,ne,Ga,We,YS,DL,Vr,QS,ZS,ay;const hr=class hr{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:l,textLayer:c,viewport:u,l10n:d}){S(this,We);S(this,Vc);S(this,Dh,!1);S(this,Ua,null);S(this,Ha,null);S(this,vo,null);S(this,Jn,new Map);S(this,Va,!1);S(this,Mh,!1);S(this,Lh,!1);S(this,kr,null);S(this,yo,null);S(this,Zt,null);S(this,xo,null);S(this,Wa,null);S(this,Nh,-1);S(this,ne);const h=[...a(hr,Ga).values()];if(!hr._initialized){hr._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),v(this,ne,e),this.pageIndex=t,this.div=i,v(this,Vc,s),v(this,Ua,o),this.viewport=u,v(this,Zt,c),this.drawLayer=l,this._structTree=r,a(this,ne).addLayer(this)}get isEmpty(){return a(this,Jn).size===0}get isInvisible(){return this.isEmpty&&a(this,ne).getMode()===le.NONE}updateToolbar(e){a(this,ne).updateToolbar(e)}updateMode(e=a(this,ne).getMode()){switch(k(this,We,ay).call(this),e){case le.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===le.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of a(hr,Ga).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=a(this,Zt))==null?void 0:t.div)}setEditingState(e){a(this,ne).setEditingState(e)}addCommands(e){a(this,ne).addCommands(e)}cleanUndoStack(e){a(this,ne).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=a(this,Ua))==null||t.div.classList.toggle("disabled",!e)}async enable(){var i;v(this,Lh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=a(this,Wa))==null||i.abort(),v(this,Wa,null);const e=new Set;for(const r of a(this,We,YS))r.enableEditing(),r.show(!0),r.annotationElementId&&(a(this,ne).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=a(this,Ua);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),a(this,ne).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}v(this,Lh,!1),a(this,ne)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(v(this,Mh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),a(this,Zt)&&!a(this,Wa)){v(this,Wa,new AbortController);const r=a(this,ne).combinedSignal(a(this,Wa));a(this,Zt).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:u}=s,d=a(this,Nh);if(u-d>500){v(this,Nh,u);return}v(this,Nh,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const f=document.elementsFromPoint(l,c);if(h.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const y=new RegExp(`^${kp}[0-9]+$`);for(const w of f)if(y.test(w.id)){p=w.id;break}if(!p)return;const m=a(this,Jn).get(p);(m==null?void 0:m.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),m.dblclick(s))},{signal:r,capture:!0})}const e=a(this,Ua);if(e){const r=new Map,s=new Map;for(const l of a(this,We,YS)){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){r.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(a(this,ne).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=s.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=r.get(c),u&&(a(this,ne).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}k(this,We,ay).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const r of a(hr,Ga).values())t.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),v(this,Mh,!1)}getEditableAnnotation(e){var t;return((t=a(this,Ua))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){a(this,ne).getActive()!==e&&a(this,ne).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=a(this,Zt))!=null&&e.div&&!a(this,xo)){v(this,xo,new AbortController);const t=a(this,ne).combinedSignal(a(this,xo));a(this,Zt).div.addEventListener("pointerdown",k(this,We,DL).bind(this),{signal:t}),a(this,Zt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=a(this,Zt))!=null&&e.div&&a(this,xo)&&(a(this,xo).abort(),v(this,xo,null),a(this,Zt).div.classList.remove("highlighting"))}enableClick(){if(a(this,Ha))return;v(this,Ha,new AbortController);const e=a(this,ne).combinedSignal(a(this,Ha));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=a(this,Ha))==null||e.abort(),v(this,Ha,null)}attach(e){a(this,Jn).set(e.id,e);const{annotationElementId:t}=e;t&&a(this,ne).isDeletedAnnotationElement(t)&&a(this,ne).removeDeletedAnnotationElement(e)}detach(e){var t;a(this,Jn).delete(e.id),(t=a(this,Vc))==null||t.removePointerInTextLayer(e.contentDiv),!a(this,Mh)&&e.annotationElementId&&a(this,ne).addDeletedAnnotationElement(e)}remove(e){this.detach(e),a(this,ne).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(a(this,ne).addDeletedAnnotationElement(e.annotationElementId),Ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),a(this,ne).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!a(this,Lh)),a(this,ne).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!a(this,vo)&&(e._focusEventsAllowed=!1,v(this,vo,setTimeout(()=>{v(this,vo,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:a(this,ne)._signal}),t.focus())},0))),e._structTreeParentId=(i=a(this,Vc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of a(this,Jn).values())if(t.uid===e)return t;return null}getNextId(){return a(this,ne).getId()}combinedSignal(e){return a(this,ne).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=a(this,We,Vr))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await a(this,ne).updateMode(e.mode);const{offsetX:i,offsetY:r}=k(this,We,ZS).call(this),s=this.getNextId(),o=k(this,We,QS).call(this,{parent:this,id:s,x:i,y:r,uiManager:a(this,ne),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=a(hr,Ga).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,a(this,ne)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=k(this,We,QS).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:a(this,ne),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,We,ZS).call(this),!0,e)}setSelected(e){a(this,ne).setSelected(e)}toggleSelected(e){a(this,ne).toggleSelected(e)}unselect(e){a(this,ne).unselect(e)}pointerup(e){var r;const{isMac:t}=tn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!a(this,Va)||(v(this,Va,!1),(r=a(this,We,Vr))!=null&&r.isDrawer&&a(this,We,Vr).supportMultipleDrawings))return;if(!a(this,Dh)){v(this,Dh,!0);return}const i=a(this,ne).getMode();if(i===le.STAMP||i===le.SIGNATURE){a(this,ne).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(a(this,ne).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),a(this,Va)){v(this,Va,!1);return}const{isMac:t}=tn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(v(this,Va,!0),(r=a(this,We,Vr))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=a(this,ne).getActive();v(this,Dh,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),a(this,kr)){a(this,We,Vr).startDrawing(this,a(this,ne),!1,e);return}a(this,ne).setCurrentDrawingSession(this),v(this,kr,new AbortController);const t=a(this,ne).combinedSignal(a(this,kr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(v(this,yo,null),this.commitOrRemove())},{signal:t}),a(this,We,Vr).startDrawing(this,a(this,ne),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&v(this,yo,t);return}a(this,yo)&&setTimeout(()=>{var t;(t=a(this,yo))==null||t.focus(),v(this,yo,null)},0)}endDrawingSession(e=!1){return a(this,kr)?(a(this,ne).setCurrentDrawingSession(null),a(this,kr).abort(),v(this,kr,null),v(this,yo,null),a(this,We,Vr).endDrawing(e)):null}findNewParent(e,t,i){const r=a(this,ne).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return a(this,kr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){a(this,kr)&&a(this,We,Vr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=a(this,ne).getActive())==null?void 0:e.parent)===this&&(a(this,ne).commitOrRemove(),a(this,ne).setActiveEditor(null)),a(this,vo)&&(clearTimeout(a(this,vo)),v(this,vo,null));for(const i of a(this,Jn).values())(t=a(this,Vc))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,a(this,Jn).clear(),a(this,ne).removeLayer(this)}render({viewport:e}){this.viewport=e,cl(this.div,e);for(const t of a(this,ne).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){a(this,ne).commitOrRemove(),k(this,We,ay).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,cl(this.div,{rotation:i}),t!==i)for(const r of a(this,Jn).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return a(this,ne).viewParameters.realScale}};Vc=new WeakMap,Dh=new WeakMap,Ua=new WeakMap,Ha=new WeakMap,vo=new WeakMap,Jn=new WeakMap,Va=new WeakMap,Mh=new WeakMap,Lh=new WeakMap,kr=new WeakMap,yo=new WeakMap,Zt=new WeakMap,xo=new WeakMap,Wa=new WeakMap,Nh=new WeakMap,ne=new WeakMap,Ga=new WeakMap,We=new WeakSet,YS=function(){return a(this,Jn).size!==0?a(this,Jn).values():a(this,ne).getEditors(this.pageIndex)},DL=function(e){a(this,ne).unselectAll();const{target:t}=e;if(t===a(this,Zt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&a(this,Zt).div.contains(t)){const{isMac:i}=tn.platform;if(e.button!==0||e.ctrlKey&&i)return;a(this,ne).showAllEditors("highlight",!0,!0),a(this,Zt).div.classList.add("free"),this.toggleDrawing(),Qy.startHighlighting(this,a(this,ne).direction==="ltr",{target:a(this,Zt).div,x:e.x,y:e.y}),a(this,Zt).div.addEventListener("pointerup",()=>{a(this,Zt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:a(this,ne)._signal}),e.preventDefault()}},Vr=function(){return a(hr,Ga).get(a(this,ne).getMode())},QS=function(e){const t=a(this,We,Vr);return t?new t.prototype.constructor(e):null},ZS=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),l=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+r),u=(s+l)/2-e,d=(o+c)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},ay=function(){for(const e of a(this,Jn).values())e.isEmpty()&&e.remove()},V(hr,"_initialized",!1),S(hr,Ga,new Map([DS,$S,XS,Qy,qS].map(e=>[e._editorType,e])));let Jy=hr;var Tr,Fn,Wc,mg,Sx,ML,ks,JS,LL,e1;const Bt=class Bt{constructor({pageIndex:e}){S(this,ks);S(this,Tr,null);S(this,Fn,new Map);S(this,Wc,new Map);this.pageIndex=e}setParent(e){if(!a(this,Tr)){v(this,Tr,e);return}if(a(this,Tr)!==e){if(a(this,Fn).size>0)for(const t of a(this,Fn).values())t.remove(),e.append(t);v(this,Tr,e)}}static get _svgFactory(){return pe(this,"_svgFactory",new Lp)}draw(e,t=!1,i=!1){const r=yt(Bt,mg)._++,s=k(this,ks,JS).call(this),o=Bt._svgFactory.createElement("defs");s.append(o);const l=Bt._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${r}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&a(this,Wc).set(r,l);const u=i?k(this,ks,LL).call(this,o,c):null,d=Bt._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(s,e),a(this,Fn).set(r,s),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,t){const i=yt(Bt,mg)._++,r=k(this,ks,JS).call(this),s=Bt._svgFactory.createElement("defs");r.append(s);const o=Bt._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const h=Bt._svgFactory.createElement("mask");s.append(h),c=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Bt._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Bt._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${l}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Bt._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${l}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),a(this,Fn).set(i,r),i}finalizeDraw(e,t){a(this,Wc).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:r,rootClass:s,path:o}=t,l=typeof e=="number"?a(this,Fn).get(e):e;if(l){if(i&&k(this,ks,e1).call(this,l,i),r&&k(c=Bt,Sx,ML).call(c,l,r),s){const{classList:u}=l;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(o){const d=l.firstChild.firstChild;k(this,ks,e1).call(this,d,o)}}}updateParent(e,t){if(t===this)return;const i=a(this,Fn).get(e);i&&(a(t,Tr).append(i),a(this,Fn).delete(e),a(t,Fn).set(e,i))}remove(e){a(this,Wc).delete(e),a(this,Tr)!==null&&(a(this,Fn).get(e).remove(),a(this,Fn).delete(e))}destroy(){v(this,Tr,null);for(const e of a(this,Fn).values())e.remove();a(this,Fn).clear(),a(this,Wc).clear()}};Tr=new WeakMap,Fn=new WeakMap,Wc=new WeakMap,mg=new WeakMap,Sx=new WeakSet,ML=function(e,[t,i,r,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},ks=new WeakSet,JS=function(){const e=Bt._svgFactory.create(1,1,!0);return a(this,Tr).append(e),e.setAttribute("aria-hidden",!0),e},LL=function(e,t){const i=Bt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Bt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},e1=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},S(Bt,Sx),S(Bt,mg,0);let ex=Bt;globalThis._pdfjsTestingUtils={HighlightOutliner:LS};globalThis.pdfjsLib={AbortException:Mo,AnnotationEditorLayer:Jy,AnnotationEditorParamsType:be,AnnotationEditorType:le,AnnotationEditorUIManager:ul,AnnotationLayer:BE,AnnotationMode:ws,AnnotationType:Tt,applyOpacity:DD,build:NM,ColorPicker:Mp,createValidAbsoluteUrl:kE,CSSConstants:RD,DOMSVGFactory:Lp,DrawLayer:ex,FeatureTest:tn,fetchData:rf,findContrastColor:MD,getDocument:FE,getFilenameFromUrl:TD,getPdfFilenameFromUrl:_D,getRGB:sf,getUuid:_E,getXfaPageViewport:PD,GlobalWorkerOptions:Ht,ImageKind:np,InvalidPDFException:Hy,isDataScheme:Tg,isPdfFile:rw,isValidExplicitDest:dM,MathClamp:Cn,noContextMenu:Ii,normalizeUnicode:CD,OPS:Gh,OutputScale:Ir,PasswordResponses:ED,PDFDataRangeTransport:IE,PDFDateString:Pp,PDFWorker:qh,PermissionFlag:SD,PixelsPerInch:Lo,RenderingCancelledException:iw,renderRichText:DE,ResponseException:Tp,setLayerDimensions:cl,shadow:pe,SignatureExtractor:bs,stopEvent:ht,SupportedImageMimeTypes:Vy,TextLayer:Dp,TouchManager:Rp,updateUrlHash:TE,Util:J,VerbosityLevel:Ag,version:eu,XfaLayer:RE};const cU=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Mo,AnnotationEditorLayer:Jy,AnnotationEditorParamsType:be,AnnotationEditorType:le,AnnotationEditorUIManager:ul,AnnotationLayer:BE,AnnotationMode:ws,AnnotationType:Tt,CSSConstants:RD,ColorPicker:Mp,DOMSVGFactory:Lp,DrawLayer:ex,FeatureTest:tn,GlobalWorkerOptions:Ht,ImageKind:np,InvalidPDFException:Hy,MathClamp:Cn,OPS:Gh,OutputScale:Ir,PDFDataRangeTransport:IE,PDFDateString:Pp,PDFWorker:qh,PasswordResponses:ED,PermissionFlag:SD,PixelsPerInch:Lo,RenderingCancelledException:iw,ResponseException:Tp,SignatureExtractor:bs,SupportedImageMimeTypes:Vy,TextLayer:Dp,TouchManager:Rp,Util:J,VerbosityLevel:Ag,XfaLayer:RE,applyOpacity:DD,build:NM,createValidAbsoluteUrl:kE,fetchData:rf,findContrastColor:MD,getDocument:FE,getFilenameFromUrl:TD,getPdfFilenameFromUrl:_D,getRGB:sf,getUuid:_E,getXfaPageViewport:PD,isDataScheme:Tg,isPdfFile:rw,isValidExplicitDest:dM,noContextMenu:Ii,normalizeUnicode:CD,renderRichText:DE,setLayerDimensions:cl,shadow:pe,stopEvent:ht,updateUrlHash:TE,version:eu},Symbol.toStringTag,{value:"Module"}));var Lk=Object.prototype.hasOwnProperty;function Nk(n,e,t){for(t of n.keys())if(Qu(t,e))return t}function Qu(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&Qu(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=Nk(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=Nk(e,r),!r)||!Qu(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(Lk.call(n,t)&&++i&&!Lk.call(e,t)||!(t in e)||!Qu(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function Dg(n){let e=!1;return{promise:new Promise((i,r)=>{n.then(s=>!e&&i(s)).catch(s=>!e&&r(s))}),cancel(){e=!0}}}const uU=["onCopy","onCut","onPaste"],dU=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],hU=["onFocus","onBlur"],fU=["onInput","onInvalid","onReset","onSubmit"],pU=["onLoad","onError"],mU=["onKeyDown","onKeyPress","onKeyUp"],gU=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],vU=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],yU=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],xU=["onSelect"],wU=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],bU=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],SU=["onScroll"],EU=["onWheel"],AU=["onAnimationStart","onAnimationEnd","onAnimationIteration"],CU=["onTransitionEnd"],kU=["onToggle"],TU=["onChange"],_U=[...uU,...dU,...hU,...fU,...pU,...mU,...gU,...vU,...yU,...xU,...wU,...bU,...SU,...EU,...AU,...CU,...TU,...kU];function NL(n,e){const t={};for(const i of _U){const r=n[i];r&&(e?t[i]=s=>r(s,e(i)):t[i]=r)}return t}var PU="Invariant failed";function Ve(n,e){if(!n)throw new Error(PU)}var RU=function(){},DU=RU;const Tn=Ex(DU),FL=E.createContext(null),MU="noopener noreferrer nofollow";class LU{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ve(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Ve(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||MU,e.target=i?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Ve(this.pdfDocument),Ve(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Ve(Array.isArray(t));const i=t[0];new Promise(r=>{Ve(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{Ve(!1)}):typeof i=="number"?r(i):Ve(!1)}).then(r=>{const s=r+1;Ve(this.pdfViewer),Ve(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}goToPage(e){const t=e-1;Ve(this.pdfViewer),Ve(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Zu({children:n,type:e}){return C.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const Fk={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function NU(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Xh(){return E.useReducer(NU,{value:void 0,error:void 0})}const aw=typeof window<"u",IL=aw&&window.location.protocol==="file:";function FU(n){return typeof n<"u"}function gl(n){return FU(n)&&n!==null}function IU(n){return typeof n=="string"}function OU(n){return n instanceof ArrayBuffer}function jU(n){return Ve(aw),n instanceof Blob}function t1(n){return IU(n)&&/^data:/.test(n)}function Ik(n){Ve(t1(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function BU(){return aw&&window.devicePixelRatio||1}const OL="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ok(){Tn(!IL,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${OL}`)}function zU(){Tn(!IL,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${OL}`)}function nu(n){n!=null&&n.cancel&&n.cancel()}function n1(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function $U(n){return n.name==="RenderingCancelledException"}function UU(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:HU}=cU,VU=(n,e)=>{switch(e){case Fk.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Fk.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function jk(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const lw=E.forwardRef(function({children:e,className:t,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:s,file:o,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF",noData:d="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:p,onLoadSuccess:y,onPassword:m=VU,onSourceError:w,onSourceSuccess:g,options:x,renderMode:b,rotate:A,scale:T,..._},P){const[R,D]=Xh(),{value:L,error:F}=R,[j,$]=Xh(),{value:N,error:U}=j,O=E.useRef(new LU),z=E.useRef([]),M=E.useRef(void 0),I=E.useRef(void 0);o&&o!==M.current&&jk(o)&&(Tn(!Qu(o,M.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),M.current=o),x&&x!==I.current&&(Tn(!Qu(x,I.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),I.current=x);const W=E.useRef({scrollPageIntoView:ye=>{const{dest:Pe,pageNumber:tt,pageIndex:at=tt-1}=ye;if(h){h({dest:Pe,pageIndex:at,pageNumber:tt});return}const Pn=z.current[at];if(Pn){Pn.scrollIntoView();return}Tn(!1,`An internal link leading to page ${tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});E.useImperativeHandle(P,()=>({linkService:O,pages:z,viewer:W}),[]);function q(){g&&g()}function B(){F&&(Tn(!1,F.toString()),w&&w(F))}function H(){D({type:"RESET"})}E.useEffect(H,[o,D]);const Y=E.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return t1(o)?{data:Ik(o)}:(Ok(),{url:o});if(o instanceof HU)return{range:o};if(OU(o))return{data:o};if(aw&&jU(o))return{data:await UU(o)};if(Ve(typeof o=="object"),Ve(jk(o)),"url"in o&&typeof o.url=="string"){if(t1(o.url)){const{url:ye,...Pe}=o;return{data:Ik(ye),...Pe}}Ok()}return o},[o]);E.useEffect(()=>{const ye=Dg(Y());return ye.promise.then(Pe=>{D({type:"RESOLVE",value:Pe})}).catch(Pe=>{D({type:"REJECT",error:Pe})}),()=>{nu(ye)}},[Y,D]),E.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){B();return}q()}},[L]);function oe(){N&&(y&&y(N),z.current=new Array(N.numPages),O.current.setDocument(N))}function ae(){U&&(Tn(!1,U.toString()),f&&f(U))}E.useEffect(function(){$({type:"RESET"})},[$,L]),E.useEffect(function(){if(!L)return;const Pe=x?{...L,...x}:L,tt=FE(Pe);p&&(tt.onProgress=p),m&&(tt.onPassword=m);const at=tt,Pn=at.promise.then(cr=>{$({type:"RESOLVE",value:cr})}).catch(cr=>{at.destroyed||$({type:"REJECT",error:cr})});return()=>{Pn.finally(()=>at.destroy())}},[x,$,L]),E.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){ae();return}oe()}},[N]),E.useEffect(function(){O.current.setViewer(W.current),O.current.setExternalLinkRel(r),O.current.setExternalLinkTarget(s)},[r,s]);const ve=E.useCallback((ye,Pe)=>{z.current[ye]=Pe},[]),Ot=E.useCallback(ye=>{delete z.current[ye]},[]),kt=E.useMemo(()=>({imageResourcesPath:c,linkService:O.current,onItemClick:h,pdf:N,registerPage:ve,renderMode:b,rotate:A,scale:T,unregisterPage:Ot}),[c,h,N,ve,b,A,T,Ot]),se=E.useMemo(()=>NL(_,()=>N),[_,N]);function qe(){function ye(tt){return!!(tt!=null&&tt.pdf)}if(!ye(kt))throw new Error("pdf is undefined");const Pe=typeof e=="function"?e(kt):e;return C.jsx(FL.Provider,{value:kt,children:Pe})}function jt(){return o?N==null?C.jsx(Zu,{type:"loading",children:typeof u=="function"?u():u}):N===!1?C.jsx(Zu,{type:"error",children:typeof i=="function"?i():i}):qe():C.jsx(Zu,{type:"no-data",children:typeof d=="function"?d():d})}return C.jsx("div",{className:Jh("react-pdf__Document",t),ref:l,...se,children:jt()})});function jL(){return E.useContext(FL)}function BL(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){for(var o=0,l=t;o<l.length;o++){var c=l[o];typeof c=="function"?c(s):c&&(c.current=s)}}}const zL=E.createContext(null);function cw(){return E.useContext(zL)}function WU(){const n=jL(),e=cw();Ve(e);const t={...n,...e},{imageResourcesPath:i,linkService:r,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Ve(d),Ve(u),Ve(r);const[y,m]=Xh(),{value:w,error:g}=y,x=E.useRef(null);Tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function b(){w&&o&&o(w)}function A(){g&&(Tn(!1,g.toString()),s&&s(g))}E.useEffect(function(){m({type:"RESET"})},[m,u]),E.useEffect(function(){if(!u)return;const D=Dg(u.getAnnotations()),L=D;return D.promise.then(F=>{m({type:"RESOLVE",value:F})}).catch(F=>{m({type:"REJECT",error:F})}),()=>{nu(L)}},[m,u]),E.useEffect(()=>{if(w!==void 0){if(w===!1){A();return}b()}},[w]);function T(){c&&c()}function _(R){Tn(!1,`${R}`),l&&l(R)}const P=E.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return E.useEffect(function(){if(!d||!u||!r||!w)return;const{current:D}=x;if(!D)return;const L=P.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:D,l10n:null,linkService:r,page:u,structTreeLayer:null,viewport:L},j={annotations:w,annotationStorage:d.annotationStorage,div:D,imageResourcesPath:i,linkService:r,page:u,renderForms:h,viewport:L};D.innerHTML="";try{new BE(F).render(j),T()}catch($){_($)}return()=>{}},[w,i,r,u,d,h,P]),C.jsx("div",{className:Jh("react-pdf__Page__annotations","annotationLayer"),ref:x})}const $L={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},GU=/^H(\d+)$/;function qU(n){return n in $L}function uw(n){return"children"in n}function UL(n){return uw(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function XU(n){const e={};if(uw(n)){const{role:t}=n,i=t.match(GU);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(qU(t)){const r=$L[t];r&&(e.role=r)}}return e}function HL(n){const e={};if(uw(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),UL(n)){const[t]=n.children;if(t){const i=HL(t);return{...e,...i}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function KU(n){return n?{...XU(n),...HL(n)}:null}function VL({className:n,node:e}){const t=E.useMemo(()=>KU(e),[e]),i=E.useMemo(()=>!uw(e)||UL(e)?null:e.children.map((r,s)=>C.jsx(VL,{node:r},s)),[e]);return C.jsx("span",{className:n,...t,children:i})}function YU(){const n=cw();Ve(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=Xh(),{value:s,error:o}=i,{customTextRenderer:l,page:c}=n;function u(){s&&t&&t(s)}function d(){o&&(Tn(!1,o.toString()),e&&e(o))}return E.useEffect(function(){r({type:"RESET"})},[r,c]),E.useEffect(function(){if(l||!c)return;const f=Dg(c.getStructTree()),p=f;return f.promise.then(y=>{r({type:"RESOLVE",value:y})}).catch(y=>{r({type:"REJECT",error:y})}),()=>nu(p)},[l,c,r]),E.useEffect(()=>{if(s!==void 0){if(s===!1){d();return}u()}},[s]),s?C.jsx(VL,{className:"react-pdf__Page__structTree structTree",node:s}):null}const Bk=ws;function QU(n){const e=cw();Ve(e);const t={...e,...n},{_className:i,canvasBackground:r,devicePixelRatio:s=BU(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Ve(c);const y=E.useRef(null);function m(){c&&l&&l(n1(c,f))}function w(A){$U(A)||(Tn(!1,A.toString()),o&&o(A))}const g=E.useMemo(()=>c.getViewport({scale:f*s,rotation:h}),[s,c,h,f]),x=E.useMemo(()=>c.getViewport({scale:f,rotation:h}),[c,h,f]);E.useEffect(function(){if(!c)return;c.cleanup();const{current:T}=y;if(!T)return;T.width=g.width,T.height=g.height,T.style.width=`${Math.floor(x.width)}px`,T.style.height=`${Math.floor(x.height)}px`,T.style.visibility="hidden";const _={annotationMode:u?Bk.ENABLE_FORMS:Bk.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:g};r&&(_.background=r);const P=c.render(_),R=P;return P.promise.then(()=>{T.style.visibility="",m()}).catch(w),()=>nu(R)},[r,c,u,g,x]);const b=E.useCallback(()=>{const{current:A}=y;A&&(A.width=0,A.height=0)},[]);return E.useEffect(()=>b,[b]),C.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:BL(p,y),style:{display:"block",userSelect:"none"},children:d?C.jsx(YU,{}):null})}function ZU(n){return"str"in n}function JU(){const n=cw();Ve(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:d}=n;Ve(o);const[h,f]=Xh(),{value:p,error:y}=h,m=E.useRef(null);Tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){p&&i&&i(p)}function g(){y&&(Tn(!1,y.toString()),t&&t(y))}E.useEffect(function(){f({type:"RESET"})},[o,f]),E.useEffect(function(){if(!o)return;const R=Dg(o.getTextContent()),D=R;return R.promise.then(L=>{f({type:"RESOLVE",value:L})}).catch(L=>{f({type:"REJECT",error:L})}),()=>nu(D)},[o,f]),E.useEffect(()=>{if(p!==void 0){if(p===!1){g();return}w()}},[p]);const x=E.useCallback(()=>{s&&s()},[s]),b=E.useCallback(P=>{Tn(!1,P.toString()),r&&r(P)},[r]);function A(){const P=m.current;P&&P.classList.add("selecting")}function T(){const P=m.current;P&&P.classList.remove("selecting")}const _=E.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return E.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=m;if(!R)return;R.innerHTML="";const D=o.streamTextContent({includeMarkedContent:!0}),L={container:R,textContentSource:D,viewport:_},F=new Dp(L),j=F;return F.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",R.append($);const N=R.querySelectorAll('[role="presentation"]');if(e){let U=0;p.items.forEach((O,z)=>{if(!ZU(O))return;const M=N[U];if(!M)return;const I=e({pageIndex:l,pageNumber:c,itemIndex:z,...O});M.innerHTML=I,U+=O.str&&O.hasEOL?2:1})}x()}).catch(b),()=>nu(j)},[e,b,x,o,l,c,p,_]),C.jsx("div",{className:Jh("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:A,ref:m})}const zk=1;function dw(n){const t={...jL(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:y,loading:m="Loading page",noData:w="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:A,onGetTextError:T,onGetTextSuccess:_,onLoadError:P,onLoadSuccess:R,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:L,onRenderError:F,onRenderSuccess:j,onRenderTextLayerError:$,onRenderTextLayerSuccess:N,pageIndex:U,pageNumber:O,pdf:z,registerPage:M,renderAnnotationLayer:I=!0,renderForms:W=!1,renderMode:q="canvas",renderTextLayer:B=!0,rotate:H,scale:Y=zk,unregisterPage:oe,width:ae,...ve}=t,[Ot,kt]=Xh(),{value:se,error:qe}=Ot,jt=E.useRef(null);Ve(z);const ye=gl(O)?O-1:U??null,Pe=O??(gl(U)?U+1:null),tt=H??(se?se.rotate:null),at=E.useMemo(()=>{if(!se)return null;let ze=1;const Dt=Y??zk;if(ae||p){const Vn=se.getViewport({scale:1,rotation:tt});ae?ze=ae/Vn.width:p&&(ze=p/Vn.height)}return Dt*ze},[p,se,tt,Y,ae]);E.useEffect(function(){return()=>{gl(ye)&&r&&oe&&oe(ye)}},[r,z,ye,oe]);function Pn(){if(R){if(!se||!at)return;R(n1(se,at))}if(r&&M){if(!gl(ye)||!jt.current)return;M(ye,jt.current)}}function cr(){qe&&(Tn(!1,qe.toString()),P&&P(qe))}E.useEffect(function(){kt({type:"RESET"})},[kt,z,ye]),E.useEffect(function(){if(!z||!Pe)return;const Dt=Dg(z.getPage(Pe)),Vn=Dt;return Dt.promise.then(Br=>{kt({type:"RESOLVE",value:Br})}).catch(Br=>{kt({type:"REJECT",error:Br})}),()=>nu(Vn)},[kt,z,Pe]),E.useEffect(()=>{if(se!==void 0){if(se===!1){cr();return}Pn()}},[se,at]);const oi=E.useMemo(()=>gl(ye)&&Pe&&gl(tt)&&gl(at)?{_className:i,canvasBackground:s,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:b,onGetStructTreeSuccess:A,onGetTextError:T,onGetTextSuccess:_,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:L,onRenderError:F,onRenderSuccess:j,onRenderTextLayerError:$,onRenderTextLayerSuccess:N,page:se,pageIndex:ye,pageNumber:Pe,renderForms:W,renderTextLayer:B,rotate:tt,scale:at}:null,[i,s,d,h,g,x,b,A,T,_,D,L,F,j,$,N,se,ye,Pe,W,B,tt,at]),cu=E.useMemo(()=>NL(ve,()=>se&&(at?n1(se,at):void 0)),[ve,se,at]),uu=`${ye}@${at}/${tt}`;function gw(){switch(q){case"custom":return Ve(u),C.jsx(u,{},`${uu}_custom`);case"none":return null;case"canvas":default:return C.jsx(QU,{canvasRef:o},`${uu}_canvas`)}}function vw(){return B?C.jsx(JU,{},`${uu}_text`):null}function K(){return I?C.jsx(WU,{},`${uu}_annotations`):null}function re(){function ze(Vn){return!!(Vn!=null&&Vn.page)}if(!ze(oi))throw new Error("page is undefined");const Dt=typeof l=="function"?l(oi):l;return C.jsxs(zL.Provider,{value:oi,children:[gw(),vw(),K(),Dt]})}function vt(){return Pe?z===null||se===void 0||se===null?C.jsx(Zu,{type:"loading",children:typeof m=="function"?m():m}):z===!1||se===!1?C.jsx(Zu,{type:"error",children:typeof f=="function"?f():f}):re():C.jsx(Zu,{type:"no-data",children:typeof w=="function"?w():w})}return C.jsx("div",{className:Jh(i,c),"data-page-number":Pe,ref:BL(y,jt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${at}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...cu,children:vt()})}zU();Ht.workerSrc="pdf.worker.mjs";typeof window<"u"&&!Ht.workerSrc&&(Ht.workerSrc=`https://unpkg.com/pdfjs-dist@${eu}/build/pdf.worker.min.mjs`);function eH({fileName:n,pageCount:e,fileSize:t,onDelete:i,onEdit:r,onDownload:s,onView:o,pdfFile:l,isDragging:c=!1}){const[u,d]=E.useState(null),[h,f]=E.useState(!1);return E.useEffect(()=>{if(l){const p=URL.createObjectURL(l);return d(p),()=>{URL.revokeObjectURL(p)}}},[l]),C.jsxs(ew,{className:`flex items-center gap-4 p-4 transition-opacity ${c?"opacity-50":""}`,"data-testid":`card-pdf-${n}`,children:[C.jsx("div",{className:"flex-shrink-0 cursor-grab","data-testid":"handle-drag",children:C.jsx(Jj,{className:"h-5 w-5 text-muted-foreground"})}),C.jsx("div",{className:"flex h-16 w-12 flex-shrink-0 items-center justify-center rounded bg-muted overflow-hidden relative",children:u&&l&&!h?C.jsx(lw,{file:u,onLoadError:()=>f(!0),loading:C.jsx("div",{className:"flex items-center justify-center h-full w-full",children:C.jsx(qu,{className:"h-4 w-4 animate-spin text-muted-foreground"})}),children:C.jsx(dw,{pageNumber:1,scale:.15,renderTextLayer:!1,renderAnnotationLayer:!1,onLoadError:()=>f(!0),className:"!max-w-full !max-h-full"})}):C.jsx(Xx,{className:"h-8 w-8 text-muted-foreground"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("h3",{className:"truncate font-medium","data-testid":`text-filename-${n}`,children:n}),C.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[C.jsxs(bD,{variant:"secondary",className:"text-xs",children:[e," ",e===1?"page":"pages"]}),C.jsx("span",{className:"text-sm text-muted-foreground",children:t})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[o&&C.jsx(Ae,{variant:"ghost",size:"icon",onClick:o,"data-testid":`button-view-${n}`,title:"View PDF",children:C.jsx(mR,{className:"h-4 w-4"})}),C.jsx(Ae,{variant:"ghost",size:"icon",onClick:r,"data-testid":`button-edit-${n}`,title:"Edit PDF",children:C.jsx(gR,{className:"h-4 w-4"})}),C.jsx(Ae,{variant:"ghost",size:"icon",onClick:s,"data-testid":`button-download-${n}`,title:"Download PDF",children:C.jsx(hE,{className:"h-4 w-4"})}),C.jsx(Ae,{variant:"ghost",size:"icon",onClick:i,"data-testid":`button-delete-${n}`,title:"Delete PDF",children:C.jsx(fE,{className:"h-4 w-4 text-destructive"})})]})]})}var tH=E.createContext(void 0);function UE(n){const e=E.useContext(tH);return n||e||"ltr"}function nH(n,[e,t]){return Math.min(t,Math.max(e,n))}function iH(n,e){return E.useReducer((t,i)=>e[t][i]??t,n)}var HE="ScrollArea",[WL,m5]=Oo(HE),[rH,lr]=WL(HE),GL=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:i="hover",dir:r,scrollHideDelay:s=600,...o}=n,[l,c]=E.useState(null),[u,d]=E.useState(null),[h,f]=E.useState(null),[p,y]=E.useState(null),[m,w]=E.useState(null),[g,x]=E.useState(0),[b,A]=E.useState(0),[T,_]=E.useState(!1),[P,R]=E.useState(!1),D=gt(e,F=>c(F)),L=UE(r);return C.jsx(rH,{scope:t,type:i,dir:L,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:T,onScrollbarXEnabledChange:_,scrollbarY:m,onScrollbarYChange:w,scrollbarYEnabled:P,onScrollbarYEnabledChange:R,onCornerWidthChange:x,onCornerHeightChange:A,children:C.jsx(Ee.div,{dir:L,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":b+"px",...n.style}})})});GL.displayName=HE;var qL="ScrollAreaViewport",XL=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:i,nonce:r,...s}=n,o=lr(qL,t),l=E.useRef(null),c=gt(e,l,o.onViewportChange);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),C.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...n.style},children:C.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});XL.displayName=qL;var _s="ScrollAreaScrollbar",VE=E.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=lr(_s,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=r,l=n.orientation==="horizontal";return E.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),r.type==="hover"?C.jsx(sH,{...i,ref:e,forceMount:t}):r.type==="scroll"?C.jsx(oH,{...i,ref:e,forceMount:t}):r.type==="auto"?C.jsx(KL,{...i,ref:e,forceMount:t}):r.type==="always"?C.jsx(WE,{...i,ref:e}):null});VE.displayName=_s;var sH=E.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=lr(_s,n.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),C.jsx(ar,{present:t||s,children:C.jsx(KL,{"data-state":s?"visible":"hidden",...i,ref:e})})}),oH=E.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=lr(_s,n.__scopeScrollArea),s=n.orientation==="horizontal",o=fw(()=>c("SCROLL_END"),100),[l,c]=iH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),E.useEffect(()=>{const u=r.viewport,d=s?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(c("SCROLL"),o()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,s,c,o]),C.jsx(ar,{present:t||l!=="hidden",children:C.jsx(WE,{"data-state":l==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:he(n.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:he(n.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),KL=E.forwardRef((n,e)=>{const t=lr(_s,n.__scopeScrollArea),{forceMount:i,...r}=n,[s,o]=E.useState(!1),l=n.orientation==="horizontal",c=fw(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,d=t.viewport.offsetHeight<t.viewport.scrollHeight;o(l?u:d)}},10);return Kh(t.viewport,c),Kh(t.content,c),C.jsx(ar,{present:i||s,children:C.jsx(WE,{"data-state":s?"visible":"hidden",...r,ref:e})})}),WE=E.forwardRef((n,e)=>{const{orientation:t="vertical",...i}=n,r=lr(_s,n.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[l,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=eN(l.viewport,l.content),d={...i,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,p){return hH(f,o.current,l,p)}return t==="horizontal"?C.jsx(aH,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollLeft,p=$k(f,l,r.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):t==="vertical"?C.jsx(lH,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollTop,p=$k(f,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),aH=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=lr(_s,n.__scopeScrollArea),[o,l]=E.useState(),c=E.useRef(null),u=gt(e,c,s.onScrollbarXChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),C.jsx(QL,{"data-orientation":"horizontal",...r,ref:u,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hw(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.x),onDragScroll:d=>n.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;n.onWheelScroll(f),nN(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:nx(o.paddingLeft),paddingEnd:nx(o.paddingRight)}})}})}),lH=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:i,...r}=n,s=lr(_s,n.__scopeScrollArea),[o,l]=E.useState(),c=E.useRef(null),u=gt(e,c,s.onScrollbarYChange);return E.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),C.jsx(QL,{"data-orientation":"vertical",...r,ref:u,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hw(t)+"px",...n.style},onThumbPointerDown:d=>n.onThumbPointerDown(d.y),onDragScroll:d=>n.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;n.onWheelScroll(f),nN(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:nx(o.paddingTop),paddingEnd:nx(o.paddingBottom)}})}})}),[cH,YL]=WL(_s),QL=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:i,hasThumb:r,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=n,p=lr(_s,t),[y,m]=E.useState(null),w=gt(e,D=>m(D)),g=E.useRef(null),x=E.useRef(""),b=p.viewport,A=i.content-i.viewport,T=Ft(d),_=Ft(c),P=fw(h,10);function R(D){if(g.current){const L=D.clientX-g.current.left,F=D.clientY-g.current.top;u({x:L,y:F})}}return E.useEffect(()=>{const D=L=>{const F=L.target;(y==null?void 0:y.contains(F))&&T(L,A)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[b,y,A,T]),E.useEffect(_,[i,_]),Kh(y,P),Kh(p.content,P),C.jsx(cH,{scope:t,scrollbar:y,hasThumb:r,onThumbChange:Ft(s),onThumbPointerUp:Ft(o),onThumbPositionChange:_,onThumbPointerDown:Ft(l),children:C.jsx(Ee.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:he(n.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),g.current=y.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(D))}),onPointerMove:he(n.onPointerMove,R),onPointerUp:he(n.onPointerUp,D=>{const L=D.target;L.hasPointerCapture(D.pointerId)&&L.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),g.current=null})})})}),tx="ScrollAreaThumb",ZL=E.forwardRef((n,e)=>{const{forceMount:t,...i}=n,r=YL(tx,n.__scopeScrollArea);return C.jsx(ar,{present:t||r.hasThumb,children:C.jsx(uH,{ref:e,...i})})}),uH=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:i,...r}=n,s=lr(tx,t),o=YL(tx,t),{onThumbPositionChange:l}=o,c=gt(e,h=>o.onThumbChange(h)),u=E.useRef(void 0),d=fw(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!u.current){const p=fH(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,l]),C.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:he(n.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),y=h.clientX-p.left,m=h.clientY-p.top;o.onThumbPointerDown({x:y,y:m})}),onPointerUp:he(n.onPointerUp,o.onThumbPointerUp)})});ZL.displayName=tx;var GE="ScrollAreaCorner",JL=E.forwardRef((n,e)=>{const t=lr(GE,n.__scopeScrollArea),i=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&i?C.jsx(dH,{...n,ref:e}):null});JL.displayName=GE;var dH=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,...i}=n,r=lr(GE,t),[s,o]=E.useState(0),[l,c]=E.useState(0),u=!!(s&&l);return Kh(r.scrollbarX,()=>{var h;const d=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Kh(r.scrollbarY,()=>{var h;const d=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?C.jsx(Ee.div,{...i,ref:e,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function nx(n){return n?parseInt(n,10):0}function eN(n,e){const t=n/e;return isNaN(t)?0:t}function hw(n){const e=eN(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,i=(n.scrollbar.size-t)*e;return Math.max(i,18)}function hH(n,e,t,i="ltr"){const r=hw(t),s=r/2,o=e||s,l=r-o,c=t.scrollbar.paddingStart+o,u=t.scrollbar.size-t.scrollbar.paddingEnd-l,d=t.content-t.viewport,h=i==="ltr"?[0,d]:[d*-1,0];return tN([c,u],h)(n)}function $k(n,e,t="ltr"){const i=hw(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-r,o=e.content-e.viewport,l=s-i,c=t==="ltr"?[0,o]:[o*-1,0],u=nH(n,c);return tN([0,o],[0,l])(u)}function tN(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function nN(n,e){return n>0&&n<e}var fH=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},i=0;return function r(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,l=t.top!==s.top;(o||l)&&e(),t=s,i=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(i)};function fw(n,e){const t=Ft(n),i=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(i.current),[]),E.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(t,e)},[t,e])}function Kh(n,e){const t=Ft(e);Po(()=>{let i=0;if(n){const r=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(t)});return r.observe(n),()=>{window.cancelAnimationFrame(i),r.unobserve(n)}}},[n,t])}var iN=GL,pH=XL,mH=JL;const rN=E.forwardRef(({className:n,children:e,...t},i)=>C.jsxs(iN,{ref:i,className:De("relative overflow-hidden",n),...t,children:[C.jsx(pH,{className:"h-full w-full rounded-[inherit]",children:e}),C.jsx(sN,{}),C.jsx(mH,{})]}));rN.displayName=iN.displayName;const sN=E.forwardRef(({className:n,orientation:e="vertical",...t},i)=>C.jsx(VE,{ref:i,orientation:e,className:De("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:C.jsx(ZL,{className:"relative flex-1 rounded-full bg-border"})}));sN.displayName=VE.displayName;Ht.workerSrc=`https://unpkg.com/pdfjs-dist@${eu}/build/pdf.worker.min.mjs`;function oN({file:n,fileName:e,onDownload:t}){const[i,r]=E.useState(null),[s,o]=E.useState(1),[l,c]=E.useState(1.2),[u,d]=E.useState(!0);function h({numPages:x}){r(x),d(!1)}function f(x){console.error("Error loading PDF:",x),d(!1)}const p=()=>{o(x=>Math.max(1,x-1))},y=()=>{o(x=>Math.min(i||1,x+1))},m=()=>{c(x=>Math.min(3,x+.2))},w=()=>{c(x=>Math.max(.5,x-.2))},g=URL.createObjectURL(n);return E.useEffect(()=>()=>{URL.revokeObjectURL(g)},[g]),C.jsxs("div",{className:"flex flex-col h-full border rounded-lg bg-background",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/50",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ae,{variant:"outline",size:"icon",onClick:p,disabled:s<=1,children:C.jsx(qj,{className:"h-4 w-4"})}),C.jsx("div",{className:"flex items-center gap-2 px-3",children:C.jsxs("span",{className:"text-sm font-medium",children:["Page ",s," of ",i||"..."]})}),C.jsx(Ae,{variant:"outline",size:"icon",onClick:y,disabled:s>=(i||1),children:C.jsx(Xj,{className:"h-4 w-4"})})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ae,{variant:"outline",size:"icon",onClick:w,disabled:l<=.5,children:C.jsx(yR,{className:"h-4 w-4"})}),C.jsxs("span",{className:"text-sm font-medium min-w-[60px] text-center",children:[Math.round(l*100),"%"]}),C.jsx(Ae,{variant:"outline",size:"icon",onClick:m,disabled:l>=3,children:C.jsx(vR,{className:"h-4 w-4"})}),t&&C.jsx(Ae,{variant:"outline",size:"icon",onClick:t,className:"ml-2",children:C.jsx(hE,{className:"h-4 w-4"})})]})]}),C.jsx(rN,{className:"flex-1 p-4",children:C.jsxs("div",{className:"flex justify-center",children:[u&&C.jsx("div",{className:"flex items-center justify-center h-96",children:C.jsx("p",{className:"text-muted-foreground",children:"Loading PDF..."})}),C.jsx(lw,{file:g,onLoadSuccess:h,onLoadError:f,loading:C.jsx("div",{className:"flex items-center justify-center h-96",children:C.jsx("p",{className:"text-muted-foreground",children:"Loading PDF..."})}),error:C.jsxs("div",{className:"flex flex-col items-center justify-center h-96 p-4",children:[C.jsx("p",{className:"text-destructive font-medium mb-2",children:"Failed to load PDF"}),C.jsx("p",{className:"text-sm text-muted-foreground text-center",children:e||"The PDF file could not be displayed"})]}),children:C.jsx(dw,{pageNumber:s,scale:l,renderTextLayer:!0,renderAnnotationLayer:!0,className:"shadow-lg"})})]})}),i&&i>1&&C.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 border-t bg-muted/30",children:[C.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>o(1),disabled:s===1,children:"First"}),C.jsx(Ae,{variant:"ghost",size:"sm",onClick:p,disabled:s===1,children:"Previous"}),C.jsx("input",{type:"number",min:"1",max:i,value:s,onChange:x=>{const b=parseInt(x.target.value);b>=1&&b<=i&&o(b)},className:"w-16 text-center border rounded px-2 py-1 text-sm"}),C.jsx(Ae,{variant:"ghost",size:"sm",onClick:y,disabled:s===i,children:"Next"}),C.jsx(Ae,{variant:"ghost",size:"sm",onClick:()=>o(i),disabled:s===i,children:"Last"})]})]})}var gb="focusScope.autoFocusOnMount",vb="focusScope.autoFocusOnUnmount",Uk={bubbles:!1,cancelable:!0},gH="FocusScope",aN=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[l,c]=E.useState(null),u=Ft(r),d=Ft(s),h=E.useRef(null),f=gt(e,m=>c(m)),p=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(i){let m=function(b){if(p.paused||!l)return;const A=b.target;l.contains(A)?h.current=A:Ho(h.current,{select:!0})},w=function(b){if(p.paused||!l)return;const A=b.relatedTarget;A!==null&&(l.contains(A)||Ho(h.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const T of b)T.removedNodes.length>0&&Ho(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",w);const x=new MutationObserver(g);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",w),x.disconnect()}}},[i,l,p.paused]),E.useEffect(()=>{if(l){Vk.add(p);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(gb,Uk);l.addEventListener(gb,u),l.dispatchEvent(g),g.defaultPrevented||(vH(SH(lN(l)),{select:!0}),document.activeElement===m&&Ho(l))}return()=>{l.removeEventListener(gb,u),setTimeout(()=>{const g=new CustomEvent(vb,Uk);l.addEventListener(vb,d),l.dispatchEvent(g),g.defaultPrevented||Ho(m??document.body,{select:!0}),l.removeEventListener(vb,d),Vk.remove(p)},0)}}},[l,u,d,p]);const y=E.useCallback(m=>{if(!t&&!i||p.paused)return;const w=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(w&&g){const x=m.currentTarget,[b,A]=yH(x);b&&A?!m.shiftKey&&g===A?(m.preventDefault(),t&&Ho(b,{select:!0})):m.shiftKey&&g===b&&(m.preventDefault(),t&&Ho(A,{select:!0})):g===x&&m.preventDefault()}},[t,i,p.paused]);return C.jsx(Ee.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});aN.displayName=gH;function vH(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Ho(i,{select:e}),document.activeElement!==t)return}function yH(n){const e=lN(n),t=Hk(e,n),i=Hk(e.reverse(),n);return[t,i]}function lN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Hk(n,e){for(const t of n)if(!xH(t,{upTo:e}))return t}function xH(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function wH(n){return n instanceof HTMLInputElement&&"select"in n}function Ho(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&wH(n)&&e&&n.select()}}var Vk=bH();function bH(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Wk(n,e),n.unshift(e)},remove(e){var t;n=Wk(n,e),(t=n[0])==null||t.resume()}}}function Wk(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function SH(n){return n.filter(e=>e.tagName!=="A")}var yb=0;function EH(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Gk()),document.body.insertAdjacentElement("beforeend",n[1]??Gk()),yb++,()=>{yb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yb--}},[])}function Gk(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ly="right-scroll-bar-position",cy="width-before-scroll-bar",AH="with-scroll-bars-hidden",CH="--removed-body-scroll-bar-size";function xb(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function kH(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var TH=typeof window<"u"?E.useLayoutEffect:E.useEffect,qk=new WeakMap;function _H(n,e){var t=kH(null,function(i){return n.forEach(function(r){return xb(r,i)})});return TH(function(){var i=qk.get(t);if(i){var r=new Set(i),s=new Set(n),o=t.current;r.forEach(function(l){s.has(l)||xb(l,null)}),s.forEach(function(l){r.has(l)||xb(l,o)})}qk.set(t,n)},[n]),t}function PH(n){return n}function RH(n,e){e===void 0&&(e=PH);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,i);return t.push(o),function(){t=t.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(i=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(l){return s(l)},filter:function(){return t}}},assignMedium:function(s){i=!0;var o=[];if(t.length){var l=t;t=[],l.forEach(s),o=t}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),t={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),t}}}};return r}function DH(n){n===void 0&&(n={});var e=RH(null);return e.options=xs({async:!0,ssr:!1},n),e}var cN=function(n){var e=n.sideCar,t=lD(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return E.createElement(i,xs({},t))};cN.isSideCarExport=!0;function MH(n,e){return n.useMedium(e),cN}var uN=DH(),wb=function(){},pw=E.forwardRef(function(n,e){var t=E.useRef(null),i=E.useState({onScrollCapture:wb,onWheelCapture:wb,onTouchMoveCapture:wb}),r=i[0],s=i[1],o=n.forwardProps,l=n.children,c=n.className,u=n.removeScrollBar,d=n.enabled,h=n.shards,f=n.sideCar,p=n.noIsolation,y=n.inert,m=n.allowPinchZoom,w=n.as,g=w===void 0?"div":w,x=n.gapMode,b=lD(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,T=_H([t,e]),_=xs(xs({},b),r);return E.createElement(E.Fragment,null,d&&E.createElement(A,{sideCar:uN,removeScrollBar:u,shards:h,noIsolation:p,inert:y,setCallbacks:s,allowPinchZoom:!!m,lockRef:t,gapMode:x}),o?E.cloneElement(E.Children.only(l),xs(xs({},_),{ref:T})):E.createElement(g,xs({},_,{className:c,ref:T}),l))});pw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pw.classNames={fullWidth:cy,zeroRight:ly};var LH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NH(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=LH();return e&&n.setAttribute("nonce",e),n}function FH(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function IH(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var OH=function(){var n=0,e=null;return{add:function(t){n==0&&(e=NH())&&(FH(e,t),IH(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jH=function(){var n=OH();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},dN=function(){var n=jH(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},BH={left:0,top:0,right:0,gap:0},bb=function(n){return parseInt(n||"",10)||0},zH=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[bb(t),bb(i),bb(r)]},$H=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return BH;var e=zH(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},UH=dN(),Ju="data-scroll-locked",HH=function(n,e,t,i){var r=n.left,s=n.top,o=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(AH,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(Ju,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ly,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(cy,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(ly," .").concat(ly,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(cy," .").concat(cy,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ju,`] {
    `).concat(CH,": ").concat(l,`px;
  }
`)},Xk=function(){var n=parseInt(document.body.getAttribute(Ju)||"0",10);return isFinite(n)?n:0},VH=function(){E.useEffect(function(){return document.body.setAttribute(Ju,(Xk()+1).toString()),function(){var n=Xk()-1;n<=0?document.body.removeAttribute(Ju):document.body.setAttribute(Ju,n.toString())}},[])},WH=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;VH();var s=E.useMemo(function(){return $H(r)},[r]);return E.createElement(UH,{styles:HH(s,!e,r,t?"":"!important")})},i1=!1;if(typeof window<"u")try{var dv=Object.defineProperty({},"passive",{get:function(){return i1=!0,!0}});window.addEventListener("test",dv,dv),window.removeEventListener("test",dv,dv)}catch{i1=!1}var fu=i1?{passive:!1}:!1,GH=function(n){return n.tagName==="TEXTAREA"},hN=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!GH(n)&&t[e]==="visible")},qH=function(n){return hN(n,"overflowY")},XH=function(n){return hN(n,"overflowX")},Kk=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=fN(n,i);if(r){var s=pN(n,i),o=s[1],l=s[2];if(o>l)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},KH=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},YH=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},fN=function(n,e){return n==="v"?qH(e):XH(e)},pN=function(n,e){return n==="v"?KH(e):YH(e)},QH=function(n,e){return n==="h"&&e==="rtl"?-1:1},ZH=function(n,e,t,i,r){var s=QH(n,window.getComputedStyle(e).direction),o=s*i,l=t.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var p=pN(n,l),y=p[0],m=p[1],w=p[2],g=m-w-s*y;(y||g)&&fN(n,l)&&(h+=g,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!r)||!d&&(Math.abs(f)<1||!r))&&(u=!0),u},hv=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Yk=function(n){return[n.deltaX,n.deltaY]},Qk=function(n){return n&&"current"in n?n.current:n},JH=function(n,e){return n[0]===e[0]&&n[1]===e[1]},e6=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},t6=0,pu=[];function n6(n){var e=E.useRef([]),t=E.useRef([0,0]),i=E.useRef(),r=E.useState(t6++)[0],s=E.useState(dN)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var m=A3([n.lockRef.current],(n.shards||[]).map(Qk),!0).filter(Boolean);return m.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var l=E.useCallback(function(m,w){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var g=hv(m),x=t.current,b="deltaX"in m?m.deltaX:x[0]-g[0],A="deltaY"in m?m.deltaY:x[1]-g[1],T,_=m.target,P=Math.abs(b)>Math.abs(A)?"h":"v";if("touches"in m&&P==="h"&&_.type==="range")return!1;var R=Kk(P,_);if(!R)return!0;if(R?T=P:(T=P==="v"?"h":"v",R=Kk(P,_)),!R)return!1;if(!i.current&&"changedTouches"in m&&(b||A)&&(i.current=T),!T)return!0;var D=i.current||T;return ZH(D,w,m,D==="h"?b:A,!0)},[]),c=E.useCallback(function(m){var w=m;if(!(!pu.length||pu[pu.length-1]!==s)){var g="deltaY"in w?Yk(w):hv(w),x=e.current.filter(function(T){return T.name===w.type&&(T.target===w.target||w.target===T.shadowParent)&&JH(T.delta,g)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var b=(o.current.shards||[]).map(Qk).filter(Boolean).filter(function(T){return T.contains(w.target)}),A=b.length>0?l(w,b[0]):!o.current.noIsolation;A&&w.cancelable&&w.preventDefault()}}},[]),u=E.useCallback(function(m,w,g,x){var b={name:m,delta:w,target:g,should:x,shadowParent:i6(g)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(A){return A!==b})},1)},[]),d=E.useCallback(function(m){t.current=hv(m),i.current=void 0},[]),h=E.useCallback(function(m){u(m.type,Yk(m),m.target,l(m,n.lockRef.current))},[]),f=E.useCallback(function(m){u(m.type,hv(m),m.target,l(m,n.lockRef.current))},[]);E.useEffect(function(){return pu.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,fu),document.addEventListener("touchmove",c,fu),document.addEventListener("touchstart",d,fu),function(){pu=pu.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,fu),document.removeEventListener("touchmove",c,fu),document.removeEventListener("touchstart",d,fu)}},[]);var p=n.removeScrollBar,y=n.inert;return E.createElement(E.Fragment,null,y?E.createElement(s,{styles:e6(r)}):null,p?E.createElement(WH,{gapMode:n.gapMode}):null)}function i6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const r6=MH(uN,n6);var mN=E.forwardRef(function(n,e){return E.createElement(pw,xs({},n,{ref:e,sideCar:r6}))});mN.classNames=pw.classNames;var s6=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},mu=new WeakMap,fv=new WeakMap,pv={},Sb=0,gN=function(n){return n&&(n.host||gN(n.parentNode))},o6=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=gN(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},a6=function(n,e,t,i){var r=o6(e,Array.isArray(n)?n:[n]);pv[t]||(pv[t]=new WeakMap);var s=pv[t],o=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(i),y=p!==null&&p!=="false",m=(mu.get(f)||0)+1,w=(s.get(f)||0)+1;mu.set(f,m),s.set(f,w),o.push(f),m===1&&y&&fv.set(f,!0),w===1&&f.setAttribute(t,"true"),y||f.setAttribute(i,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return d(e),l.clear(),Sb++,function(){o.forEach(function(h){var f=mu.get(h)-1,p=s.get(h)-1;mu.set(h,f),s.set(h,p),f||(fv.has(h)||h.removeAttribute(i),fv.delete(h)),p||h.removeAttribute(t)}),Sb--,Sb||(mu=new WeakMap,mu=new WeakMap,fv=new WeakMap,pv={})}},l6=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=s6(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),a6(i,r,t,"aria-hidden")):function(){return null}},qE="Dialog",[vN,g5]=Oo(qE),[c6,jr]=vN(qE),yN=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:r,onOpenChange:s,modal:o=!0}=n,l=E.useRef(null),c=E.useRef(null),[u=!1,d]=Sg({prop:i,defaultProp:r,onChange:s});return C.jsx(c6,{scope:e,triggerRef:l,contentRef:c,contentId:tp(),titleId:tp(),descriptionId:tp(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:t})};yN.displayName=qE;var xN="DialogTrigger",u6=E.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=jr(xN,t),s=gt(e,r.triggerRef);return C.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":YE(r.open),...i,ref:s,onClick:he(n.onClick,r.onOpenToggle)})});u6.displayName=xN;var XE="DialogPortal",[d6,wN]=vN(XE,{forceMount:void 0}),bN=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:r}=n,s=jr(XE,e);return C.jsx(d6,{scope:e,forceMount:t,children:E.Children.map(i,o=>C.jsx(ar,{present:t||s.open,children:C.jsx(lE,{asChild:!0,container:r,children:o})}))})};bN.displayName=XE;var ix="DialogOverlay",SN=E.forwardRef((n,e)=>{const t=wN(ix,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=jr(ix,n.__scopeDialog);return s.modal?C.jsx(ar,{present:i||s.open,children:C.jsx(f6,{...r,ref:e})}):null});SN.displayName=ix;var h6=Sp("DialogOverlay.RemoveScroll"),f6=E.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=jr(ix,t);return C.jsx(mN,{as:h6,allowPinchZoom:!0,shards:[r.contentRef],children:C.jsx(Ee.div,{"data-state":YE(r.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),iu="DialogContent",EN=E.forwardRef((n,e)=>{const t=wN(iu,n.__scopeDialog),{forceMount:i=t.forceMount,...r}=n,s=jr(iu,n.__scopeDialog);return C.jsx(ar,{present:i||s.open,children:s.modal?C.jsx(p6,{...r,ref:e}):C.jsx(m6,{...r,ref:e})})});EN.displayName=iu;var p6=E.forwardRef((n,e)=>{const t=jr(iu,n.__scopeDialog),i=E.useRef(null),r=gt(e,t.contentRef,i);return E.useEffect(()=>{const s=i.current;if(s)return l6(s)},[]),C.jsx(AN,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault())})}),m6=E.forwardRef((n,e)=>{const t=jr(iu,n.__scopeDialog),i=E.useRef(!1),r=E.useRef(!1);return C.jsx(AN,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(i.current||(l=t.triggerRef.current)==null||l.focus(),s.preventDefault()),i.current=!1,r.current=!1},onInteractOutside:s=>{var c,u;(c=n.onInteractOutside)==null||c.call(n,s),s.defaultPrevented||(i.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),AN=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:r,onCloseAutoFocus:s,...o}=n,l=jr(iu,t),c=E.useRef(null),u=gt(e,c);return EH(),C.jsxs(C.Fragment,{children:[C.jsx(aN,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:r,onUnmountAutoFocus:s,children:C.jsx(Hx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":YE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(g6,{titleId:l.titleId}),C.jsx(y6,{contentRef:c,descriptionId:l.descriptionId})]})]})}),KE="DialogTitle",CN=E.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=jr(KE,t);return C.jsx(Ee.h2,{id:r.titleId,...i,ref:e})});CN.displayName=KE;var kN="DialogDescription",TN=E.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=jr(kN,t);return C.jsx(Ee.p,{id:r.descriptionId,...i,ref:e})});TN.displayName=kN;var _N="DialogClose",PN=E.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,r=jr(_N,t);return C.jsx(Ee.button,{type:"button",...i,ref:e,onClick:he(n.onClick,()=>r.onOpenChange(!1))})});PN.displayName=_N;function YE(n){return n?"open":"closed"}var RN="DialogTitleWarning",[v5,DN]=JO(RN,{contentName:iu,titleName:KE,docsSlug:"dialog"}),g6=({titleId:n})=>{const e=DN(RN),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},v6="DialogDescriptionWarning",y6=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DN(v6).contentName}}.`;return E.useEffect(()=>{var s;const r=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},x6=yN,w6=bN,MN=SN,LN=EN,NN=CN,FN=TN,b6=PN;const IN=x6,S6=w6,ON=E.forwardRef(({className:n,...e},t)=>C.jsx(MN,{ref:t,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));ON.displayName=MN.displayName;const QE=E.forwardRef(({className:n,children:e,...t},i)=>C.jsxs(S6,{children:[C.jsx(ON,{}),C.jsxs(LN,{ref:i,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,C.jsxs(b6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[C.jsx(pE,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QE.displayName=LN.displayName;const ZE=({className:n,...e})=>C.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});ZE.displayName="DialogHeader";const jN=({className:n,...e})=>C.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});jN.displayName="DialogFooter";const JE=E.forwardRef(({className:n,...e},t)=>C.jsx(NN,{ref:t,className:De("text-lg font-semibold leading-none tracking-tight",n),...e}));JE.displayName=NN.displayName;const BN=E.forwardRef(({className:n,...e},t)=>C.jsx(FN,{ref:t,className:De("text-sm text-muted-foreground",n),...e}));BN.displayName=FN.displayName;async function E6(n){const e=new FormData;n.forEach(i=>{e.append("pdfs",i)});const t=await fetch("/api/pdf/merge",{method:"POST",body:e});if(!t.ok)throw new Error("Failed to merge PDFs");return t.blob()}async function A6(n,e){const t=new FormData;t.append("pdf",n),e.forEach((r,s)=>{t.append(`additionalPdfs[${s}]`,r)});const i=await fetch("/api/pdf/append",{method:"POST",body:t});if(!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.error||"Failed to append PDFs")}return i.blob()}async function r1(n){const e=new FormData;e.append("pdf",n);const t=await fetch("/api/pdf/metadata",{method:"POST",body:e});if(!t.ok)throw new Error("Failed to get PDF metadata");return t.json()}async function Zk(n,e,t){const i=new FormData;i.append("pdf",n),i.append("pageIndices",JSON.stringify(e)),i.append("rotation",t.toString());const r=await fetch("/api/pdf/rotate",{method:"POST",body:i});if(!r.ok)throw new Error("Failed to rotate PDF pages");return r.blob()}async function C6(n,e){const t=new FormData;t.append("pdf",n),t.append("pageIndices",JSON.stringify(e));const i=await fetch("/api/pdf/delete-pages",{method:"POST",body:t});if(!i.ok)throw new Error("Failed to delete PDF pages");return i.blob()}async function k6(n,e){const t=new FormData;t.append("pdf",n),t.append("pageOrder",JSON.stringify(e));const i=await fetch("/api/pdf/reorder",{method:"POST",body:t});if(!i.ok)throw new Error("Failed to reorder PDF pages");return i.blob()}async function T6(n,e){const t=new FormData;t.append("pdf",n),t.append("pageNumber",e.toString());const i=await fetch("/api/pdf/extract-text-positions",{method:"POST",body:t});if(!i.ok)throw new Error("Failed to extract text with positions from PDF");return i.json()}async function _6(n,e,t){const i=new FormData;i.append("pdf",n),i.append("pageNumber",e.toString()),i.append("textReplacements",JSON.stringify(t));const r=await fetch("/api/pdf/replace-text-in-pdf",{method:"POST",body:i});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(s.error||"Failed to replace text in PDF")}return r.blob()}function El(n,e){const t=URL.createObjectURL(n),i=document.createElement("a");i.href=t,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}function P6({files:n,onAddMore:e,onDeleteFile:t,onMerge:i,onReorderFiles:r}){const[s,o]=E.useState(null),[l,c]=E.useState(null),[u,d]=E.useState(null),h=w=>{o(w)},f=()=>{o(null),c(null)},p=(w,g)=>{w.preventDefault(),c(g)},y=(w,g)=>{if(w.preventDefault(),!s||s===g){o(null),c(null);return}const x=n.findIndex(_=>_.id===s),b=n.findIndex(_=>_.id===g);if(x===-1||b===-1)return;const A=[...n],[T]=A.splice(x,1);A.splice(b,0,T),r(A),o(null),c(null)},m=w=>{El(w.file,w.name)};return C.jsxs("div",{className:"container mx-auto max-w-4xl p-6",children:[C.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-semibold",children:"Merge PDFs"}),C.jsx("p",{className:"text-muted-foreground mt-1",children:"Drag to reorder, then merge into a single PDF"})]}),C.jsxs(Ae,{onClick:e,variant:"outline","data-testid":"button-add-more",children:[C.jsx(tB,{className:"h-4 w-4 mr-2"}),"Add More"]})]}),C.jsx("div",{className:"space-y-4 mb-8",children:n.map(w=>C.jsx("div",{draggable:!0,onDragStart:()=>h(w.id),onDragEnd:f,onDragOver:g=>p(g,w.id),onDrop:g=>y(g,w.id),className:l===w.id&&s!==w.id?"border-t-2 border-primary":"",children:C.jsx(eH,{fileName:w.name,pageCount:w.pageCount,fileSize:w.size,pdfFile:w.file,onDelete:()=>t(w.id),onEdit:()=>d(w),onView:()=>d(w),onDownload:()=>m(w),isDragging:s===w.id})},w.id))}),n.length>1&&C.jsx("div",{className:"flex justify-center",children:C.jsxs(Ae,{size:"lg",onClick:i,"data-testid":"button-merge-pdfs",children:[C.jsx(Yj,{className:"h-5 w-5 mr-2"}),"Merge ",n.length," PDFs"]})}),C.jsx(IN,{open:!!u,onOpenChange:w=>!w&&d(null),children:C.jsxs(QE,{className:"max-w-6xl max-h-[90vh] h-[90vh] p-0 flex flex-col",children:[C.jsx(ZE,{className:"px-6 pt-6 pb-4 flex-shrink-0",children:C.jsx(JE,{children:u==null?void 0:u.name})}),C.jsx("div",{className:"flex-1 px-6 pb-6 min-h-0 overflow-hidden",children:u&&C.jsx("div",{className:"h-full",children:C.jsx(oN,{file:u.file,fileName:u.name,onDownload:()=>{u&&m(u)}})})})]})})]})}function R6(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var eA="Checkbox",[D6,y5]=Oo(eA),[M6,L6]=D6(eA),zN=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:i,checked:r,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=n,[f,p]=E.useState(null),y=gt(e,A=>p(A)),m=E.useRef(!1),w=f?d||!!f.closest("form"):!0,[g=!1,x]=Sg({prop:r,defaultProp:s,onChange:u}),b=E.useRef(g);return E.useEffect(()=>{const A=f==null?void 0:f.form;if(A){const T=()=>x(b.current);return A.addEventListener("reset",T),()=>A.removeEventListener("reset",T)}},[f,x]),C.jsxs(M6,{scope:t,state:g,disabled:l,children:[C.jsx(Ee.button,{type:"button",role:"checkbox","aria-checked":il(g)?"mixed":g,"aria-required":o,"data-state":HN(g),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onKeyDown:he(n.onKeyDown,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:he(n.onClick,A=>{x(T=>il(T)?!0:!T),w&&(m.current=A.isPropagationStopped(),m.current||A.stopPropagation())})}),w&&C.jsx(N6,{control:f,bubbles:!m.current,name:i,value:c,checked:g,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:il(s)?!1:s})]})});zN.displayName=eA;var $N="CheckboxIndicator",UN=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:i,...r}=n,s=L6($N,t);return C.jsx(ar,{present:i||il(s.state)||s.state===!0,children:C.jsx(Ee.span,{"data-state":HN(s.state),"data-disabled":s.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...n.style}})})});UN.displayName=$N;var N6=n=>{const{control:e,checked:t,bubbles:i=!0,defaultChecked:r,...s}=n,o=E.useRef(null),l=R6(t),c=zR(e);E.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==t&&p){const y=new Event("click",{bubbles:i});d.indeterminate=il(t),p.call(d,il(t)?!1:t),d.dispatchEvent(y)}},[l,t,i]);const u=E.useRef(il(t)?!1:t);return C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??u.current,...s,tabIndex:-1,ref:o,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function il(n){return n==="indeterminate"}function HN(n){return il(n)?"indeterminate":n?"checked":"unchecked"}var VN=zN,F6=UN;const WN=E.forwardRef(({className:n,...e},t)=>C.jsx(VN,{ref:t,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:C.jsx(F6,{className:De("flex items-center justify-center text-current"),children:C.jsx(Gj,{className:"h-4 w-4"})})}));WN.displayName=VN.displayName;typeof window<"u"&&!Ht.workerSrc&&(Ht.workerSrc=`https://unpkg.com/pdfjs-dist@${eu}/build/pdf.worker.min.mjs`);function I6({pageNumber:n,isSelected:e,onToggleSelect:t,pdfFile:i,isDragging:r=!1}){const[s,o]=E.useState(null),[l,c]=E.useState(!0),[u,d]=E.useState(!1);return E.useEffect(()=>{if(i){const h=URL.createObjectURL(i);return o(h),()=>{URL.revokeObjectURL(h)}}},[i]),C.jsxs(ew,{className:`relative cursor-pointer transition-all overflow-hidden ${e?"ring-2 ring-primary":""} ${r?"opacity-50 scale-95":"hover:scale-105"}`,onClick:t,"data-testid":`thumbnail-page-${n}`,children:[C.jsxs("div",{className:"aspect-[8.5/11] flex items-center justify-center bg-muted rounded-t-md overflow-hidden relative",children:[s&&!u?C.jsx("div",{className:"w-full h-full flex items-center justify-center p-1",children:C.jsx(lw,{file:s,loading:C.jsx("div",{className:"flex items-center justify-center h-full",children:C.jsx(qu,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),onLoadError:()=>{d(!0),c(!1)},children:C.jsx(dw,{pageNumber:n,scale:.3,renderTextLayer:!1,renderAnnotationLayer:!1,onLoadSuccess:()=>c(!1),onLoadError:()=>{d(!0),c(!1)},className:"shadow-sm"})})}):C.jsx(Xx,{className:"h-12 w-12 text-muted-foreground"}),l&&!u&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:C.jsx(qu,{className:"h-6 w-6 animate-spin text-muted-foreground"})})]}),C.jsxs("div",{className:"p-2 flex items-center justify-between",children:[C.jsxs(bD,{variant:"secondary",className:"text-xs",children:["Page ",n]}),C.jsx(WN,{checked:e,onCheckedChange:t,onClick:h=>h.stopPropagation(),"data-testid":`checkbox-page-${n}`})]})]})}function O6({selectedCount:n,onRotateLeft:e,onRotateRight:t,onDelete:i,onDownload:r}){const s=n>0;return C.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:C.jsxs("div",{className:"rounded-lg border bg-background/95 shadow-lg backdrop-blur supports-[backdrop-filter]:bg-background/80 p-2 flex items-center gap-2",children:[C.jsxs(Ae,{variant:"ghost",size:"default",disabled:!s,onClick:e,"data-testid":"button-rotate-left",children:[C.jsx(nB,{className:"h-4 w-4 mr-2"}),"Rotate Left"]}),C.jsxs(Ae,{variant:"ghost",size:"default",disabled:!s,onClick:t,"data-testid":"button-rotate-right",children:[C.jsx(iB,{className:"h-4 w-4 mr-2"}),"Rotate Right"]}),C.jsx("div",{className:"w-px h-8 bg-border mx-1"}),C.jsxs(Ae,{variant:"ghost",size:"default",disabled:!s,onClick:i,"data-testid":"button-delete-selected",children:[C.jsx(fE,{className:"h-4 w-4 mr-2 text-destructive"}),"Delete Selected"]}),C.jsx("div",{className:"w-px h-8 bg-border mx-1"}),C.jsxs(Ae,{variant:"default",size:"default",onClick:r,"data-testid":"button-download-pdf",children:[C.jsx(hE,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})})}var j6="Label",GN=E.forwardRef((n,e)=>C.jsx(Ee.label,{...n,ref:e,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));GN.displayName=j6;var qN=GN;const B6=qx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),uy=E.forwardRef(({className:n,...e},t)=>C.jsx(qN,{ref:t,className:De(B6(),n),...e}));uy.displayName=qN.displayName;const XN=E.forwardRef(({className:n,...e},t)=>C.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));XN.displayName="Textarea";if(typeof window<"u")try{Ht.workerSrc||(Ht.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${eu}/build/pdf.worker.min.mjs`)}catch(n){console.error("Error setting up PDF.js worker:",n);try{Ht.workerSrc=`https://unpkg.com/pdfjs-dist@${eu}/build/pdf.worker.min.mjs`}catch(e){console.error("Failed to set fallback worker:",e)}}function z6({file:n,pageNumber:e,isOpen:t,onClose:i,onSave:r}){const[s,o]=E.useState([]),[l,c]=E.useState(new Map),[u,d]=E.useState(null),[h,f]=E.useState(1.2),[p,y]=E.useState(0),[m,w]=E.useState(0),[g,x]=E.useState(!1),[b,A]=E.useState(!0),[T,_]=E.useState(!1),[P,R]=E.useState(null),D=E.useRef(null);E.useEffect(()=>{if(n&&t){const M=URL.createObjectURL(n);return R(M),o([]),c(new Map),d(null),f(1.2),A(!0),_(!0),T6(n,e).then(I=>{o(I.textItems),y(I.pageWidth),w(I.pageHeight),A(!1),_(!1)}).catch(I=>{console.error("Error extracting text:",I),alert(`Failed to extract text: ${I.message}`),A(!1),_(!1)}),()=>{URL.revokeObjectURL(M)}}else t||(o([]),c(new Map),d(null),P&&(URL.revokeObjectURL(P),R(null)))},[n,t,e]);const L=M=>{const I=M.getViewport({scale:1});p===0&&(y(I.width),w(I.height))},F=(M,I)=>{const W=(m-I)*h;return{x:M*h,y:W}},j=M=>{const I=s.find(W=>{var oe;const q=F(W.x,W.y),B=(oe=D.current)==null?void 0:oe.getBoundingClientRect();if(!B)return!1;const H=M.clientX-B.left,Y=M.clientY-B.top;return H>=q.x&&H<=q.x+W.width*h&&Y>=q.y&&Y<=q.y+W.height*h});I&&d(I.id)},$=(M,I)=>{const W=new Map(l);W.set(M,I),c(W)},N=M=>{const I=new Map(l);I.set(M,""),c(I),u===M&&d(null)},U=async()=>{if(l.size===0){i();return}x(!0);try{const M=s.filter(q=>l.has(q.id)).map(q=>{const B=l.get(q.id)||"";return{oldText:q.text,newText:B,oldBounds:{x:q.x,y:q.y,width:q.width,height:q.height},x:q.x,y:q.y,fontSize:q.fontSize,fontFamily:q.fontFamily,fontStyle:q.fontStyle,color:q.color,alignment:"left",lineSpacing:1,width:q.width}}),I=await _6(n,e,M),W=new File([I],n.name,{type:"application/pdf"});await r(W),i()}catch(M){console.error("Error saving PDF:",M),alert(`Failed to save PDF: ${M instanceof Error?M.message:"Please try again."}`)}finally{x(!1)}},O=s.find(M=>M.id===u),z=O?l.get(O.id)??O.text:"";return C.jsx(IN,{open:t,onOpenChange:i,children:C.jsxs(QE,{className:"max-w-7xl max-h-[90vh] p-0 flex flex-col",children:[C.jsxs(ZE,{className:"px-6 pt-6 pb-4 flex-shrink-0",children:[C.jsxs(JE,{children:["Edit Text - Page ",e]}),C.jsx(BN,{children:"Click on the canvas to add text boxes, or click existing text to edit"})]}),C.jsxs("div",{className:"flex-1 px-6 pb-6 min-h-0 overflow-hidden flex gap-4",children:[C.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("div",{className:"flex items-center gap-2",children:C.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.length," text item",s.length!==1?"s":""," extracted",l.size>0&&`  ${l.size} edited`]})}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{const M=Math.max(.5,h-.1);f(M)},title:"Zoom out",children:C.jsx(yR,{className:"h-4 w-4"})}),C.jsxs("span",{className:"text-sm font-medium w-16 text-center",children:[Math.round(h*100),"%"]}),C.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>{const M=Math.min(3,h+.1);f(M)},title:"Zoom in",children:C.jsx(vR,{className:"h-4 w-4"})})]})]}),C.jsx("div",{className:"flex-1 border rounded-lg overflow-auto bg-muted/30 p-4",children:P&&C.jsxs("div",{ref:D,className:"relative inline-block cursor-crosshair",onClick:j,children:[T?C.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[C.jsx(qu,{className:"h-6 w-6 animate-spin text-muted-foreground"}),C.jsx("span",{className:"ml-2 text-muted-foreground mt-2",children:"Extracting text from PDF..."})]}):C.jsx(lw,{file:P,loading:C.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[C.jsx(qu,{className:"h-6 w-6 animate-spin text-muted-foreground"}),C.jsx("span",{className:"ml-2 text-muted-foreground mt-2",children:"Loading PDF..."})]}),children:C.jsx(dw,{pageNumber:e,scale:h,renderTextLayer:!1,renderAnnotationLayer:!1,onLoadSuccess:L,className:"shadow-lg"})}),s.map(M=>{const I=F(M.x,M.y),W=l.get(M.id),q=W!==void 0?W:M.text,B=W==="",H=W!==void 0&&W!==M.text;return C.jsx("div",{className:`absolute border-2 rounded p-1 cursor-pointer transition-all ${u===M.id?"border-primary ring-2 ring-primary bg-white/95 z-10":H?"border-blue-400 bg-blue-50/90 hover:bg-blue-100 z-5":"border-gray-300 bg-white/90 hover:bg-white hover:border-primary z-0"} ${B?"opacity-50 line-through":""}`,style:{left:`${I.x}px`,top:`${I.y}px`,minWidth:`${Math.max(M.width||100,q.length*M.fontSize*.6)*h}px`,minHeight:`${Math.max(20,M.height)*h}px`},onClick:Y=>{Y.stopPropagation(),d(M.id)},children:C.jsxs("div",{className:"flex items-center justify-between gap-2 h-full",children:[C.jsx("span",{className:`text-xs whitespace-pre-wrap overflow-hidden ${M.fontStyle.includes("bold")&&M.fontStyle.includes("italic")?"font-bold italic":M.fontStyle.includes("bold")?"font-bold":M.fontStyle.includes("italic")?"italic":M.fontStyle.includes("underline")?"underline":""}`,style:{fontSize:`${M.fontSize*h}px`,color:B?"#999":`rgb(${M.color[0]}, ${M.color[1]}, ${M.color[2]})`,fontFamily:M.fontFamily},children:B?"(deleted)":q||"Empty"}),H&&C.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Edited"}),C.jsx(Ae,{variant:"ghost",size:"icon",className:"h-5 w-5 flex-shrink-0",onClick:Y=>{Y.stopPropagation(),N(M.id)},children:C.jsx(pE,{className:"h-3 w-3"})})]})},M.id)})]})})]}),O&&C.jsx("div",{className:"w-96 border rounded-lg p-4 bg-card flex-shrink-0 overflow-y-auto",children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx(uy,{children:"Original Text"}),C.jsx("div",{className:"mt-2 p-2 bg-muted rounded text-sm text-muted-foreground",children:O.text})]}),C.jsxs("div",{children:[C.jsx(uy,{children:"Edit Text"}),C.jsx(XN,{value:z,onChange:M=>$(O.id,M.target.value),className:"mt-2 min-h-[100px]",placeholder:"Enter new text..."}),C.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.has(O.id)?"This text has been edited":"Edit the text above to replace it in the PDF"})]}),C.jsxs("div",{className:"border-t pt-4",children:[C.jsx(uy,{className:"text-sm font-semibold",children:"Text Properties"}),C.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Font:"}),C.jsx("span",{children:O.fontFamily})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Size:"}),C.jsxs("span",{children:[O.fontSize,"pt"]})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Style:"}),C.jsx("span",{children:O.fontStyle||"normal"})]}),C.jsxs("div",{className:"flex justify-between",children:[C.jsx("span",{className:"text-muted-foreground",children:"Position:"}),C.jsxs("span",{children:["(",Math.round(O.x),", ",Math.round(O.y),")"]})]})]})]}),C.jsxs(Ae,{variant:"destructive",size:"sm",onClick:()=>N(O.id),className:"w-full",children:[C.jsx(fE,{className:"h-4 w-4 mr-2"}),"Delete Text"]})]})})]}),C.jsxs(jN,{className:"px-6 pb-6 flex-shrink-0",children:[C.jsx(Ae,{variant:"outline",onClick:i,disabled:g,children:"Cancel"}),C.jsx(Ae,{onClick:U,disabled:g||b,children:g?C.jsxs(C.Fragment,{children:[C.jsx(qu,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}function $6({fileName:n,pages:e,onBack:t,pdfFile:i,onPDFUpdated:r}){const[s,o]=E.useState(new Set),[l,c]=E.useState(!1),[u,d]=E.useState(e),[h,f]=E.useState(i),[p,y]=E.useState("grid"),[m,w]=E.useState(null),[g,x]=E.useState(null),[b,A]=E.useState(null),T=E.useRef(null),{toast:_}=aE(),P=B=>{const H=new Set(s);H.has(B)?H.delete(B):H.add(B),o(H)},R=()=>Array.from(s).map(B=>{const H=u.find(Y=>Y.id===B);return H?H.pageNumber-1:-1}).filter(B=>B>=0),D=async(B,H)=>{const Y=new File([B],H,{type:"application/pdf"});try{const oe=await r1(Y),ae=Array.from({length:oe.pageCount},(ve,Ot)=>({id:`page-${Date.now()}-${Ot+1}`,pageNumber:Ot+1}));f(Y),d(ae),r(Y,oe.pageCount)}catch(oe){console.error("Error updating page metadata:",oe)}},L=async()=>{const B=R();if(B.length!==0){c(!0);try{const H=await Zk(h,B,-90),Y=`${n.replace(".pdf","")}_rotated.pdf`;await D(H,Y),El(H,Y),o(new Set),_({title:"Success!",description:`Rotated ${B.length} page(s) left`})}catch{_({title:"Rotation failed",description:"Failed to rotate PDF pages",variant:"destructive"})}finally{c(!1)}}},F=async()=>{const B=R();if(B.length!==0){c(!0);try{const H=await Zk(h,B,90),Y=`${n.replace(".pdf","")}_rotated.pdf`;await D(H,Y),El(H,Y),o(new Set),_({title:"Success!",description:`Rotated ${B.length} page(s) right`})}catch{_({title:"Rotation failed",description:"Failed to rotate PDF pages",variant:"destructive"})}finally{c(!1)}}},j=async()=>{const B=R();if(B.length!==0){if(B.length>=u.length){_({title:"Cannot delete all pages",description:"PDF must have at least one page",variant:"destructive"});return}c(!0);try{const H=await C6(h,B),Y=`${n.replace(".pdf","")}_edited.pdf`;await D(H,Y),El(H,Y),o(new Set),_({title:"Success!",description:`Deleted ${B.length} page(s)`})}catch{_({title:"Deletion failed",description:"Failed to delete PDF pages",variant:"destructive"})}finally{c(!1)}}},$=()=>{El(h,n),_({title:"Downloaded",description:"PDF downloaded successfully"})},N=B=>{x(B)},U=()=>{x(null),A(null)},O=(B,H)=>{B.preventDefault(),g&&g!==H&&A(H)},z=async(B,H)=>{if(B.preventDefault(),!g||g===H){x(null),A(null);return}const Y=u.findIndex(se=>se.id===g),oe=u.findIndex(se=>se.id===H);if(Y===-1||oe===-1){x(null),A(null);return}const ae=[...u],[ve]=ae.splice(Y,1);ae.splice(oe,0,ve);const Ot=ae.map(se=>se.pageNumber),kt=ae.map((se,qe)=>({...se,pageNumber:qe+1}));d(kt),c(!0);try{const se=await k6(h,Ot),qe=`${n.replace(".pdf","")}_reordered.pdf`;await D(se,qe),El(se,qe),_({title:"Success!",description:"Pages reordered successfully"})}catch{d(e),_({title:"Reordering failed",description:"Failed to reorder PDF pages",variant:"destructive"})}finally{c(!1),x(null),A(null)}},M=B=>{w(B)},I=async B=>{try{const H=await r1(B),Y=Array.from({length:H.pageCount},(oe,ae)=>({id:`page-${Date.now()}-${ae+1}`,pageNumber:ae+1}));f(B),d(Y),r(B,H.pageCount),_({title:"Success!",description:"Text updated successfully"})}catch(H){console.error("Error updating file:",H),_({title:"Error",description:"Failed to update PDF",variant:"destructive"})}},W=()=>{var B;(B=T.current)==null||B.click()},q=async B=>{const H=B.target.files;if(!H||H.length===0)return;const Y=Array.from(H).filter(oe=>oe.type==="application/pdf");if(Y.length===0){_({title:"Invalid files",description:"Please select PDF files only",variant:"destructive"});return}c(!0);try{const oe=await A6(h,Y),ae=`${n.replace(".pdf","")}_merged.pdf`;await D(oe,ae),_({title:"Success!",description:`Added ${Y.length} PDF file(s) to the document`})}catch(oe){console.error("Error appending PDFs:",oe),_({title:"Failed to add PDFs",description:oe instanceof Error?oe.message:"Failed to append PDFs",variant:"destructive"})}finally{c(!1),T.current&&(T.current.value="")}};return C.jsxs("div",{className:"container mx-auto p-6",children:[C.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx(Ae,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-back",children:C.jsx(Wj,{className:"h-5 w-5"})}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-semibold",children:n}),C.jsx("p",{className:"text-muted-foreground mt-1",children:p==="grid"?"Drag pages to reorder, or select pages to rotate/delete":"View your PDF document"})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs(Ae,{variant:"outline",size:"sm",onClick:W,disabled:l,children:[C.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Add PDFs"]}),C.jsxs(Ae,{variant:p==="grid"?"default":"outline",size:"sm",onClick:()=>y("grid"),children:[C.jsx(Zj,{className:"h-4 w-4 mr-2"}),"Thumbnails"]}),C.jsxs(Ae,{variant:p==="viewer"?"default":"outline",size:"sm",onClick:()=>y("viewer"),children:[C.jsx(mR,{className:"h-4 w-4 mr-2"}),"Viewer"]})]})]}),p==="grid"?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-24",children:u.map(B=>C.jsxs("div",{className:"relative group",draggable:!0,onDragStart:()=>N(B.id),onDragEnd:U,onDragOver:H=>O(H,B.id),onDrop:H=>z(H,B.id),children:[C.jsx(I6,{pageNumber:B.pageNumber,isSelected:s.has(B.id),onToggleSelect:()=>P(B.id),pdfFile:h,isDragging:g===B.id}),C.jsx("div",{className:`absolute inset-0 border-2 border-dashed rounded-lg transition-all ${b===B.id?"border-primary bg-primary/10":"border-transparent"}`}),C.jsx(Ae,{variant:"secondary",size:"sm",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:H=>{H.stopPropagation(),M(B.pageNumber)},title:"Edit text",children:C.jsx(gR,{className:"h-3 w-3"})}),g===B.id&&C.jsx("div",{className:"absolute inset-0 bg-primary/20 border-2 border-primary rounded-lg pointer-events-none"})]},B.id))}),C.jsx(O6,{selectedCount:s.size,onRotateLeft:L,onRotateRight:F,onDelete:j,onDownload:$})]}):C.jsx("div",{className:"mb-6",children:C.jsx("div",{className:"h-[calc(100vh-300px)] min-h-[600px]",children:C.jsx(oN,{file:h,fileName:n,onDownload:$})})}),l&&C.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:C.jsx("div",{className:"bg-card p-6 rounded-lg shadow-lg",children:C.jsx("p",{className:"text-lg font-medium",children:"Processing PDF..."})})}),m&&C.jsx(z6,{file:h,pageNumber:m,isOpen:!!m,onClose:()=>w(null),onSave:I}),C.jsx("input",{ref:T,type:"file",accept:".pdf,application/pdf",multiple:!0,onChange:q,className:"hidden"})]})}var Eb="rovingFocusGroup.onEntryFocus",U6={bubbles:!1,cancelable:!0},mw="RovingFocusGroup",[s1,KN,H6]=HP(mw),[V6,YN]=Oo(mw,[H6]),[W6,G6]=V6(mw),QN=E.forwardRef((n,e)=>C.jsx(s1.Provider,{scope:n.__scopeRovingFocusGroup,children:C.jsx(s1.Slot,{scope:n.__scopeRovingFocusGroup,children:C.jsx(q6,{...n,ref:e})})}));QN.displayName=mw;var q6=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=n,f=E.useRef(null),p=gt(e,f),y=UE(s),[m=null,w]=Sg({prop:o,defaultProp:l,onChange:c}),[g,x]=E.useState(!1),b=Ft(u),A=KN(t),T=E.useRef(!1),[_,P]=E.useState(0);return E.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(Eb,b),()=>R.removeEventListener(Eb,b)},[b]),C.jsx(W6,{scope:t,orientation:i,dir:y,loop:r,currentTabStopId:m,onItemFocus:E.useCallback(R=>w(R),[w]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>P(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>P(R=>R-1),[]),children:C.jsx(Ee.div,{tabIndex:g||_===0?-1:0,"data-orientation":i,...h,ref:p,style:{outline:"none",...n.style},onMouseDown:he(n.onMouseDown,()=>{T.current=!0}),onFocus:he(n.onFocus,R=>{const D=!T.current;if(R.target===R.currentTarget&&D&&!g){const L=new CustomEvent(Eb,U6);if(R.currentTarget.dispatchEvent(L),!L.defaultPrevented){const F=A().filter(O=>O.focusable),j=F.find(O=>O.active),$=F.find(O=>O.id===m),U=[j,$,...F].filter(Boolean).map(O=>O.ref.current);e2(U,d)}}T.current=!1}),onBlur:he(n.onBlur,()=>x(!1))})})}),ZN="RovingFocusGroupItem",JN=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:r=!1,tabStopId:s,...o}=n,l=tp(),c=s||l,u=G6(ZN,t),d=u.currentTabStopId===c,h=KN(t),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return E.useEffect(()=>{if(i)return f(),()=>p()},[i,f,p]),C.jsx(s1.ItemSlot,{scope:t,id:c,focusable:i,active:r,children:C.jsx(Ee.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:he(n.onMouseDown,y=>{i?u.onItemFocus(c):y.preventDefault()}),onFocus:he(n.onFocus,()=>u.onItemFocus(c)),onKeyDown:he(n.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const m=Y6(y,u.orientation,u.dir);if(m!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let g=h().filter(x=>x.focusable).map(x=>x.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const x=g.indexOf(y.currentTarget);g=u.loop?Q6(g,x+1):g.slice(x+1)}setTimeout(()=>e2(g))}})})})});JN.displayName=ZN;var X6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function K6(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Y6(n,e,t){const i=K6(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return X6[i]}function e2(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function Q6(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var Z6=QN,J6=JN,tA="Tabs",[e5,x5]=Oo(tA,[YN]),t2=YN(),[t5,nA]=e5(tA),n2=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=n,d=UE(l),[h,f]=Sg({prop:i,onChange:r,defaultProp:s});return C.jsx(t5,{scope:t,baseId:tp(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:C.jsx(Ee.div,{dir:d,"data-orientation":o,...u,ref:e})})});n2.displayName=tA;var i2="TabsList",r2=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...r}=n,s=nA(i2,t),o=t2(t);return C.jsx(Z6,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:C.jsx(Ee.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});r2.displayName=i2;var s2="TabsTrigger",o2=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:r=!1,...s}=n,o=nA(s2,t),l=t2(t),c=c2(o.baseId,i),u=u2(o.baseId,i),d=i===o.value;return C.jsx(J6,{asChild:!0,...l,focusable:!r,active:d,children:C.jsx(Ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...s,ref:e,onMouseDown:he(n.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(i):h.preventDefault()}),onKeyDown:he(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(i)}),onFocus:he(n.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!r&&h&&o.onValueChange(i)})})})});o2.displayName=s2;var a2="TabsContent",l2=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:r,children:s,...o}=n,l=nA(a2,t),c=c2(l.baseId,i),u=u2(l.baseId,i),d=i===l.value,h=E.useRef(d);return E.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),C.jsx(ar,{present:r||d,children:({present:f})=>C.jsx(Ee.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});l2.displayName=a2;function c2(n,e){return`${n}-trigger-${e}`}function u2(n,e){return`${n}-content-${e}`}var n5=n2,d2=r2,h2=o2,f2=l2;const i5=n5,p2=E.forwardRef(({className:n,...e},t)=>C.jsx(d2,{ref:t,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));p2.displayName=d2.displayName;const o1=E.forwardRef(({className:n,...e},t)=>C.jsx(h2,{ref:t,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));o1.displayName=h2.displayName;const a1=E.forwardRef(({className:n,...e},t)=>C.jsx(f2,{ref:t,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));a1.displayName=f2.displayName;function r5(){const[n,e]=E.useState([]),[t,i]=E.useState("upload"),[r,s]=E.useState(null),[o,l]=E.useState("merge"),[c,u]=E.useState(!1),{toast:d}=aE(),h=async b=>{u(!0);try{const A=await Promise.all(b.map(async(T,_)=>{try{const P=await r1(T);return{id:`${Date.now()}-${_}`,name:T.name,pageCount:P.pageCount,size:`${(T.size/1048576).toFixed(1)} MB`,file:T}}catch(P){return console.error("Error loading PDF metadata:",P),{id:`${Date.now()}-${_}`,name:T.name,pageCount:1,size:`${(T.size/1048576).toFixed(1)} MB`,file:T}}}));e(T=>[...T,...A]),A.length>0&&(i(A.length>1?"merge":"edit"),A.length===1&&(s(A[0]),l("edit"))),d({title:"Files uploaded",description:`${A.length} PDF file(s) loaded successfully`})}catch{d({title:"Upload failed",description:"Failed to process PDF files",variant:"destructive"})}finally{u(!1)}},f=b=>{e(A=>{const T=A.filter(_=>_.id!==b);return T.length===0&&i("upload"),T})},p=b=>{e(b)},y=b=>{s(b),i("edit"),l("edit")},m=()=>{s(null),i(n.length>1?"merge":"upload"),l("merge")},w=async()=>{if(n.length<2){d({title:"Not enough files",description:"Please upload at least 2 PDF files to merge",variant:"destructive"});return}u(!0);try{const b=await E6(n.map(A=>A.file));El(b,"merged.pdf"),d({title:"Success!",description:"PDFs merged successfully"})}catch{d({title:"Merge failed",description:"Failed to merge PDF files",variant:"destructive"})}finally{u(!1)}},g=(b,A)=>{if(!r)return;const T={...r,file:b,pageCount:A,size:`${(b.size/(1024*1024)).toFixed(1)} MB`};s(T),e(_=>_.map(P=>P.id===r.id?T:P))},x=r?Array.from({length:r.pageCount},(b,A)=>({id:`${r.id}-page-${A+1}`,pageNumber:A+1})):[];return C.jsxs("div",{className:"min-h-screen bg-background",children:[C.jsx(y3,{}),c&&C.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:C.jsx("div",{className:"bg-card p-6 rounded-lg shadow-lg",children:C.jsx("p",{className:"text-lg font-medium",children:"Processing..."})})}),t==="upload"&&C.jsx(y4,{onFilesAccepted:h}),t==="merge"&&n.length>0&&C.jsx("div",{className:"py-6",children:C.jsxs(i5,{value:o,onValueChange:b=>l(b),className:"w-full",children:[C.jsx("div",{className:"container mx-auto max-w-4xl px-6",children:C.jsxs(p2,{className:"mb-6",children:[C.jsx(o1,{value:"merge","data-testid":"tab-merge",children:"Merge PDFs"}),C.jsx(o1,{value:"edit","data-testid":"tab-edit",children:"Edit PDF"})]})}),C.jsx(a1,{value:"merge",children:C.jsx(P6,{files:n,onAddMore:()=>{var b;return(b=document.querySelector('[data-testid="input-file-upload"]'))==null?void 0:b.click()},onDeleteFile:f,onMerge:w,onReorderFiles:p})}),C.jsx(a1,{value:"edit",children:n.length>0&&C.jsx("div",{className:"container mx-auto max-w-4xl px-6",children:C.jsxs("div",{className:"mb-6",children:[C.jsx("h3",{className:"text-lg font-medium mb-4",children:"Select a PDF to edit:"}),C.jsx("div",{className:"grid gap-3",children:n.map(b=>C.jsx("div",{className:"flex items-center justify-between p-4 rounded-lg border cursor-pointer hover-elevate",onClick:()=>y(b),"data-testid":`select-file-${b.name}`,children:C.jsxs("div",{children:[C.jsx("p",{className:"font-medium",children:b.name}),C.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.pageCount," pages  ",b.size]})]})},b.id))})]})})})]})}),t==="edit"&&r&&C.jsx($6,{fileName:r.name,pages:x,onBack:m,pdfFile:r.file,onPDFUpdated:g})]})}function s5(){return C.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:C.jsx(ew,{className:"w-full max-w-md mx-4",children:C.jsxs(wD,{className:"pt-6",children:[C.jsxs("div",{className:"flex mb-4 gap-2",children:[C.jsx(Kj,{className:"h-8 w-8 text-red-500"}),C.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function o5(){return C.jsxs(wO,{children:[C.jsx(EC,{path:"/",component:r5}),C.jsx(EC,{component:s5})]})}function a5(){return C.jsx(VO,{client:qO,children:C.jsxs(p3,{children:[C.jsx($B,{}),C.jsx(o5,{})]})})}SP(document.getElementById("root")).render(C.jsx(a5,{}));
